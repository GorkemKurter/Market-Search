(()=>{var e={107:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.handler=void 0;const n={basket:["cheapest-item","ratio","quantity"],popup:["cheapest-item","ratio","quantity"]};function r(e,t,r,i){const{slots:a,products:s}=function(e){const t=[],n={};for(let r=0;r<e.length;r++){const o=[];for(let t=0;t<e[r].length;t++)o.push(e[r][t].sku),void 0===n[e[r][t].sku]&&(n[e[r][t].sku]=Object.assign({},e[r][t]));t.push(o)}return{slots:t,products:n}}([...i.accessories]);let u={};if(i.discounts){let a=[];if(i.discounts.accessory){const e=i.discounts.accessory.map((e=>Object.assign(Object.assign({},e),{applyTo:"accessory"})));a.push(...e)}if(i.discounts.host){const t=i.discounts.host.map((t=>Object.assign(Object.assign({},t),{matchList:[e],applyTo:"host"})));a.push(...t)}if(i.discounts.bundle){const e=i.discounts.bundle.map((e=>Object.assign(Object.assign({},e),{matchList:["bundleTotal"],applyTo:"bundleTotal"})));a.push(...e)}u=Object.assign(Object.assign({},u),function(e,t,r){const i={},a=t.toLowerCase(),s=null==r?void 0:r.toLowerCase();for(let t=0;t<e.length;t++){const r=o(e[t].bundleState),u=e[t].matchList;for(let o=0;o<u.length;o++){const c=u[o];r.forEach((r=>{var o,u;if(a.includes("basket")||"popup"===s){const r=a.includes("basket")?"basket":s;if(!(null===(o=e[t].positionToDisplay)||void 0===o?void 0:o.includes(r))||n[r].includes((e[t].matchConstraint||{}).type)||"accessory"!==e[t].applyTo)return}else if(e[t].positionToDisplay)return;const l=Object.assign(Object.assign({},e[t].tags.price),{priority:e[t].priority,applyTo:e[t].applyTo,applyStrategy:e[t].matchConstraint||{type:"default"},discountId:e[t].discountId,isStrict:e[t].isStrict});if(void 0!==e[t].message&&(l.message=e[t].message),null===r){if(void 0===i[c])i[c]={};else if(i[c].priority>e[t].priority)return;i[c]=l}else{if(void 0===i[r])i[r]={};else if((null===(u=i[r][c])||void 0===u?void 0:u.priority)>e[t].priority)return;i[r][c]=l}}))}}return i}([...a],t,r))}let c=[];return i.messages&&(c=i.messages),{slots:a,discounts:u,assistantMessages:c,products:s}}function o(e){let t=[null];if(!0!==e){t=e[0];for(let n=1;n<e.length;n++){const r=[];e[n].forEach((e=>{t.forEach((t=>{r.push(`${t} | ${e}`)}))})),t=[...r]}}return t}t.handler=e=>{const t={products:{},bundles:{},variations:{}};if(e.bundles&&e.bundles.hosts){!function(e){for(const t in e)e[t].forEach((e=>{e.accessories.forEach((e=>{e.forEach((e=>{e.hostSku=t}))}))}))}(e.bundles.accessories),-1!==e.pageName.toLowerCase().search("basket")?(function(e){const t=e.bundles.hosts.map((e=>e.sku));for(let n=0;n<e.bundles.hosts.length;n++){const r=e.bundles.hosts[n].sku;for(let n=0;n<e.bundles.accessories[r].length;n++)e.bundles.accessories[r][n].accessories=e.bundles.accessories[r][n].accessories.filter((e=>!e.find((e=>t.includes(e.sku)))))}}(e),function(e){const t=function(e){const t=[];for(let n=0;n<e.bundles.hosts.length;n++){const r=e.bundles.hosts[n].sku;for(let n=0;n<e.bundles.accessories[r].length;n++)t.push(e.bundles.accessories[r][n].accessories)}return t}(e),n=function(e){for(let t=0;t<e.length-1;t++){const{sku:n}=e[t][0];for(let r=1+t;r<e.length;r++)e[r]=e[r].filter((e=>e.sku!==n)),0===e[r].length&&e.splice(r--,1)}return e}(function(e){const t=[],n=Math.max(...e.map((e=>e.length)));for(let r=0;r<n;r++)for(let n=0;n<e.length;n++){const r=e[n].shift();r&&t.push(r)}return t}(t));for(let t=0;t<e.bundles.hosts.length;t++){const r=e.bundles.hosts[t].sku;for(let t=0;t<e.bundles.accessories[r].length;t++)e.bundles.accessories[r][t].accessories=n}}(e)):-1!==e.pageName.toLowerCase().search("pdp")&&void 0!==e.skusInCart&&function(e){for(let t=0;t<e.bundles.hosts.length;t++){const n=e.bundles.hosts[t].sku;for(let t=0;t<e.bundles.accessories[n].length;t++)e.bundles.accessories[n][t].accessories=e.bundles.accessories[n][t].accessories.filter((t=>!t.find((t=>e.skusInCart.includes(t.sku)))))}}(e);for(let n=0;n<e.bundles.hosts.length;n++){const o=e.bundles.hosts[n].sku;void 0===t.products[o]&&(t.products[o]=Object.assign({},e.bundles.hosts[n])),void 0===t.bundles[o]&&(t.bundles[o]=[]);for(let n=0;n<e.bundles.accessories[o].length;n++){const{slots:i,discounts:a,assistantMessages:s,products:u}=r(o,e.pageName,e.uiPosition,Object.assign({},e.bundles.accessories[o][n]));t.products=Object.assign(Object.assign({},t.products),u),t.bundles[o].push({slots:i,discounts:a,assistantMessages:s})}if(e.extraAccessory&&(1===t.bundles[o].length&&(t.bundles[o].push(Object.assign({},t.bundles[o][0])),t.bundles[o].push(Object.assign({},t.bundles[o][0]))),void 0!==t.bundles[o][0]&&void 0!==t.bundles[o][0].slots&&t.bundles[o][0].slots.length<6&&(t.bundles[o][0].slots=Array(6).fill(t.bundles[o][0].slots[0]))),e.parentSkus&&e.parentSkus.length>0){const r=e.bundles.hosts[n].parentSku;t.products[r]=t.products[o],t.bundles[r]=t.bundles[o]}}}return t}},272:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(e,t,n,r,o,i,a){try{var s=e[i](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,o)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function s(e){o(a,r,i,s,u,"next",e)}function u(e){o(a,r,i,s,u,"throw",e)}s(void 0)}))}}n(793);var a=function(){var e=i(regeneratorRuntime.mark((function e(t,n){var r,o,i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=new Object,window.swogo.getFeatureFlags().bundles){e.next=3;break}return e.abrupt("return",Promise.resolve({errors:[{configuration:"Retrieve bundles feature is disabled on the Swogo configuration file"}]}));case 3:if(!((o=l(t)).length>0)){e.next=6;break}throw new Error("The request object is not valid. Errors: ".concat(JSON.stringify(o)));case 6:return i=s(t),e.next=9,u(i,t.client);case 9:return a=e.sent,r.rawBundles=JSON.parse(decodeURIComponent(window.atob(a))),r.apiResponse=!0,e.abrupt("return",r);case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),s=function(e){return window.btoa(encodeURIComponent(JSON.stringify(e)))},u=function(){var e=i(regeneratorRuntime.mark((function e(t){var n,r,o,i=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]?i[1]:void 0,r=window.swogo.getPolyCategories(),c(r)){e.next=6;break}o=s({errors:{configuration:"host category not active ( ".concat(JSON.stringify(r)," )")},hosts:[],options:[],accessories:{},timestamp:Date.now()}),e.next=10;break;case 6:if(!n){e.next=10;break}return e.next=9,window.swogo.fetch("".concat("https://api.swogo.net/").concat(n,"/").concat(t),{method:"GET"}).then((function(e){return e.text()}));case 9:o=e.sent;case 10:return e.abrupt("return",o);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c=function(e){var t=window.swogo.getActiveCategories();return!e.length||!t.length||e.some((function(e){return t.includes(e)}))},l=function(e){var t=[];return void 0!==e.client&&"string"==typeof e.client||t.push('Expected the client name to be a "string" but got "'.concat(r(e.client),'"')),void 0!==e.assistant&&"string"!=typeof e.assistant&&t.push('Expected the assistant name to be a "string" but got "'.concat(r(e.assistant),'"')),void 0===e.filters||"object"===r(e.filters)&&e.filters.constructor===Object||t.push('Expected the filters to be an "object" but got "'.concat(r(e.filters),'"')),void 0!==e.matching&&"string"!=typeof e.matching&&t.push('Expected the matching to be a "string" but got "'.concat(r(e.matching),'"')),void 0!==e.skus&&Array.isArray(e.skus)||t.push('Expected the skus to be an "array" but got "'.concat(r(e.skus),'"')),void 0!==e.type&&"string"!=typeof e.type&&t.push('Expected the type to be a "string" but got "'.concat(r(e.type),'"')),void 0===e.tags||Array.isArray(e.tags)||t.push('Expected the tags to be an "array" but got "'.concat(r(e.tags),'"')),void 0!==e.configuration&&"string"!=typeof e.configuration&&t.push('Expected the configuration to be an "string" but got "'.concat(r(e.configuration),'"')),void 0===e.discountConfig||Array.isArray(e.discountConfig)||t.push('Expected the discountConfig to be an "array" but got "'.concat(r(e.discountConfig),'"')),t};e.exports={getResponse:a,encodeObject:s,fetchBundles:u,isValidCategory:c}},106:(e,t,n)=>{function r(e,t,n,r,o,i,a){try{var s=e[i](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,o)}var o=n(107).handler,i=n(763),a=n(112).CustomerProductData;function s(e,t){var n=window.swogo.getDependencyMethod("getSkus")().find((function(t){return t.sku===e}));if(void 0!==n&&!Number.isNaN(n.price)&&(!window.swogo.getDependencyMethod("shouldScrapePrice")||window.swogo.getDependencyMethod("shouldScrapePrice")()))return 0===Math.abs(t-n.price)?void 0:n.price}e.exports.default=function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var n,r,u,c,l,d,f,p;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.swogo.getDependencyMethod("getSortedProducts")&&t.bundles.hosts.length>1&&(n=window.swogo.getDependencyMethod("getSortedProducts")(t.bundles.hosts),t.bundles.hosts=n),r={extraAccessory:!1,skusInCart:window.swogoDependenciesPolly.getProductsAddedToBasket?window.swogoDependenciesPolly.getProductsAddedToBasket():[],parentSkus:window.swogo.getDependencyMethod("getParentSkus")?window.swogo.getDependencyMethod("getParentSkus")():[]},u=Object.assign(t,r),c=o(u),window.swogoAPI.enhancedBundles=c,l=Object.getOwnPropertyNames(c.bundles),void 0!==(d=c.products[l])&&(void 0===window.swogo.getFeatureFlags().isToUsePDPHostPrice||window.swogo.getFeatureFlags().isToUsePDPHostPrice)&&void 0!==(f=s(d.sku,d.price))&&(d.rrPrice=f,d.price=f,d.priceWasScraped=!0),p=window.swogo.getFeatureFlags().updateAfterRender,void 0===window.swogoProductApiPolly||void 0===window.swogoProductApiPolly.getProductInformation||p){e.next=12;break}return e.next=12,a.updateProductData({products:c.products,bundles:c.bundles});case 12:return e.abrupt("return",i.createUiManager(c,t.containerId,t.uiPosition));case 13:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(o,i){var a=e.apply(t,n);function s(e){r(a,o,i,s,u,"next",e)}function u(e){r(a,o,i,s,u,"throw",e)}s(void 0)}))});return function(e){return t.apply(this,arguments)}}()},62:(e,t,n)=>{"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n.r(t),n.d(t,{MeetRequirements:()=>s});var o=n(739).Logger,i=n(423).ValidatePolyfill,a=n(907).ValidateElements,s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n;return t=e,n=[{key:"meetsDependenciesWrapper",value:function(e){return!!window.swogo.dependencyWrapperDefined()||(o.handleLog({type:"error",payload:"The window.swogoDependencies wrapper object must be defined",supressLogTracking:e}),!1)}},{key:"meetsGetPage",value:function(e){return i.validGetPage(e)}},{key:"meetsGetSkus",value:function(e,t){var n=i.validGetSkus(e,t);return window.swogo.getBundlePages().includes(e.split("-")[0])&&(n=[n,i.validAddToCart(t)].every(Boolean)),n}},{key:"meetsGetOrderId",value:function(e,t){return!0===window.swogo.getFeatureFlags().waitForPayment||!e.toLowerCase().includes("payment")||i.validGetOrderId(t)}},{key:"meetsExtraVariant",value:function(e){return!(window.swogo.getFeatureFlags().waitForExternalVariant&&e.toLowerCase().includes("pdp")&&!window.swogo.getClientVariant())}},{key:"meetsPolyfillRequirements",value:function(t,n){var r={meetsAllPolyfillRequirements:!1,detailedMeetsPolyfillReq:{dependenciesWrapper:!1,getPage:!1,getSkus:!1,getOrderId:!1,extraVariant:!1}};if(r.detailedMeetsPolyfillReq.dependenciesWrapper=e.meetsDependenciesWrapper(n),r.detailedMeetsPolyfillReq.dependenciesWrapper&&(r.detailedMeetsPolyfillReq.getPage=e.meetsGetPage(n),r.detailedMeetsPolyfillReq.getPage)){var o=window.swogo.getDependencyMethod("getPage")();r.detailedMeetsPolyfillReq.getSkus=e.meetsGetSkus(o,n),r.detailedMeetsPolyfillReq.getOrderId=e.meetsGetOrderId(o,n),r.detailedMeetsPolyfillReq.extraVariant=e.meetsExtraVariant(o)}return r.meetsAllPolyfillRequirements=r.detailedMeetsPolyfillReq.dependenciesWrapper&&r.detailedMeetsPolyfillReq.getPage&&r.detailedMeetsPolyfillReq.getSkus&&r.detailedMeetsPolyfillReq.getOrderId&&r.detailedMeetsPolyfillReq.extraVariant,r}},{key:"meetsBundleRequirements",value:function(e,t){var n=window.swogo.getDependencyMethod("getPage")(),r=!0;return!(window.swogo.getBundlePages().includes(n.split("-")[0])&&!(r=[r,a.validSwogoElements(n.split("-")[0],t)].every(Boolean))&&!e)&&r}}],null&&r(t.prototype,null),n&&r(t,n),e}()},907:(e,t,n)=>{"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n.r(t),n.d(t,{ValidateElements:()=>i});var o=n(739).Logger,i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n;return t=e,n=[{key:"validSwogoElements",value:function(e,t){var n=!0,r=document.getElementsByClassName("swogo-box");if(0===r.length)n=!1,o.handleLog({type:"error",payload:'No elements found having the "swogo-box" class',supressLogTracking:t});else{var i=window.swogo.getContainerIds(e);Array.from(r).forEach((function(e){var n=null;e.id&&(n=e.id.match(/swogo-bundle-(\d+)$/)),null===n?o.handleLog({type:"error",payload:"The swogo-box number ".concat(e.id," does not have a valid id"),supressLogTracking:t}):i.includes(n[1])&&i.splice(i.indexOf(n[1]),1)})),i.forEach((function(e){o.handleLog({type:"error",payload:'The DOM container with ID "swogo-bundle-'.concat(e,'" does not exist'),supressLogTracking:t})}))}return n}}],null&&r(t.prototype,null),n&&r(t,n),e}()},423:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ValidatePolyfill:()=>a});var r=n(650);function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=n(739).Logger,a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n;return t=e,n=[{key:"validGetPage",value:function(e){var t=!0;return void 0===window.swogo.getDependencyMethod("getPage")?(t=!1,i.handleLog({type:"error",payload:"The window.swogoDependencies.getPage function must be defined",supressLogTracking:e})):"function"!=typeof window.swogo.getDependencyMethod("getPage")?(t=!1,i.handleLog({type:"error",payload:"window.swogoDependencies.getPage must be a function",supressLogTracking:e})):"string"==typeof window.swogo.getDependencyMethod("getPage")()||window.swogo.getDependencyMethod("getPage")()instanceof String?""===window.swogo.getDependencyMethod("getPage")()?(t=!1,i.handleLog({type:"error",payload:"window.swogoDependencies.getPage() is empty",supressLogTracking:e})):window.swogo.getDependencyMethod("getPage")().match(/\w+-\d+$/)||(t=!1,i.handleLog({type:"error",payload:'window.swogoDependencies.getPage() must return a string that has the format "pdp-0"',supressLogTracking:e})):(t=!1,i.handleLog({type:"error",payload:"window.swogoDependencies.getPage() must return a string",supressLogTracking:e})),t}},{key:"validGetSkus",value:function(e,t){var n=!0;if(void 0===window.swogo.getDependencyMethod("getSkus"))n=!1,i.handleLog({type:"error",payload:"The window.swogoDependencies.getSkus function must be defined",supressLogTracking:t});else if("function"!=typeof window.swogo.getDependencyMethod("getSkus"))n=!1,i.handleLog({type:"error",payload:"window.swogoDependencies.getSkus must be a function",supressLogTracking:t});else if(Array.isArray(window.swogo.getDependencyMethod("getSkus")())){var o=window.swogo.getDependencyMethod("getSkus")(),a=r.Constant.AVAILABLE_GET_SKUS_FUNCTIONS.find((function(t){return-1!==e.toLowerCase().search(t)})),s=window.swogo.getDependencyMethod("isPaymentDone");if(s)return!0;if(!a||s||o.length||(n=!1,i.handleLog({type:"error",payload:"This page getSkus() must return an non empty array",supressLogTracking:t})),a&&o.length>0&&void 0!==o[0].isEmpty&&o[0].isEmpty)return!0;r.Constant.PAGES_WITH_SINGLE_MAIN_PRODUCT.includes(e)&&o.length>1&&(n=!1,i.handleLog({type:"error",payload:"The window.swogoDependencies.getSkus(), in a ".concat(e," page, must contain only the information about the main product (host product)"),supressLogTracking:t}));var u=0;o.forEach((function(e){u++,e.constructor!==Object?(n=!1,i.handleLog({type:"error",payload:"The window.swogoDependencies.getSkus()[".concat(u,"] must be an object"),supressLogTracking:t})):(e.sku&&("string"==typeof e.sku||e.sku instanceof String)||(n=!1,i.handleLog({type:"error",payload:"The window.swogoDependencies.getSkus()[".concat(u,'] must contain an "sku" property with a non empty string'),supressLogTracking:t})),e.title&&("string"==typeof e.title||e.title instanceof String)||(n=!1,i.handleLog({type:"error",payload:"The window.swogoDependencies.getSkus()[".concat(u,'] must contain a "title" property with a non empty string'),supressLogTracking:t})),(void 0===e.price||"number"!=typeof e.price||e.price<0)&&(n=!1,i.handleLog({type:"error",payload:"The window.swogoDependencies.getSkus()[".concat(u,'] must contain a "price" property with a non negative number'),supressLogTracking:t})),void 0===e.stock&&void 0===e.active?(n=!1,i.handleLog({type:"error",payload:"The window.swogoDependencies.getSkus()[".concat(u,'] must contain either a "stock" or an "active" property'),supressLogTracking:t})):void 0!==e.stock&&("number"!=typeof e.stock||e.stock<0)?(n=!1,i.handleLog({type:"error",payload:"The window.swogoDependencies.getSkus()[".concat(u,'] must contain a "stock" property with a zero or a positive number'),supressLogTracking:t})):void 0!==e.active&&"boolean"!=typeof e.active&&(n=!1,i.handleLog({type:"error",payload:"The window.swogoDependencies.getSkus()[".concat(u,'] must contain an "active" property with a boolean'),supressLogTracking:t})),void 0!==e.quantity&&("number"!=typeof e.quantity||e.quantity<=0)&&(n=!1,i.handleLog({type:"error",payload:"The window.swogoDependencies.getSkus()[".concat(u,'] must contain a "quantity" property with a non zero positive number'),supressLogTracking:t})))}))}else n=!1,i.handleLog({type:"error",payload:"window.swogoDependencies.getSkus() must return an array",supressLogTracking:t});return n}},{key:"validGetOrderId",value:function(e){var t=!0;return void 0===window.swogo.getDependencyMethod("getOrderId")?(t=!1,i.handleLog({type:"error",payload:"The window.swogoDependencies.getOrderId function must be defined",supressLogTracking:e})):"function"!=typeof window.swogo.getDependencyMethod("getOrderId")?(t=!1,i.handleLog({type:"error",payload:"window.swogoDependencies.getOrderId must be a function",supressLogTracking:e})):"string"==typeof window.swogo.getDependencyMethod("getOrderId")()||window.swogo.getDependencyMethod("getOrderId")()instanceof String?0===window.swogo.getDependencyMethod("getOrderId")().length&&(t=!1,i.handleLog({type:"error",payload:"window.swogoDependencies.getOrderId() must return a non empty string",supressLogTracking:e})):(t=!1,i.handleLog({type:"error",payload:"window.swogoDependencies.getOrderId() must return a string",supressLogTracking:e})),t}},{key:"validAddToCart",value:function(e){var t=!0;return void 0===window.swogo.getDependencyMethod("addToCart")?(t=!1,i.handleLog({type:"error",payload:"The window.swogoDependencies.addToCart function must be defined",supressLogTracking:e})):"function"!=typeof window.swogo.getDependencyMethod("addToCart")&&(t=!1,i.handleLog({type:"error",payload:"window.swogoDependencies.addToCart must be a function",supressLogTracking:e})),t}}],null&&o(t.prototype,null),n&&o(t,n),e}()},650:(e,t,n)=>{"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.r(t),n.d(t,{Constant:()=>o});var o=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)};r(o,"AVAILABLE_GET_SKUS_FUNCTIONS",["pdp","basket","plp","payment"]),r(o,"PAGES_WITH_SINGLE_MAIN_PRODUCT",["pdp","crossSell"]),r(o,"VARIANT_IDS","ABCDEFGHIJKLMNOPQRSTUVWYXZ"),r(o,"VARIANT_PERSIST_KEY","swogoVariantIdx"),r(o,"TRANSACTION_PERSIST_KEY","swogoTransactionId"),r(o,"SKUS_PERSIST_KEY","swogoSkus"),r(o,"REFERRAL_ORIGIN",{pdp:"p",mobilePdp:"mp",basket:"b",mobileBasket:"mb",plp:"plp",mobilePlp:"mplp",email:"e"}),r(o,"REFERRAL_UI_POSITION",{hero:"h",popup:"p"})},684:(e,t,n)=>{"use strict";n.r(t),n.d(t,{GlobalVariables:()=>E});var r=n(650);function o(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||u(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||u(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e,t,n,r,o,i,a){try{var s=e[i](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,o)}function d(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){l(i,r,o,a,s,"next",e)}function s(e){l(i,r,o,a,s,"throw",e)}a(void 0)}))}}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=n(261).swogoFetch,h=n(614).v4,y=n(153).Helper,w=n(505).TrackingHandler,v=n(62).MeetRequirements,b=n(659),m=n(782),k=n(793),S=n(272),P="https://logs-api.swogo.net/fe-payment-log",O=decodeURIComponent(window.location.href),x=O.indexOf("bundleReferral")>-1,D="swogoVariantIdx",C="ABCDEFGHIJKLMNOPQRSTUVWYXZ",A="swogoTransactionId",E=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i;return t=e,null,n=[{key:"setSwogoMainVariables",value:function(e){var t,n,i,u,c,l,f,p=this;window.swogo={getClient:function(){return e.clientName},generateReferral:(f=d(regeneratorRuntime.mark((function t(){var n,o,i,a,u,c,l,d,f,g,h,y,v,b,k,S,P,D,C,A,E,I,T,j,R,L,N,B,M;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(x&&window.swogoDependenciesPolly&&window.swogoDependenciesPolly.getSkus().length>0)){t.next=25;break}if(n=/bundleReferral=(.*?)-bdl-(.*?)(?:-bdl-(.*?))?(?:-bdl-(.*?))?-bdl/,o=O.match(n),(i=s(o,5))[0],a=i[1],u=i[2],c=i[3],l=i[4],d=a.split("-"),f=s(d,2),g=f[0],h=f[1],y=Object.keys(r.Constant.REFERRAL_ORIGIN).find((function(e){return r.Constant.REFERRAL_ORIGIN[e]===g})),v=void 0,h&&(v=Object.keys(r.Constant.REFERRAL_UI_POSITION).find((function(e){return r.Constant.REFERRAL_UI_POSITION[e]===h}))),b=window.swogoDependenciesPolly.getSkus()[0],k=null==b?void 0:b.sku,(S=JSON.parse(sessionStorage.getItem("swogoReferral")))&&(!S||S.currentURL===O)){t.next=23;break}for(sessionStorage.setItem("swogoReferral",JSON.stringify({currentURL:O})),P=e.pageIdentifiersConfig[y],D="",C=!1,A=m.getSelectedLanguage(),E=e.featureFlags.hasLanguagePerContainer,I=0;I<Object.keys(P).length&&!C;I++)if(T=Object.keys(P)[I],j=P[T],Array.isArray(j))for(R=0;R<j.length&&!C;R++)L=!1,N=!1,B=j[R],v?B.uiPosition===v&&(N=!0):B.uiPosition||(N=!0),void 0!==A&&E?void 0!==B.language&&B.language===A&&(L=!0):L=!0,L&&N&&(D=T,C=!0);else v?j.uiPosition===v&&(D=T,C=!0):j.uiPosition||(D=T,C=!0);return t.next=20,p.getRawBundlesData(e,D,y,[u,k]);case 20:M=t.sent,b.isParentSku&&M.hosts.length<2&&M.hosts.push({sku:k,parentSku:k,title:b.title,price:b.price}),w.newBundleReferral(u,k,M.hosts,D,y,v,c,l);case 23:t.next=26;break;case 25:sessionStorage.removeItem("swogoReferral");case 26:case"end":return t.stop()}}),t)}))),function(){return f.apply(this,arguments)}),getTrackingLanguage:function(){return window.swogo.getDependencyMethod("getTrackingLanguage")&&window.swogo.getDependencyMethod("getTrackingLanguage")()},getClientTrackingName:function(){return window.swogo.getTrackingLanguage()||window.swogo.getClientnameWithTranslation()},getClientnameWithTranslation:function(){var t=m.getSelectedLanguage(),n=-1!==e.clientName.search(/[A-Z]/)?e.clientName.search(/[A-Z]/):e.clientName.length;return t?e.clientName.slice(0,n)+t.charAt(0).toUpperCase()+t.slice(1)+e.clientName.slice(n):e.clientName},getVariant:function(){return window.swogoDependenciesPolly&&window.swogoDependenciesPolly.getVariant?window.swogoDependenciesPolly.getVariant(e.variant):e.variant},getClientVariant:function(){return y.getClientVariant()},getCookieDomain:function(){return e.cookieDomain},getLocationStorage:function(){return e.locationStorage?e.locationStorage:"local"},getTransactionId:function(){if(!this.getUserCookieConsent())return"anon-".concat(h());var t=k.retrieveValue(A,{domain:e.cookieDomain});if(void 0!==t&&"0"!==t.value)return t.value;var n=h(),r=new Date;return r.setDate((new Date).getDate()+30),k.storeValue(A,n,{location:e.locationStorage,domain:e.cookieDomain,expires:r}),n},getTrackingConfig:function(){return a({},e.tracking)},getFeatureFlags:function(){return a({},e.featureFlags)},getActiveCategories:function(){return o(e.activeCategories)},getLogConfig:function(){return a({},e.logConfig)},getPolyCategories:function(){return this.getDependencyMethod("getCategories")&&this.getDependencyMethod("getCategories")()||[]},getBundleLifespan:function(t){return y.getContainerConfig(t,e).bundleLifespan},getInitNumBundles:function(t){return y.getContainerConfig(t,e).initNumBundles},getMinNumBundles:function(t){return y.getContainerConfig(t,e).minNumBundles},getMaxNumBundles:function(t){return y.getContainerConfig(t,e).maxNumBundles},getMaxNumAccessories:function(t){return y.getContainerConfig(t,e).maxNumAccessories},getMaxNumOptions:function(t){return y.getContainerConfig(t,e).maxNumOptions},getGroupServices:function(t){return y.getContainerConfig(t,e).groupServices},getBundleConfig:function(t){var n=y.getContainerConfig(t,e).pageIdentifiersConfig;if(""!==y.extractPageParts().name)return n[y.extractPageParts().name][t]},getUiPosition:function(t,n){var r=y.getContainerConfig(t,e).pageIdentifiersConfig[n][t];if(r)return Array.isArray(r)?r[0].uiPosition:r.uiPosition},getBundlePages:function(){return o(e.bundlePages)},getContainerIds:function(t){return e.pageIdentifiersConfig[t]?Object.keys(e.pageIdentifiersConfig[t]):[]},getContainerIdsDelayedLoading:function(t){var n=[],r=e.pageIdentifiersConfig[t];for(var o in r){var i=r[o].delayLoad;void 0!==i&&"boolean"==typeof i&&i&&n.push(o)}return n},getBundles:(l=d(regeneratorRuntime.mark((function e(t,n,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.getBundles(t,n,r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(e,t,n){return l.apply(this,arguments)}),hasBundles:(c=d(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getBundles(t);case 2:return n=e.sent,r=this.getDependencyMethod("getSkus")()[0].sku,e.abrupt("return",n.getBundles(r).length>0);case 5:case"end":return e.stop()}}),e,this)}))),function(e){return c.apply(this,arguments)}),otherHaveBundles:(u=d(regeneratorRuntime.mark((function t(n){var r,o,i,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=y.extractPageParts().name,o=e.pageIdentifiersConfig[r],i=Object.keys(o),a=0;case 4:if(!(a<i.length)){t.next=14;break}if(n!==i[a]){t.next=7;break}return t.abrupt("continue",11);case 7:return t.next=9,this.hasBundles(i[a]);case 9:if(!t.sent){t.next=11;break}return t.abrupt("return",!0);case 11:a++,t.next=4;break;case 14:return t.abrupt("return",!1);case 15:case"end":return t.stop()}}),t,this)}))),function(e){return u.apply(this,arguments)}),getUserCookieConsent:function(){var e=this.getDependencyMethod("getCookieConsent");return void 0===e||e()},getBundleContainerObject:function(e){return b.getBundleContainerObjects()[e]},referProduct:function(e,t,n,r,o,i){switch(o=decodeURIComponent(o),e){case"new":window.open(o,"_blank");break;case"current":window.open(o,"_self")}return this.getBundleContainerObject(t).referBundle(n,t,r,o)},generateReferralURL:function(t,n){var o,i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,u=y.getContainerConfig(n,e).uiPosition,c=y.extractPageParts().name;i=u?r.Constant.REFERRAL_ORIGIN[c]+"\\-"+r.Constant.REFERRAL_UI_POSITION[u]:r.Constant.REFERRAL_ORIGIN[c];var l=null===(o=window.swogoDependenciesPolly.getSkus()[0])||void 0===o?void 0:o.sku;t.includes("http")||t.includes(window.location.host)||(t=window.location.origin+t);var d=new URL(t);return void 0!==a&&void 0!==s?d.searchParams.set("bundleReferral","".concat(i,"-bdl-").concat(l,"-bdl-").concat(a,"-bdl-").concat(s,"-bdl")):d.searchParams.set("bundleReferral","".concat(i,"-bdl-").concat(l,"-bdl")),d=encodeURIComponent(d),decodeURIComponent(d)},generateReferralURLNew:function(t,n,o){var i,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,u=y.getContainerConfig(o,e).uiPosition,c=y.extractPageParts().name;i=u?r.Constant.REFERRAL_ORIGIN[c]+"-"+r.Constant.REFERRAL_UI_POSITION[u]:r.Constant.REFERRAL_ORIGIN[c],t.includes("http")||t.includes(window.location.host)||(t=window.location.origin+t);var l=new URL(t);return void 0!==a&&void 0!==s?l.searchParams.set("bundleReferral","".concat(i,"-bdl-").concat(n,"-bdl-").concat(a,"-bdl-").concat(s,"-bdl")):l.searchParams.set("bundleReferral","".concat(i,"-bdl-").concat(n,"-bdl")),l=encodeURIComponent(l),decodeURIComponent(l)},getDependencyMethod:function(e){return void 0!==window.swogoDependencies&&window.swogoDependencies[e]?window.swogoDependencies[e]:void 0!==window.swogoDependenciesPolly?window.swogoDependenciesPolly[e]:void 0},dependencyWrapperDefined:function(){return void 0!==window.swogoDependencies||void 0!==window.swogoDependenciesPolly},render:(i=d(regeneratorRuntime.mark((function t(){var n,r,o,i,a,s,u,c,l,d,f=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=f.length>0&&void 0!==f[0]?f[0]:{},r=y.extractPageParts().name,e.pageIdentifiersConfig[r]){t.next=4;break}return t.abrupt("return");case 4:if(!n.containerId){t.next=22;break}if(i=document.getElementById("swogo-bundle-"+n.containerId),a=y.getContainerConfig(n.containerId,e),i&&""!==a.template){t.next=9;break}return t.abrupt("return");case 9:if(void 0!==b.getBundleContainerObjects()[n.containerId]&&!n.discardCurrent){t.next=14;break}return t.next=12,b.renderBundles(i,n.containerId,b.getTemplate(a.template),n.discountConfig);case 12:t.next=18;break;case 14:return t.next=16,b.getBundleContainerObjects()[n.containerId].getHTML(b.getTemplate(a.template));case 16:i.innerHTML=t.sent,m.applyTranslations(i);case 18:y.checkHasFunctionRenderComplete(b.getBundleContainerObjects()[n.containerId])&&b.getBundleContainerObjects()[n.containerId].renderComplete(),null===(o=window.swogo.accessibilityFunction)||void 0===o||o.setFocusOnLatestSelectedElement(),t.next=45;break;case 22:s=document.getElementsByClassName("swogo-box"),u=0;case 24:if(!(u<s.length)){t.next=45;break}if(l=s[u].id?s[u].id.replace("swogo-bundle-",""):null){t.next=28;break}return t.abrupt("continue",42);case 28:if(""!==(d=y.getContainerConfig(l,e)).template){t.next=31;break}return t.abrupt("continue",42);case 31:if(void 0!==b.getBundleContainerObjects()[l]&&!n.discardCurrent){t.next=36;break}return t.next=34,b.renderBundles(s[u],l,b.getTemplate(d.template),n.discountConfig);case 34:t.next=40;break;case 36:return t.next=38,b.getBundleContainerObjects()[l].getHTML(b.getTemplate(d.template));case 38:s[u].innerHTML=t.sent,m.applyTranslations(s[u]);case 40:y.checkHasFunctionRenderComplete(b.getBundleContainerObjects()[l])&&b.getBundleContainerObjects()[l].renderComplete(),null===(c=window.swogo.accessibilityFunction)||void 0===c||c.setFocusOnLatestSelectedElement();case 42:u++,t.next=24;break;case 45:case"end":return t.stop()}}),t)}))),function(){return i.apply(this,arguments)}),getBundlesUiDomain:function(){return"https://ui.swogo.net/bundles/v4/"},getTrackingDomain:function(){var e=this.getDependencyMethod("getLanguage")&&this.getDependencyMethod("getLanguage")(),t=this.getTrackingConfig();if(t&&t.url){if(e&&t.url[e])return t.url[e];if(!e)return t.url}return"https://tracking.swogo.net/"},getLogDomain:function(){var e=this.getLogConfig(),t=this.getDependencyMethod("getLanguage")&&this.getDependencyMethod("getLanguage")();return null!=e&&e.url&&(null!=e&&e.url||t)?"string"==typeof e.url?e.url:e.url[t]||P:P},forceReadEvents:function(){return w.checkApiOnlyIntegrationEventsInner()},setBundleCounter:function(e){p.bundlesCounter=e,y.dispacthNewEvent("swogo.bundlesReady")},getBundleCounter:function(){return p.bundlesCounter},fetch:(n=d(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",g(t,n));case 1:case"end":return e.stop()}}),e)}))),function(e,t){return n.apply(this,arguments)}),getExtraEvents:function(){return e.tracking&&e.tracking.extraEvents?e.tracking.extraEvents:[]},getDynamicFilters:function(e,t){if(e&&window.swogo.getDependencyMethod("getBundlesAPIDynamicFilters")){var n=window.swogo.getDependencyMethod("getBundlesAPIDynamicFilters")();if(n&&JSON.stringify(n)!==JSON.stringify(t))return n}return t},getHostDataBySKUs:(t=d(regeneratorRuntime.mark((function e(t){var n,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={client:window.swogo.getClientnameWithTranslation(),skus:t,type:"bundles",matching:"pdp",assistant:"pdp"},r=S.encodeObject(n),e.t0=JSON,e.t1=decodeURIComponent,e.t2=window,e.next=7,S.fetchBundles(r,n.client);case 7:return e.t3=e.sent,e.t4=e.t2.atob.call(e.t2,e.t3),e.t5=(0,e.t1)(e.t4),o=e.t0.parse.call(e.t0,e.t5),e.abrupt("return",o.hosts);case 12:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)}),getExternalTrackingEvents:function(){return o(e.externalTrackingEvents)}}}},{key:"setSwogoAPIVariables",value:function(e){window.swogoAPI={bundleAddedToCart:function(t,n,r){return w.bundleAddedToCart(t,n,r,e)},bundleReferral:function(t,n,r,o){w.bundleReferral(t,n,r,o,e)},reset:function(t){b.resetInitializeAttempts(),b.resetIntersectionObserver(),b.resetMutationObserver(),b.resetCheckSkusObserver(),Object.keys(b.getBundleContainerObjects()).forEach((function(e){(document.getElementById("swogo-bundle-"+e)||{}).innerHTML=""})),b.resetBundleContainerObjects(),b.resetRenderedContainers(),e.featureFlags.preventUiReset?(!window.swogoCheckAppendUiJS&&window.swogoActivePage===window.swogo.getDependencyMethod("getPage")()||window.swogoActivePage!==window.swogo.getDependencyMethod("getPage")())&&delete window.swogoBundlesUi:delete window.swogoBundlesUi,b.resetMeetPolyfillReqDone(),b.tasksAfterDomReady(t)}}}},{key:"setSwogoMonitoringVariables",value:function(e){window.swogoMonitoring={meetsRequirements:function(t){var n=a({},e.featureFlags);e.featureFlags.logLevel="simple";var r=!0;return v.meetsPolyfillRequirements(t,!0)&&v.meetsBundleRequirements(t,!0)||(r=!1),e.featureFlags=a({},n),r},forceVariant:function(e){var t=new Date;t.setDate((new Date).getDate()+30),k.storeValue(D,C.indexOf(e.toUpperCase()),{location:window.swogo.getLocationStorage(),domain:window.swogo.getCookieDomain(),expires:t}),b.handleVariant(),b.resetMeetPolyfillReqDone(),b.tasksAfterDomReady()},setVariant:function(e){var t=new Date;t.setDate((new Date).getDate()+30),k.storeValue(D,C.indexOf(e.toUpperCase()),{location:window.swogo.getLocationStorage(),domain:window.swogo.getCookieDomain(),expires:t}),b.handleVariant()},getVariant:function(){var t=k.retrieveValue(D,{domain:e.cookieDomain});if(void 0!==t)return t=void 0===t.value.value?t.value:t.value.value,C.charAt(t)}}}},{key:"setGlobals",value:function(e){this.setSwogoMainVariables(e),this.setSwogoAPIVariables(e),this.setSwogoMonitoringVariables(e)}},{key:"getDiscountConfigIds",value:function(e,t){return e.forEach((function(n){var r;null===(r=t.accessories[n])||void 0===r||r.forEach((function(n){if(n.discounts){var r=[];n.discounts.accessory&&(r=n.discounts.accessory.map((function(e){return a(a({},e),{},{applyTo:"accessory"})}))),n.discounts.host&&(r=n.discounts.host.map((function(e){return a(a({},e),{},{matchList:[hostSku],applyTo:"host"})}))),n.discounts.bundle&&(r=n.discounts.bundle.map((function(e){return a(a({},e),{},{matchList:["bundleTotal"],applyTo:"bundleTotal"})}))),r.forEach((function(n){"bundleTotal"===n.applyTo&&n.bundleState[0].forEach((function(r){r===e[1]&&t.hosts.forEach((function(e){e.swogoDiscounted=!0,e.bundleTotalDiscountId=n.discountId}))})),"accessory"===n.applyTo&&t.hosts.forEach((function(e){e.sku===n.matchList[0]&&(e.swogoDiscounted=!0,e.discountId=n.discountId)}))}))}}))})),t}},{key:"getRawBundlesData",value:(i=d(regeneratorRuntime.mark((function e(t,n,r,o){var i,a,s,u,c,l,d,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=r,a=y.getContainerConfig(n,t).pageIdentifiersConfig,u={client:window.swogo.getClientnameWithTranslation(),skus:o,type:"bundles",matching:i,assistant:i},void 0!==a&&a[i]&&a[i][n]&&(Array.isArray(t.pageIdentifiersConfig[i][n])?(c=t.pageIdentifiersConfig[i][n],l=m.getSelectedLanguage(),s=c.find((function(e){return e.language===l})).bundlesConfig||{}):s=a[i][n].bundlesConfig||{},s.matching&&(u.matching=s.matching),s.assistant&&(u.assistant=s.assistant),s.filters&&(u.filters=s.filters),s.tags&&(u.tags=s.tags),s.configuration&&(u.configuration=JSON.stringify(s.configuration))),d=S.encodeObject(u),e.t0=JSON,e.t1=decodeURIComponent,e.t2=window,e.next=10,S.fetchBundles(d,u.client);case 10:return e.t3=e.sent,e.t4=e.t2.atob.call(e.t2,e.t3),e.t5=(0,e.t1)(e.t4),f=e.t0.parse.call(e.t0,e.t5),f=this.getDiscountConfigIds(o,f),e.abrupt("return",f);case 16:case"end":return e.stop()}}),e,this)}))),function(e,t,n,r){return i.apply(this,arguments)})}],n&&f(t,n),e}();p(E,"bundlesCounter",void 0)},594:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n.r(t),n.d(t,{MonitoringConfig:()=>i});var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n;return t=e,n=[{key:"setDefaultConfigs",value:function(e){return e.featureFlags||(e.featureFlags={}),e.logConfig||(e.logConfig={}),e.featureFlags.bundles=void 0===e.featureFlags.bundles||e.featureFlags.bundles,e.featureFlags.tracking=void 0===e.featureFlags.tracking||e.featureFlags.tracking,e.featureFlags.logLevel=e.featureFlags.logLevel||"simple",e.featureFlags.logTracking=e.featureFlags.logTracking||!1,e.featureFlags.logAllErrors=e.featureFlags.logAllErrors||!1,e.featureFlags.waitForPayment=e.featureFlags.waitForPayment||!1,e.featureFlags.checkSkus=e.featureFlags.checkSkus||!1,e.featureFlags.loadTranslations=void 0===e.featureFlags.loadTranslations||e.featureFlags.loadTranslations,e.featureFlags.skipCheckSkusPages=e.featureFlags.skipCheckSkusPages||[],e.featureFlags.isToStoreSkusOnBasketListEvent=e.featureFlags.isToStoreSkusOnBasketListEvent||!1,e.featureFlags.isToSendSkusOnPaymentEvent=e.featureFlags.isToSendSkusOnPaymentEvent||!1,e.featureFlags.isToSendBundleWithDiscountsEvent=e.featureFlags.isToSendBundleWithDiscountsEvent||!1,e.variant=e.variant||"A",e.featureFlags.hasLanguagePerContainer=e.featureFlags.hasLanguagePerContainer||!1,e.externalTrackingEvents=this.needsDefaultArray(e.externalTrackingEvents)?["atc","purchase","referral"]:e.externalTrackingEvents,e.bundlePages=this.needsDefaultArray(e.bundlePages)?[]:e.bundlePages,e.bundleLifespan=this.stringToNumberConverter(e.bundleLifespan),e.minNumBundles=this.stringToNumberConverter(e.minNumBundles),e.maxNumBundles=this.stringToNumberConverter(e.maxNumBundles),e.initNumBundles=this.stringToNumberConverter(e.initNumBundles),e.maxNumAccessories=this.stringToNumberConverter(e.maxNumAccessories),e.maxNumOptions=this.stringToNumberConverter(e.maxNumOptions),e.bundleLifespan=this.needsDefaultNumber(e.bundleLifespan)?48:e.bundleLifespan,e.minNumBundles=this.needsDefaultNumber(e.minNumBundles)?2:e.minNumBundles,e.maxNumBundles=this.needsDefaultNumber(e.maxNumBundles)?5:e.maxNumBundles,e.initNumBundles=this.needsDefaultNumber(e.initNumBundles)?5:e.initNumBundles,e.maxNumAccessories=this.needsDefaultNumber(e.maxNumAccessories)?4:e.maxNumAccessories,e.maxNumOptions=this.needsDefaultNumber(e.maxNumOptions)?4:e.maxNumOptions,e.activeCategories=this.needsDefaultArray(e.activeCategories)?[]:e.activeCategories,e.bundlePages=e.bundlePages.filter((function(e){return"string"==typeof e})),e.pageIdentifiersConfig=void 0===e.pageIdentifiersConfig||"object"!==r(e.pageIdentifiersConfig)?{}:e.pageIdentifiersConfig,e.locationStorage&&"string"==typeof e.locationStorage&&-1!==["local","session","cookie"].indexOf(e.locationStorage)||(e.locationStorage="local"),e}},{key:"stringToNumberConverter",value:function(e){return"string"==typeof e?Number(e):e}},{key:"needsDefaultNumber",value:function(e){return isNaN(e)||!Number.isInteger(e)}},{key:"needsDefaultArray",value:function(e){return void 0===e||!Array.isArray(e)}}],null&&o(t.prototype,null),n&&o(t,n),e}()},112:(e,t,n)=>{"use strict";function r(e,t,n,r,o,i,a){try{var s=e[i](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,o)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n.r(t),n.d(t,{CustomerProductData:()=>i});var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i,a;return t=e,null,n=[{key:"updateProductData",value:(i=regeneratorRuntime.mark((function e(t,n,r,o){var i,a,s,u,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=null,!t||!t.products||0!==Object.keys(t.products).length){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,window.swogoProductApiPolly.getProductInformation({products:t.products},"prod");case 5:if(null!=(i=e.sent)){e.next=8;break}return e.abrupt("return");case 8:a=Object.getOwnPropertyNames(i),s=Object.getOwnPropertyNames(t.bundles),u=function(e){var u=a[e];if(void 0===t.products[u])return"continue";if(0===i[u].active){if(!n){if(delete t.products[u],s.includes(u))return delete t.bundles[u],"continue";for(var c=0;c<s.length;c++)for(var l=s[c],d=t.bundles[l],f=0;f<d.length;){for(var p=!0,g=d[f].slots,h=0;h<g.length;h++)if(g[h]=g[h].filter((function(e){return e!==u})),0===g[h].length&&(d[f].slots.splice(h,1),0===d[f].slots.length)){p=!1;break}p?f++:d.splice(f,1)}return"continue"}for(var y=r,w=0;w<y.accessories[s][0].accessories.length;w++)for(var v=0;v<y.accessories[s][0].accessories[w].length;v++)y.accessories[s][0].accessories[w][v].sku in i&&r.accessories[s][0].accessories[w].splice(v,1);var b=r.accessories[s][0].accessories;r.accessories[s][0].accessories=b.filter((function(e){return e.length>0}));var m=window.btoa(encodeURIComponent(JSON.stringify(r)));window.sessionStorage.setItem(window.swogoAPI.payload,m),window.swogo.render({containerId:o,discardCurrent:!0})}void 0!==i[u].price&&(t.products[u].price=i[u].price),void 0!==i[u].rrPrice&&(t.products[u].rrPrice=i[u].rrPrice),void 0!==i[u].specialOffer&&(t.products[u].specialOffer=i[u].specialOffer)},c=0;case 12:if(!(c<a.length)){e.next=19;break}if("continue"!==u(c)){e.next=16;break}return e.abrupt("continue",16);case 16:c++,e.next=12;break;case 19:case"end":return e.stop()}}),e)})),a=function(){var e=this,t=arguments;return new Promise((function(n,o){var a=i.apply(e,t);function s(e){r(a,n,o,s,u,"next",e)}function u(e){r(a,n,o,s,u,"throw",e)}s(void 0)}))},function(e,t,n,r){return a.apply(this,arguments)})}],n&&o(t,n),e}()},390:(e,t,n)=>{"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var u=n(393),c=n(821),l=n(161),d=n(276);function f(e){var t=e||{type:"default"},n=void 0===t.requiresFullBundle||t.requiresFullBundle;return t.requiresFullBundle=n,t}e.exports.calculate=function(e,t,n,r,i,s,p,g,h,y){var w=function(e,t,n){return void 0===e.discountsCache[t]&&(e.discountsCache[t]={}),void 0===e.discountsCache[t][n]&&(e.discountsCache[t][n]={}),e.discountsCache[t][n]}(i,s,p),v=function(e,t,n,r,i,s,p,g){var h;return void 0===e.products&&(h=0!==Object.keys(g).length?g:r.discounts,e.products=o({},function(e,t,n,r,o,i){var s={},p=Object.keys(r),g=n[o.slice(1).join(" | ")];return[].concat(a(o),a(p)).forEach((function(o){var a,p,h,y;if(null!==(a=n[o])&&void 0!==a&&a.useAutomatedDiscounts&&(h=n[o],(y=r[o])&&null!=y&&y.generalDiscount&&y.applyWhenHost.includes(y.hostSku)&&y.discountValue&&y.discountType&&(h.value=parseFloat(y.discountValue),h.type=y.discountType,h.message=y.discountMessage||"")),void 0!==g&&void 0!==g[o]&&(p=g[o]),void 0!==n[o]&&void 0!==n[o].priority&&(void 0===p||p.priority<n[o].priority)&&(p=n[o]),void 0!==p){void 0===s[o]&&(s[o]={});var w=f(p.applyStrategy);switch(w.type){case"cheapest-item":s=d.calculateProductDiscount(r[o],p,e,t,i);break;case"ratio":Object.assign(s,u.calculateProductDiscount(r[o],p,e,t,i));break;case"quantity":Object.assign(s,l.calculateProductDiscount(r[o],p,e,t,i,w.requiresFullBundle));break;default:Object.assign(s,c.calculateProductDiscount(r[o],p,i))}s.discountType=w.type,s.applyStrategy=w,s.isStrict=p.isStrict}})),s}(t,n,h,o({},i),s,p))),o({},e.products)}(w,t,n,g,e,h,i.withoutVatEnabled,y),b=void 0!==t.priceNoVat,m={price:t.active?t.price*t.quantity:0,discountPrice:t.active?t.price*t.quantity:0,discountType:v.discountType,applyStrategy:v.applyStrategy,isStrict:v.isStrict};b&&(m.priceNoVat=t.active?t.priceNoVat*t.quantity:0,m.discountPriceNoVat=t.active?t.priceNoVat*t.quantity:0),void 0!==v[r]&&void 0!==v[r].host?(Object.assign(t,v[r].host),t.swogoDiscounted=!0,m.discountPrice=v[r].host.discountPrice*t.quantity,void 0!==v[r].host.discountPriceNoVat&&(m.discountPriceNoVat=v[r].host.discountPriceNoVat*t.quantity)):void 0!==t.rrPrice&&t.rrPrice>t.price&&(t.discountPrice=t.price,t.price=t.rrPrice,t.clientDiscounted=!0,m.price=t.price*t.quantity,m.discountPrice=t.discountPrice*t.quantity,b&&(t.discountPriceNoVat=t.priceNoVat,t.priceNoVat=t.rrPriceNoVat,m.priceNoVat=t.priceNoVat*t.quantity,m.discountPriceNoVat=t.discountPriceNoVat*t.quantity)),t.active||(m.discountPrice=0,b&&(m.discountPriceNoVat=0));for(var k={},S=n.length-1;S>=0;S--)n[S].map((function(e){var t=e.sku,n=e.quantity,r=e.active,o=void 0!==e.priceNoVat;void 0===v[t]||void 0===v[t].accessory||k[t]?void 0!==e.rrPrice&&e.rrPrice>e.price&&(e.discountPrice=e.price,e.price=e.rrPrice,e.clientDiscounted=!0,o&&(e.discountPriceNoVat=e.priceNoVat,e.priceNoVat=e.rrPriceNoVat)):(Object.assign(e,v[t].accessory),k[t]=!0,e.swogoDiscounted=!0),r&&e.selected&&(m.price+=e.price*n,b&&o&&(m.priceNoVat+=e.priceNoVat*n),void 0!==e.discountPrice?(m.discountPrice+=e.discountPrice*n,b&&o&&(m.discountPriceNoVat+=e.discountPriceNoVat*n)):(m.discountPrice+=e.price*n,b&&o&&(m.discountPriceNoVat+=e.priceNoVat*n)))}));if(void 0===w.bundle){var P=function(e,t,n,r,o){var i,a,s=n[o.slice(1).join(" | ")];if(void 0!==s&&void 0!==s.bundleTotal&&(i=s.bundleTotal),void 0!==n.bundleTotal&&(void 0===i||i.priority<n.bundleTotal.priority)&&(i=n.bundleTotal),void 0!==i){i.useDbDiscount&&function(e,t){e.discountQuantity&&(t.applyStrategy.quantity=parseInt(e.discountQuantity)),"true"===e.isCheapestItemDiscount&&(t.isCheapestItemDiscount=!0),e.relativeDiscount&&""!==e.relativeDiscount?(t.value=parseFloat(e.relativeDiscount.split("%")[0]),t.type="percent"):e.absoluteDiscount&&""!==e.absoluteDiscount?(t.value=parseFloat(e.absoluteDiscount),t.type="absolute"):e.fixedDiscount&&""!==e.fixedDiscount&&(t.value=parseFloat(e.fixedDiscount),t.type="fixed")}(e,i);var u=f(i.applyStrategy);return a="quantity"===(i.applyStrategy||{}).type?l.calculateBundleDiscount(r,i,e,t,u.requiresFullBundle):c.calculateBundleDiscount(r,i),u.type&&(a.discountType=u.type,a.applyStrategy=u),a.discountId=i.discountId,a.isStrict=i.isStrict,a}}(t,n,g.discounts,o({},m),h);void 0!==P&&void 0!==P.discountPrice&&(w.bundle=o({},P))}if(void 0!==w.bundle){Object.assign(m,w.bundle);for(var O=[[t]].concat(a(n)),x=0;x<O.length;x++)for(var D=0;D<O[x].length;D++)O[x][D].selected&&(O[x][D].swogoDiscounted=!0,O[x][D].bundleTotalDiscountId=m.discountId)}else m.price===m.discountPrice&&delete m.discountPrice,void 0!==m.discountPriceNoVat&&m.priceNoVat===m.discountPriceNoVat&&delete m.discountPriceNoVat;return m}},188:e=>{function t(e,t){return parseFloat(e.toFixed(t))}e.exports.calculateDiscountPrice=function(e,n,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return"percent"===e?t(n*(1-r/100),2):"fixed"===e?t(n-(r*=o),2):"absolute"===e?t(r*=o,2):void 0}},276:(e,t,n)=>{"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=n(188);function s(e){return{sku:e.sku,price:e.price,priceNoVat:e.priceNoVat,quantity:e.quantity}}function u(e,t,n,r){var o=a.calculateDiscountPrice(e.type,t[r],e.value),i=t.quantity-n<=0?t.quantity:n,s=o*i,u=t.quantity-i;return{discountableAccessories:i,discountPrice:(t[r]*u+s)/t.quantity}}e.exports.calculateProductDiscount=function(e,t,n,r,i){for(var a={},c=function(e){return e.flatMap((function(e){return e})).filter((function(e){return e.active&&e.selected}))}(r),l=function(e,t,n){var r=function(e,t){return e.quantity+t.reduce((function(e,t){return e+t.quantity}),0)}(e,t);return Math.floor(r/n)}(n,c,t.applyStrategy.quantity),d=[],f=function(){var e={};d.includes(n.sku)||(e=s(n),t.applyTo="host"),c.filter((function(e){return!d.includes(e.sku)})).forEach((function(n){(void 0===e.price||n.price<=e.price)&&(e=s(n),t.applyTo="accessory")}));var r=u(t,e,l,"price"),f=r.discountableAccessories,p=r.discountPrice,g=function(e,t,n,r){var o="priceNoVat",i={};return r&&t[o]&&(i={discountPriceNoVat:u(e,t,n,o).discountPrice}),i}(t,e,l,i);l-=f,d.push(e.sku),a[e.sku]={},a[e.sku][t.applyTo]=o(o({discountId:t.discountId,discountPrice:p},g),void 0!==t.message&&t.message.length>0&&{discountMessage:t.message})};l>0;)f();return a}},821:(e,t,n)=>{"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=n(188);e.exports.calculateProductDiscount=function(e,t,n){var r=u(e,t,"price"),i=s(e,t,"priceNoVat",n),a={};return a[e.sku]={},a[e.sku][t.applyTo]=o(o({discountId:t.discountId},r),i),a},e.exports.calculateBundleDiscount=function(e,t){var n=u(e,t,"discountPrice"),r=s(e,t,"discountPriceNoVat",void 0!==e.discountPriceNoVat);return o(o({},n),r)};var s=function(e,t,n,r){var o={};return r&&e[n]&&(o={discountPriceNoVat:u(e,t,n).discountPrice}),o},u=function(e,t,n){return o({discountPrice:a.calculateDiscountPrice(t.type,e[n],t.value)},void 0!==t.message&&t.message.length>0&&{discountMessage:t.message})}},161:(e,t,n)=>{"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=n(188);function s(e,t,n,r,i){var s=function(e,t){return e.quantity+t.flatMap((function(e){return e})).filter((function(e){return e.selected&&e.active})).reduce((function(e,t){return e+t.quantity}),0)}(n,r);if(i)return s>=t.applyStrategy.quantity?o({discountPrice:a.calculateDiscountPrice(t.type,e,t.value)},void 0!==t.message&&t.message.length>0&&{discountMessage:t.message}):{};var u=s%t.applyStrategy.quantity,c=parseInt(s/t.applyStrategy.quantity);if(s>=t.applyStrategy.quantity){var l=0;return u>0&&(l=function(e,t,n){var r=t.flatMap((function(e){return e})).filter((function(e){return e.selected&&e.active}));r.push(e);var o=JSON.parse(JSON.stringify(r));o.sort((function(e,t){return e.price-t.price}));for(var i=0,a=0;a<n;a++){var s=o[o.length-1];i+=s.price,1===s.quantity?r.pop():s.quantity--}return i}(n,r,u),e-=l),o({discountPrice:a.calculateDiscountPrice(t.type,e,t.value,c)+l},void 0!==t.message&&t.message.length>0&&{discountMessage:t.message})}return{}}e.exports.calculateProductDiscount=function(e,t,n,r,i,a){var c=s(e.price,t,n,r,a),l=u(e,t,n,r,"priceNoVat",i),d={};return d[e.sku]={},c.discountPrice&&(d[e.sku][t.applyTo]=o(o({discountId:t.discountId},c),l)),d},e.exports.calculateBundleDiscount=function(e,t,n,r,i){var a=s(e.discountPrice,t,n,r,i),c=u(e,t,n,r,"discountPriceNoVat",void 0!==e.discountPriceNoVat);return o(o({},a),c)};var u=function(e,t,n,r,o,i){var a={};return i&&e[o]&&(a={discountPriceNoVat:s(e[o],t,n,r).discountPrice}),a}},393:(e,t,n)=>{"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=n(188);e.exports.calculateProductDiscount=function(e,t,n,r,i){var a=u(e,t,n,r,"price"),c=s(e,t,n,r,i),l={};return l[e.sku]={},l[e.sku][t.applyTo]=o(o({discountId:t.discountId},a),c),l};var s=function(e,t,n,r,o){var i="priceNoVat",a={};return o&&e[i]&&(a={discountPriceNoVat:u(e,t,n,r,i).discountPrice}),a},u=function(e,t,n,r,i){var s=a.calculateDiscountPrice(t.type,e[i],t.value),u=n.quantity,c=r.flatMap((function(e){return e})).find((function(t){return t.selected&&t.sku===e.sku})).quantity,l=c-u<=0?c:u,d=c-l;return o({discountPrice:(e[i]*d+s*l)/c},void 0!==t.message&&t.message.length>0&&{discountMessage:t.message})}},153:(e,t,n)=>{"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n.r(t),n.d(t,{Helper:()=>u});var s=n(782),u=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n;return t=e,n=[{key:"dispacthNewEvent",value:function(e){if(window.navigator.userAgent.indexOf("Trident/")>0){var t=document.createEvent("Event");t.initEvent(e,!0,!0),document.dispatchEvent(t)}else document.dispatchEvent(new Event(e))}},{key:"removeChildElements",value:function(e){return window.navigator.userAgent.indexOf("Trident/")>0?e.forEach((function(e){return e.parentNode.removeChild(e)})):e.forEach((function(e){return e.remove()})),e}},{key:"extractPageParts",value:function(){var e=window.swogo.getDependencyMethod("getPage")().match(/([^-\s]+)-(\d+)/i);return{name:e&&e[1]||"",pageName:e&&e[1].toLowerCase()||"",index:e&&parseInt(e[2],10)||0}}},{key:"getClientVariant",value:function(){var e=document.querySelector('script[src$="swogo.js"]');if(e||(e=document.querySelector('script[src$="swogo_qa.js"]')),e)return e.getAttribute("data-variant")}},{key:"validateValueType",value:function(e,t){switch(t){case"string":return"string"==typeof e&&e instanceof String;case"number":return"number"==typeof e&&e>=0;case"boolean":return void 0!==e;default:return!1}}},{key:"checkHasFunctionRenderComplete",value:function(e){return void 0!==e&&"function"==typeof e.renderComplete}},{key:"getContainerConfig",value:function(e,t){var n=this.extractPageParts().name,r=o({template:""},t);if(t.pageIdentifiersConfig[n])if(Array.isArray(t.pageIdentifiersConfig[n][e])){var i=t.pageIdentifiersConfig[n][e],a=s.getSelectedLanguage(),u=i.find((function(e){return e.language===a}));r=o(o({},r),u)}else r=o(o({},r),t.pageIdentifiersConfig[n][e]);return r}},{key:"getContainerIdForUIPosition",value:function(e,t){var n=this.extractPageParts().name,r=s.getSelectedLanguage();if(t.pageIdentifiersConfig[n])for(var o=0,i=Object.keys(t.pageIdentifiersConfig[n]);o<i.length;o++){var a=i[o],u=t.pageIdentifiersConfig[n][a];if(Array.isArray(u)&&void 0!==u.find((function(t){return t.uiPosition&&t.uiPosition===e&&t.language&&t.language===r})))return a;if(u.uiPosition&&u.uiPosition===e)return a}return""}},{key:"isHostProductActive",value:function(){return(window.swogo.getDependencyMethod("getSkus")()[0]||{}).active}},{key:"filterProductsByQuantity",value:function(e){for(var t=[],n=0;n<e.length;n++){var r=parseInt(e[n].quantity,10);isNaN(r)||0===r||t.push(e[n])}return t}}],null&&a(t.prototype,null),n&&a(t,n),e}()},659:(e,t,n)=>{function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function s(e,t,n,r,o,i,a){try{var s=e[i](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,o)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){s(i,r,o,a,u,"next",e)}function u(e){s(i,r,o,a,u,"throw",e)}a(void 0)}))}}function c(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var d,f,p,g,h=n(547),y=(n(230),n(272)),w=n(793),v=n(106),b=n(782),m=n(153).Helper,k=n(505).TrackingHandler,S=n(62).MeetRequirements,P=n(586).ImpressionHandler,O=n(112).CustomerProductData,x="swogoVariantIdx",D="ABCDEFGHIJKLMNOPQRSTUVWYXZ",C={},A=20,E={count:0,countBundleValidation:0,countPolyfillValidation:0,countHeroBundleLoading:0},I=!1,T={},j=[],R=!1,L=!1,N={};function B(){var e=window.swogo.getDependencyMethod("getPage")?window.swogo.getDependencyMethod("getPage")():null;if(e){var t=e,n=JSON.stringify(window.swogo.getDependencyMethod("getSkus")()),r=!!window.swogo.getDependencyMethod("withoutVat")&&window.swogo.getDependencyMethod("withoutVat")();return setInterval((function(){try{var e=window.swogo.getDependencyMethod("getPage")(),o=JSON.stringify(window.swogo.getDependencyMethod("getSkus")()),i=!!window.swogo.getDependencyMethod("withoutVat")&&window.swogo.getDependencyMethod("withoutVat")(),a=window.swogo.getDynamicFilters(L,N);if(a&&N!==a&&(N=a,window.swogoAPI.reset()),C.featureFlags.skipCheckSkusPages){var s,u=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=c(e))){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}(C.featureFlags.skipCheckSkusPages);try{for(u.s();!(s=u.n()).done;){var l=s.value;if(e.toLowerCase().indexOf(l)>=0)return}}catch(e){u.e(e)}finally{u.f()}}if(e&&(o!==n||e!==t||r!==i)){var d=t.match(/([^-\s]+)-(\d+)/i)[1];document.querySelectorAll('[data-pagename="swogo_'.concat(d,'"]')).forEach((function(e){return e.remove()}));var f=document.querySelectorAll('[id="swogo_styles"]');f=m.removeChildElements(f),n=o,t=e,r=i,window.swogoAPI.reset()}}catch(e){}}),500)}}function M(e){return e.detailedMeetsPolyfillReq.dependenciesWrapper&&e.detailedMeetsPolyfillReq.getPage&&window.swogo.getDependencyMethod("getPage")().toLowerCase().includes("payment")&&e.detailedMeetsPolyfillReq.getOrderId}function V(e){return F.apply(this,arguments)}function F(){return(F=u(regeneratorRuntime.mark((function e(t){var n,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(J(),E.countPolyfillValidation+=1,n=C.featureFlags.logAllErrors,I){e.next=16;break}if(!(r=S.meetsPolyfillRequirements(n,E.countPolyfillValidation<A)).meetsAllPolyfillRequirements){e.next=14;break}k.trackMainEvents(C,r.detailedMeetsPolyfillReq),I=!0,(o=document.createEvent("Event")).initEvent("tasksAfterDomReadySuccess",!0,!0),document.dispatchEvent(o),void 0!==E.timerIdPolyfillValidation&&(window.clearTimeout(E.timerIdPolyfillValidation),delete E.timerIdPolyfillValidation),e.next=16;break;case 14:return E.countPolyfillValidation<A?E.timerIdPolyfillValidation=window.setTimeout((function(){delete E.timerIdPolyfillValidation,V()}),500):M(r)&&k.trackMainEvents(C,r.detailedMeetsPolyfillReq),e.abrupt("return");case 16:if(E.countBundleValidation+=1,!C.featureFlags.bundles||S.meetsBundleRequirements(C.featureFlags.logAllErrors,E.countBundleValidation<A)){e.next=20;break}return E.countBundleValidation<A&&(E.timerIdBundleValidation=window.setTimeout((function(){delete E.timerIdBundleValidation,V()}),500)),e.abrupt("return");case 20:return void 0!==E.timerIdBundleValidation&&(window.clearTimeout(E.timerIdBundleValidation),delete E.timerIdBundleValidation),e.next=23,b.getClientTranslations();case 23:C.featureFlags.bundles&&m.isHostProductActive()&&Q().then((function(){if(void 0===d){var e=window.swogoDependenciesPolly.getPage().toLowerCase().includes("mobile");d=new window.IntersectionObserver((function(e,t){for(var n=0;n<e.length;n++)if(e[n].isIntersecting){var r=e[n].target.getBoundingClientRect();if(r.left!==r.right&&r.top!==r.bottom){t.unobserve(e[n].target);var o=e[n].target.id.replace("swogo-bundle-",""),i=m.getContainerConfig(o,C),a=window.swogo.getBundleContainerObject(o)&&window.swogo.getBundleContainerObject(o).bundles;if(a&&a.length){var s,u=null===(s=window.swogoDependenciesPolly.getSkus()[0])||void 0===s?void 0:s.sku,c=P.retrieveImpressionData(a,u),l=i.uiPosition?i.uiPosition:"";P.sendTrackingInformation(c,o,r,l)}}}}),{root:null,threshold:e?.38:.5})}_(t)})),!p&&C.featureFlags.checkSkus&&(p=B()),!g&&C.featureFlags.checkAPIOnlyIntegrationEvents&&(g=k.checkApiOnlyIntegrationEvents()),C.featureFlags.onLoadPageFireEvents&&k.onLoadPageFireEventsFromPolyfil(),window.swogo.getFeatureFlags().resetAPIListeners&&window.swogoDependenciesPolly.initAPIListeners&&window.swogoDependenciesPolly.initAPIListeners();case 28:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function q(e,t,n){return U.apply(this,arguments)}function U(){return(U=u(regeneratorRuntime.mark((function e(t,n,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){var o=t,i=setInterval((function(){o>0?(o--,r()&&(e(!0),clearInterval(i))):(r(),e(!0),clearInterval(i))}),n)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}document.addEventListener("bundleWithDiscountsEvent",(function(e){h.bundleWithDiscount(e.detail)}),{once:!0});var _=function(){var e=u(regeneratorRuntime.mark((function e(t,n){var r,o,i,s,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(R=!0,r=m.extractPageParts().name,C.pageIdentifiersConfig[r]){e.next=4;break}return e.abrupt("return");case 4:if(o=document.getElementsByClassName("swogo-box"),!(window.swogo.getContainerIdsDelayedLoading(r).length>0)){e.next=9;break}return e.next=9,q(20,100,(function(){for(var e=window.swogo.getContainerIdsDelayedLoading(r),t={},n=0;n<o.length;n++)t[o[n].id.replace("swogo-bundle-","")]=1;for(var i=0;i<e.length;i++)if(!t[e[i].toString()])return!1;return!0}));case 9:i=[],s=function(e){if(!n||n&&n.includes(o[e].id)){var s=o[e].id.replace("swogo-bundle-","");if(!s)return H(t,r),"continue";var u=m.getContainerConfig(s,C);if(""===u.template)return H(t,r),"continue";i.push($(o[e],s,G(u.template),void 0,t).then((function(){j.push(o[e]),"object"===a(o[e])&&d.observe(o[e]),window.swogo.getExtraEvents().includes("bundleLoaded")&&k.bundleLoaded(T[s].bundles||[],r,s,C),m.checkHasFunctionRenderComplete(T[s])&&T[s].renderComplete()})))}},u=0;case 12:if(!(u<o.length)){e.next=19;break}if("continue"!==s(u)){e.next=16;break}return e.abrupt("continue",16);case 16:u++,e.next=12;break;case 19:Promise.all(i).then((function(e){H(t,r),R=!1}));case 20:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();function H(e,t){f||(f=setInterval((function(){var n,r=function(e){if(Array.isArray(e))return l(e)}(n=document.getElementsByClassName("swogo-box"))||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||c(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),o=j.filter((function(e){var n=null==e?void 0:e.id;return!r.map((function(e){if(void 0!==C.pageIdentifiersConfig[t][null==e?void 0:e.id.replace("swogo-bundle-","")])return e.id})).includes(n)}));if(void 0!==o&&o.length>0)for(var i=0;i<o.length;i++)if(void 0!==o[i])for(var a=0;a<j.length;a++)if(void 0!==j[a]&&o[i].id===j[a].id){j.splice(a,1);break}var s=r.filter((function(e){var n=e.id.replace("swogo-bundle-","");return!j.map((function(e){return null==e?void 0:e.id})).includes(e.id)&&void 0!==C.pageIdentifiersConfig[t][n]}));s.length&&Object.keys(T).length&&!R&&_(e,s.map((function(e){return e.id})))}),500))}function G(e){if("string"==typeof e)return e;var t=b.getSelectedLanguage();return t&&e[t]?e[t]:e[Object.keys(e)[0]]}function J(){var e=b.getSelectedLanguage();if(void 0!==C&&void 0!==C.variants&&(!C.variants.languages||C.variants.languages.map((function(e){return e.toLowerCase()})).includes(e))){var t=m.getClientVariant(),n=D.indexOf(t),r=w.retrieveValue(x,{domain:C.cookieDomain});if(void 0!==r&&-1!==n&&r!==n&&(r=void 0,w.forgetValue(x)),void 0===r){if(-1!==n)r=n;else{r=0;for(var o=Math.random(),i=0,a=0;a<C.variants.weights.length;a++)if(o-(i+=C.variants.weights[a])<=0){r=a;break}}var s=new Date;s.setDate((new Date).getDate()+30),w.storeValue(x,r,{location:C.locationStorage,domain:C.cookieDomain,expires:s})}else r=void 0===r.value.value?r.value:r.value.value;Object.assign(C,C.variants.definitions[r],{variant:D.charAt(r)})}}function W(e){document.querySelectorAll('[data-pagename="swogo_'.concat(m.extractPageParts().name,'"]')).forEach((function(e){return e.remove()}));var t=document.querySelectorAll('[id="swogo_styles"]');m.removeChildElements(t);var n=document.createElement("script");return n.src=e,n.setAttribute("data-pagename","swogo_".concat(m.extractPageParts().name)),document.body.appendChild(n),n}function Q(){return K.apply(this,arguments)}function K(){return(K=u(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,t){var n="".concat(window.swogo.getBundlesUiDomain()).concat(window.swogo.getClient(),"/");n+="".concat(window.swogo.getVariant(),"/").concat(m.extractPageParts().name,".js"),C.featureFlags.preventUiReset?window.swogoCheckAppendUiJS&&window.swogoActivePage===window.swogo.getDependencyMethod("getPage")()?_(window.swogoDependenciesPolly.getSkus()[0].sku):(window.swogoActivePage=window.swogo.getDependencyMethod("getPage")(),W(n).onload=function(){window.swogoCheckAppendUiJS=!0,e()}):W(n).onload=function(){e()}})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $(e,t,n,r,o){return Y.apply(this,arguments)}function Y(){return(Y=u(regeneratorRuntime.mark((function e(t,n,r,o,i){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=10,e.abrupt("return",new Promise((function(e){var s=setInterval(u(regeneratorRuntime.mark((function u(){var c;return regeneratorRuntime.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:if(a--,!window.swogoBundlesUi){u.next=16;break}if(clearInterval(s),T[n]=window.swogoBundlesUi.createContainerObject(n),void 0===T[n]){u.next=16;break}return u.t0=T[n],u.next=8,window.swogo.getBundles(n,o,i);case 8:return u.t1=u.sent,u.t2=i,u.t0.setBundles.call(u.t0,u.t1,u.t2),u.next=13,null===(c=T[n])||void 0===c?void 0:c.getHTML(r);case 13:t.innerHTML=u.sent,b.applyTranslations(t),e();case 16:a<=0&&(clearInterval(s),e());case 17:case"end":return u.stop()}}),u)}))),500)})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function z(e,t){return X.apply(this,arguments)}function X(){return(X=u(regeneratorRuntime.mark((function e(t,n){var r,o,i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(window.swogo.getDependencyMethod("getParentSkus")?t.hosts?t.hosts[t.hosts.length-1]:{}:window.swogo.getDependencyMethod("getSkus")()[0])||{},o=r.sku,i=m.getContainerIdForUIPosition("hero",C),a=!1,!((n||{}).hideFirstBundle&&o&&(t||{}).accessories)){e.next=8;break}if(""===i){e.next=7;break}return e.next=7,q(A,100,(function(){return null!==document.getElementById("swogo-bundle-".concat(i))&&(a=!0,!0)}));case 7:a&&((n.configuration||{}).longStyle?t.accessories[o].length&&t.accessories[o][0].accessories.shift():t.accessories[o].shift());case 8:return e.abrupt("return",t);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Z(e,t){var n=(window.swogo.getDependencyMethod("getSkus")()[0]||{}).sku;if((t.configuration||{}).longStyle&&(t.configuration||{}).longStyleIntoBundles&&n&&(e||{}).accessories){for(var r=e.accessories[n][0],o=[],i=0;i<r.accessories.length;i++){var a={accessories:[r.accessories[i]],messages:r.messages};o.push(a)}e.accessories[n]=o}return e}e.exports={setSwogoConfig:function(e){C=e},getBundleContainerObjects:function(){return T},resetBundleContainerObjects:function(){T={}},avoidDuplicateHeroBundle:z,handleVariant:J,getBundles:function(e,t,n){var r=m.extractPageParts().name;if(""!==r){var i,a=m.getContainerConfig(e,C).pageIdentifiersConfig,s=window.swogo.getUiPosition(e,r),c=function(e){return e?e.charAt(0).toUpperCase()+e.substring(1):e},l={client:window.swogo.getClientnameWithTranslation(),skus:n?[n]:window.swogo.getDependencyMethod("getSkus")().map((function(e){return e.sku})),type:"bundles",matching:"default",assistant:r,bundlesLocation:function(e,t){var n=e,r=e.match(/([a-z][a-zA-Z]+)(MobileApp)/);if(r){var o=r[2],i=r[1];n=o.charAt(0).toLowerCase()+o.substring(1)+c(i)}return t&&(n+=c(t)),n}(r,a.uiPosition)};if(void 0!==t){for(var d=0;d<t.length;d++)t[d].ignoreDates=!0;l.discountConfig=t}if(void 0!==a&&a[r]&&a[r][e]){if(Array.isArray(C.pageIdentifiersConfig[r][e])){var f=C.pageIdentifiersConfig[r][e],p=b.getSelectedLanguage();i=f.find((function(e){return e.language===p})).bundlesConfig||{}}else i=a[r][e].bundlesConfig||{};i.matching&&(l.matching=i.matching),i.assistant&&(l.assistant=i.assistant),l.filters=i.filters||{},i.bundlesAPIDynamicFilters&&(L=!0),N=window.swogo.getDynamicFilters(L,N),0!==Object.keys(N).length&&(l.filters=o(o({},i.filters),N)),i.tags&&(l.tags=i.tags),i.configuration&&(l.configuration=JSON.stringify(i.configuration))}if(window.swogo.getDependencyMethod("getParentSkus")){var g=window.swogo.getDependencyMethod("getParentSkus")(),h=l.skus.filter((function(e){return g.includes(e)}));h.length>0&&(l.parentSkus=h)}return window.swogoAPI.payload="/".concat(window.btoa(encodeURIComponent(JSON.stringify(l)))),y.getResponse(l,e).then(function(){var t=u(regeneratorRuntime.mark((function t(n){var o,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=n.rawBundles,a=n.apiResponse,t.t0=v,t.t1=Z,t.next=5,z(o,i);case 5:return t.t2=t.sent,t.t3=i,t.t4=(0,t.t1)(t.t2,t.t3),t.t5=e,t.t6=r,t.t7=s,t.t8={bundles:t.t4,containerId:t.t5,pageName:t.t6,uiPosition:t.t7},t.abrupt("return",t.t0.default.call(t.t0,t.t8).then(function(){var t=u(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(void 0!==window.swogoProductApiPolly&&void 0!==window.swogoProductApiPolly.getProductInformation&&C.featureFlags.updateAfterRender&&a&&window.swogoAPI.enhancedBundles)){t.next=3;break}return t.next=3,O.updateProductData({products:window.swogoAPI.enhancedBundles.products,bundles:window.swogoAPI.enhancedBundles.bundles},C.featureFlags.updateAfterRender,o,e);case 3:return t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},tasksAfterDomReady:V,getTemplate:G,resetInitializeAttempts:function(){E.count=0,E.countBundleValidation=0,E.countPolyfillValidation=0},resetCheckSkusObserver:function(){clearInterval(p),p=null},resetIntersectionObserver:function(){void 0!==d&&d.disconnect()},resetMutationObserver:function(){void 0!==f&&(clearInterval(f),f=null)},resetRenderedContainers:function(){j=[]},resetMeetPolyfillReqDone:function(){I=!1},renderBundles:$}},739:(e,t,n)=>{"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return function(e,t){if(e!==t)throw new TypeError("Private static access of wrong provenance")}(e,t),n}n.r(t),n.d(t,{Logger:()=>s});var i=Object.freeze({DEBUG:"debug",ERROR:"error"}),a={error:{background:"#ffcfcf",color:"#df0000"},warning:{background:"#fdca58",color:"#d66300"},info:{background:"#0a99ff",color:"#fff"},unknown:{background:"#919191",color:"#fff"}},s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n;return t=e,n=[{key:"sendErrorLog",value:function(t){o(this,e,u).call(this,{level:i.ERROR,message:t,html:document.documentElement.outerHTML})}},{key:"sendDebugLog",value:function(t){o(this,e,u).call(this,{level:i.DEBUG,message:t,html:""})}},{key:"handleLog",value:function(e){var t=window.swogo.getFeatureFlags(),n=window.swogo.getLogConfig();this.fillLogObject(e),("verbose"===t.logLevel||"simple"===t.logLevel&&"unknown"!==e.type&&""!==e.payload&&["error","warning"].includes(e.type))&&this.printLog({sourceService:"frontend",client:window.swogo.getClient(),type:e.type,payload:e.payload}),(n.errorLogPages||[]).find((function(e){return-1!==window.swogo.getDependencyMethod("getPage")().indexOf(e)}))&&!e.supressLogTracking&&this.sendErrorLog(e.payload)}},{key:"fillLogObject",value:function(e){void 0===e.type&&(e.type="unknown"),void 0===e.payload&&(e.payload="")}},{key:"printLog",value:function(e){void 0===a[e.type]?console.log(" SWOGO-LOG: ",e):console.log("%c SWOGO-LOG: ","background:"+a[e.type].background+"; color:"+a[e.type].color,e)}}],null&&r(t.prototype,null),n&&r(t,n),e}();function u(e){var t=window.swogo.getLogDomain();window.swogo.fetch(t,{method:"POST",body:JSON.stringify({level:e.level,page:window.swogo.getDependencyMethod("getPage")(),message:e.message+" html: "+e.html,client:window.swogo.getClientTrackingName()}),headers:{"Content-Type":"application/json"}})}},793:e=>{"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}var n=["session","local","cookie"],r={},o=[];function i(e,t){if((t||{}).expires){var n={value:e,expires:t.expires.getTime()};return JSON.stringify(n)}return e}function a(t,n){var r;switch(n){case"session":r=window.sessionStorage.getItem(t);break;case"local":r=window.localStorage.getItem(t);break;default:return null}try{var o=JSON.parse(r),i=o.value;return(new Date).getTime()>o.expires?(e.exports.forgetValue(t),null):{value:i,expires:new Date(o.expires)}}catch(e){return r?{value:r}:null}}!function(){try{window.sessionStorage.setItem("swogoTestSessionStorage",""),window.sessionStorage.removeItem("swogoTestSessionStorage"),o.push("session")}catch(e){}try{window.localStorage.setItem("swogoTestLocalStorage",""),window.localStorage.removeItem("swogoTestLocalStorage"),o.push("local")}catch(e){}try{document.cookie='swogoTestCookie="";expires="'.concat(new Date(0),'"'),o.push("cookie")}catch(e){}if(0===o.length)throw new Error("No available stores to persist data.")}(),e.exports.storeValue=function(e,a,s){if(!this.checkUserConsentAndDeleteAllBrowserInfoIfNeeded()){var u;if((s||{}).location&&o.includes(s.location)&&(u=s.location),"cookie"===u&&(s.path="/",!s.expires)){var c=new Date;s.expires=new Date(c.setMonth(c.getMonth()+1))}if(!u)for(var l=0;l<n.length;l++)if(o.includes(n[l])){u=n[l];break}var d={dataType:t(a),persistedAt:Date.now(),location:u},f=a;if("object"===t(a)&&(f=JSON.stringify(a)),"session"===u){var p=i(f,s);window.sessionStorage.setItem(e,p),r[e]=d}else if("local"===u){var g=i(f,s);window.localStorage.setItem(e,g),r[e]=d}else"cookie"===u&&(document.cookie=function(e,t,n){var r=!0===(null==n?void 0:n.alreadyEncoded)?"".concat(e,"=").concat(t):"".concat(e,"=").concat(encodeURIComponent(t));return n&&(n.path&&(r+=";path=".concat(n.path)),n.domain&&(r+=";domain=".concat(n.domain)),n.maxAge&&(r+=";max-age=".concat(n.maxAge)),n.expires&&(r+=';expires="'.concat(n.expires.toUTCString(),'"')),n.secure&&(r+=";secure"),n.sameSite&&(r+=";samesite")),r}(e,f,s),r[e]=d)}},e.exports.storeJsonValue=function(e,t){var n=new Date;n.setDate((new Date).getDate()+30),this.storeValue(e,encodeURIComponent(JSON.stringify(t)),{location:window.swogo.getLocationStorage(),domain:window.swogo.getCookieDomain(),expires:n,alreadyEncoded:!0})},e.exports.retrieveValue=function(e,n){var i;if(r[e]){if("cookie"===r[e].location){var s=document.cookie.match("".concat(e,"=([^; ]+)"));i=null===s?s:s[1]}else i=a(e,r[e].location);return null===i?void delete r[e]:function(e,n){var o,i=n;return"object"===r[e].dataType&&(i=JSON.parse(i)),"object"===t(n)&&"string"===r[e].dataType&&(i=n.value,o=n.expires),{value:i,expirationDate:o,persistedAt:r[e].persistedAt}}(e,i)}if(!this.checkUserConsentAndDeleteAllBrowserInfoIfNeeded()){if(o.includes("session")&&null!==(i=a(e,"session")))return this.storeValue(e,i.value,{location:"session",expires:i.expires}),this.retrieveValue(e,n);if(o.includes("local")&&null!==(i=a(e,"local")))return this.storeValue(e,i.value,{location:"local",expires:i.expires}),this.retrieveValue(e,n);if(o.includes("cookie")){var u=document.cookie.match("".concat(e,"=([^; ]+)"));if(null!==u)return this.storeValue(e,u[1],{location:"cookie",domain:(n||{}).domain,alreadyEncoded:(n||{}).alreadyEncoded}),this.retrieveValue(e,n)}}},e.exports.retrieveJsonValue=function(e){var t,n=null===(t=this.retrieveValue(e,{domain:window.swogo.getCookieDomain(),alreadyEncoded:!0}))||void 0===t?void 0:t.value;return n?JSON.parse(decodeURIComponent(n)):null},e.exports.checkUserConsentAndDeleteAllBrowserInfoIfNeeded=function(){return!(!window.swogo||window.swogo instanceof HTMLScriptElement||window.swogo.getUserCookieConsent()||(Object.keys(r).forEach((function(t){e.exports.forgetValue(t)})),o=[],0))},e.exports.forgetValue=function(e){var t=r[e];if(t){switch(t.location){case"session":window.sessionStorage.removeItem(e);break;case"local":window.localStorage.removeItem(e);break;case"cookie":this.storeValue(e,this.retrieveValue(e).value,{location:"cookie",expires:new Date(0),domain:window.swogo.getCookieDomain()})}delete r[e]}},e.exports.getAvailableStores=function(){return o}},261:(e,t,n)=>{var r=n(559)().fetch;e.exports.swogoFetch=r},313:(e,t,n)=>{"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=n(594).MonitoringConfig,a=n(684).GlobalVariables,s=n(659);e.exports={start:function(e){var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);t=i.setDefaultConfigs(t),a.setGlobals(t),s.setSwogoConfig(t),window.addEventListener("tasksAfterDomReadySuccess",(function(){window.swogo.generateReferral()}),{once:!0}),"loading"!==document.readyState?s.tasksAfterDomReady():window.addEventListener("DOMContentLoaded",(function(){s.tasksAfterDomReady()}))}}},230:(e,t,n)=>{function r(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=a(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,i=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw i}}}}function o(e,t,n,r,o,i,a){try{var s=e[i](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,o)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function s(e){o(a,r,i,s,u,"next",e)}function u(e){o(a,r,i,s,u,"throw",e)}s(void 0)}))}}function a(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var u=n(793),c=n(739).Logger,l="swogoSkusAddedToCart";function d(e,t){return!!(window.swogo.getFeatureFlags().externalTracking&&window.swogo.getExternalTrackingEvents().includes(e)&&t&&t.length)}function f(e){var t;try{t=JSON.parse(u.retrieveValue(l,{domain:window.swogo.getCookieDomain()}).value)}catch(e){c.handleLog({type:"error",payload:"An error ocurred while retrieving the ".concat(l,".")}),t=null}var n,r=[];if(t&&t.length&&r.push.apply(r,function(e){if(Array.isArray(e))return s(e)}(n=t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||a(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),e.forEach((function(e){e.sku&&r.push(e.sku)})),r.length){var o=new Date;o.setDate((new Date).getDate()+30),u.storeValue(l,r,{location:window.swogo.getLocationStorage(),expires:o})}}function p(e,t){return g.apply(this,arguments)}function g(){return(g=i(regeneratorRuntime.mark((function e(t,n){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.map((function(e){return{sku:e.sku,price:e.discountPrice||e.price,name:e.title,quantity:e.quantity,isHost:!!e.isHost&&e.isHost}})),o={hitType:"event",event:t,eventCategory:"Swogo",eventAction:t,eventLabel:{products:r}};try{window.dataLayer.push(o)}catch(e){c.handleLog({type:"error",payload:"An error ocurred while pushing data to window.dataLayer. "+"Payload: ".concat(JSON.stringify(o),". Error: ").concat(e)})}case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e){switch(e){case"atc":return"swogo_add_to_cart";case"impression":return"swogo_view_item_list";case"referral":return"swogo_select_item";default:return e}}function y(e,t){return w.apply(this,arguments)}function w(){return(w=i(regeneratorRuntime.mark((function e(t,n){var r,o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=h(t),o=n.map((function(e){return{item_id:e.sku,quantity:e.quantity||1,item_list_id:"swogo_id",item_list_name:"swogo"}})),i={event:r,ecommerce:{items:o}};try{window.dataLayer.push(i)}catch(e){c.handleLog({type:"error",payload:"An error ocurred while pushing data to window.dataLayer. "+"Payload: ".concat(JSON.stringify(i),". Error: ").concat(e)})}case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e,t){return b.apply(this,arguments)}function b(){return(b=i(regeneratorRuntime.mark((function e(t,n){var o,i,a,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=r(n);try{for(o.s();!(i=o.n()).done;){a=i.value,s={hitType:"event",eventCategory:"Swogo",eventAction:t,eventLabel:a.sku,eventValue:a.quantity};try{window.ga("send",s)}catch(e){c.handleLog({type:"error",payload:"An error ocurred while calling window.ga(). "+"Payload: ".concat(JSON.stringify(s),". Error: ").concat(e)})}}}catch(e){o.e(e)}finally{o.f()}return e.next=4,new Promise((function(e){window.setTimeout(e,400)}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e,t,n){return k.apply(this,arguments)}function k(){return(k=i(regeneratorRuntime.mark((function e(t,n,o){var i,a,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=r(o);try{for(i.s();!(a=i.n()).done;){s=a.value;try{t.send("event","Swogo",n,s.sku,s.quantity)}catch(e){c.handleLog({type:"error",payload:"An error ocurred while calling tracker.send(). "+"Payload: ".concat(JSON.stringify(payload),". Error: ").concat(e)})}}}catch(e){i.e(e)}finally{i.f()}return e.next=4,new Promise((function(e){window.setTimeout(e,400)}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(e){var t=[];return Array.isArray(e)&&e.forEach((function(e){t=t.concat(e)})),t}function P(e,t,n,r){return O.apply(this,arguments)}function O(){return O=i(regeneratorRuntime.mark((function e(t,n,r,o){var i,a,s=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=s.length>4&&void 0!==s[4]?s[4]:void 0,a=s.length>5&&void 0!==s[5]?s[5]:void 0,"atc"===n&&f(t),"impression"!==n||window.swogo.getFeatureFlags().customExternalTrackingPayload&&!r.includes("basket")&&!r.includes("popup")||(t=S(t)),!window.swogo.getFeatureFlags().customExternalTrackingPayload){e.next=14;break}return e.prev=5,e.next=8,window.swogoGA.send(n,t,r,o,i,a);case 8:return e.abrupt("return");case 11:e.prev=11,e.t0=e.catch(5),c.handleLog({type:"error",payload:"An error ocurred while calling window.swogoGA.send(). "+"products: ".concat(JSON.stringify(t),". Error: ").concat(e.t0)});case 14:if(!window.swogo.getFeatureFlags().externalTrackingUseDataLayer){e.next=18;break}return e.next=17,p(n,t);case 17:return e.abrupt("return");case 18:if(!window.swogo.getFeatureFlags().externalTrackingUseDataLayerGA4){e.next=22;break}return e.next=21,y(n,t);case 21:return e.abrupt("return");case 22:if(!window.ga){e.next=31;break}if("function"!=typeof window.ga.getAll||!Array.isArray(window.ga.getAll())||!window.ga.getAll()[0]||"function"!=typeof window.ga.getAll()[0].send){e.next=28;break}return e.next=26,m(window.ga.getAll()[0],n,t);case 26:e.next=31;break;case 28:if(!window.ga||"function"!=typeof window.ga){e.next=31;break}return e.next=31,v(n,t);case 31:case"end":return e.stop()}}),e,null,[[5,11]])}))),O.apply(this,arguments)}e.exports.trackAddToCart=function(){var e=i(regeneratorRuntime.mark((function e(t,n){var r,o=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=o.length>2&&void 0!==o[2]?o[2]:void 0,!d("atc",t)){e.next=5;break}return e.next=5,P(t,"atc",n,r);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),e.exports.trackReferral=function(){var e=i(regeneratorRuntime.mark((function e(t,n){var r,o,i,a=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=a.length>2&&void 0!==a[2]?a[2]:void 0,o=a.length>3&&void 0!==a[3]?a[3]:void 0,i=a.length>4&&void 0!==a[4]?a[4]:void 0,!d("referral",t)){e.next=7;break}return e.next=7,P(t,"referral",n,r,o,i);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),e.exports.trackImpression=function(){var e=i(regeneratorRuntime.mark((function e(t,n){var r,o=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=o.length>2&&void 0!==o[2]?o[2]:void 0,!d("impression",t)){e.next=5;break}return e.next=5,P(t,"impression",n,r);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),e.exports.trackUIEvent=function(){var e=i(regeneratorRuntime.mark((function e(t,n,r){var o,i=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=i.length>3&&void 0!==i[3]?i[3]:void 0,!d(r,t)){e.next=5;break}return e.next=5,P(t,r,n,o);case 5:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),e.exports.trackPayment=function(){var e=i(regeneratorRuntime.mark((function e(t){var n,r,o,i,a=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.length>1&&void 0!==a[1]?a[1]:void 0,!d(r="purchase",t)){e.next=20;break}e.prev=4,o=JSON.parse(u.retrieveValue(l,{domain:window.swogo.getCookieDomain()}).value),e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(4),c.handleLog({type:"error",payload:"An error ocurred while retrieving the ".concat(l,".")}),e.abrupt("return");case 12:if(o&&o.length){e.next=14;break}return e.abrupt("return");case 14:if((i=t.filter((function(e){return o.indexOf(e.sku)>-1}))).length){e.next=17;break}return e.abrupt("return");case 17:return e.next=19,P(i,r,"payment",n);case 19:u.forgetValue(l);case 20:case"end":return e.stop()}}),e,null,[[4,8]])})));return function(t){return e.apply(this,arguments)}}()},586:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ImpressionHandler:()=>s});var r=n(230),o=n(547),i=n(153);function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n;return t=e,n=[{key:"retrieveImpressionData",value:function(e,t){var n=e.length,r=0,o=0,i=[],a=[],s=[],u=[],c=window.swogoDependenciesPolly.getPage().toLowerCase().includes("basket");c&&(n=1,r=1,o=1);for(var l=0;l<n;l++){c||(s=[],u=[]);for(var d=e[l],f=r;f<d.length-o;f++)c&&(s=[],u=[]),e[l][f].filter((function(e){e.selected&&(e.isHost=e.sku===t,c?(s.push({sku:e.hostSku}),s.push({sku:e.sku}),e.isHost=!1,u.push(e)):(s.push({sku:e.sku}),u.push(e)))})),c&&(i[f-1]=s,a[f-1]=u);c||(i[l]=s,a[l]=u)}return{impressionSkus:i,impressionExternalTrackingSkus:a}}},{key:"sendTrackingInformation",value:function(e,t,n,a){var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,u=n.left+window.scrollX,c=n.right+window.scrollX,l=n.top+window.scrollY,d=n.bottom+window.scrollY,f=i.Helper.extractPageParts().name,p=a?"".concat(f).concat(a):f,g=!1;s&&(g=window.swogo.getExtraEvents().includes(s)),s&&!g||o.impression({containerId:t,containerCoords:"".concat(l,",").concat(u,",").concat(d,",").concat(c),products:e.impressionSkus},a),"handleShowMore"===s?r.trackUIEvent(e.impressionExternalTrackingSkus,p,s,t):r.trackImpression(e.impressionExternalTrackingSkus,p,t)}}],null&&a(t.prototype,null),n&&a(t,n),e}()},547:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t,n,r,o,i,a){try{var s=e[i](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,o)}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var u=n(650).Constant,c=n(739).Logger,l=n(793);function d(e,t){if(!window.swogo.getFeatureFlags().tracking)return Promise.resolve(!1);var n=window.swogo.getClientTrackingName(),a=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({client:"".concat(n.toLowerCase(),"_").concat(Math.pow(n.length,2)),variant:window.swogo.getVariant(),origin:t||window.swogo.getDependencyMethod("getPage")().match(/([^-\s]+)-\d+/i)[1],user:window.swogo.getTransactionId()},e);window.swogo.getUserCookieConsent()||(a.tracking=!1),"mobilePdp"===a.origin?a.origin="pdpMobile":"mobileBasket"===a.origin?a.origin="basketMobile":"mobilePayment"===a.origin&&(a.origin="paymentMobile");var s,u,c=window.swogo.getTrackingDomain();return 0===window.swogo.getTrackingConfig().type?s=function(e){for(var t=[],n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++)Array.isArray(e[n[o]])||"object"===r(e[n[o]])&&e[n[o]].constructor===Object?t.push("".concat(n[o],"=").concat(encodeURIComponent(JSON.stringify(e[n[o]])))):t.push("".concat(n[o],"=").concat(e[n[o]]));return window.btoa(encodeURIComponent(t.join("&")))}(a):(u=a,s=window.btoa(encodeURIComponent(JSON.stringify(u)))),window.swogo.fetch("".concat(c),{method:"post",body:s}).then((function(e){return e.text()})).then((function(e){return"ok"===e})).catch((function(e){return!1}))}e.exports.bundleAddedToCart=function(e){var t=e.uiPosition,n=void 0===t?void 0:t,r=e.products;if(0===r.length)return Promise.resolve(!1);for(var o={host:{},accessories:[]},i=0;i<r.length;i++){var a={id:r[i].sku,title:r[i].title,price:r[i].discountPrice?parseFloat(r[i].discountPrice):parseFloat(r[i].price)};r[i].isHost?(o.host=a,o.hostWasAdded=r[i].active||!1):(r[i].parentSku&&(a.parent_id=r[i].parentSku),o.accessories.push(a))}var s={type:"bundleList",bundleData:o};return void 0!==n&&(s.uiPosition=n),d(s)},e.exports.bundleReferral=function(e){var t=e.uiPosition,n=void 0===t?void 0:t,r=e.products,o=e.origin,i=void 0===o?void 0:o;if(0===r.length)return Promise.resolve(!1);for(var a={host:{},accessories:[]},s=0;s<r.length;s++){var u={id:r[s].sku,title:r[s].title,price:r[s].discountPrice?parseFloat(r[s].discountPrice):parseFloat(r[s].price)};r[s].isHost?a.host=u:(r[s].parentSku&&(u.parent_id=r[s].parentSku),a.accessories.push(u))}var l={type:"bundleList",bundleData:a,swogoReferral:1};return void 0!==n&&(l.uiPosition=n),d(l,i).then((function(e){return!0!==e&&c.handleLog({type:"error",payload:"Error tracking bundle referral. Payload: ".concat(JSON.stringify(l))}),e}))},e.exports.cartContentCheck=function(e){var t,n="";window.swogo.getDependencyMethod("getBasketUiPosition")&&(n=window.swogo.getDependencyMethod("getBasketUiPosition")());for(var r=[],o=0;o<e.length;o++){var i=Array(e[o].quantity).fill({id:e[o].sku,price:parseFloat(e[o].price),title:e[o].title});r.push.apply(r,function(e){if(Array.isArray(e))return s(e)}(t=i)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())}if(0===r.length)return Promise.resolve(!1);var a={uiPosition:n,type:"basketList",bundleData:r};return d(a).then((function(e){return!0!==e&&c.handleLog({type:"error",payload:"Error while tracking cart contents. Payload: ".concat(a)}),e}))},e.exports.paymentDone=function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var n,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.validGetSkusFunction&&t.products.length>0)||t.products[0].isEmpty){e.next=3;break}return e.next=3,this.cartContentCheck(t.products);case 3:return n={id:t.orderId},!0===window.swogo.getFeatureFlags().isToSendSkusOnPaymentEvent&&(r=t.products.length?t.products:l.retrieveJsonValue(u.SKUS_PERSIST_KEY)||[],n.skus=r.map((function(e){return e.sku}))),o={type:"payment",pay:n},e.abrupt("return",d(o).then((function(e){return!0!==e&&c.handleLog({type:"error",payload:"Error while tracking payment. Payload: ".concat(o)}),e})));case 7:case"end":return e.stop()}}),e,this)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function s(e){a(i,r,o,s,u,"next",e)}function u(e){a(i,r,o,s,u,"throw",e)}s(void 0)}))});return function(e){return t.apply(this,arguments)}}(),e.exports.impression=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n={type:"impression",bundleData:e};return void 0!==t&&(n.uiPosition=t),d(n).then((function(t){return!0!==t&&c.handleLog({type:"error",payload:"Failed to track an impression for ".concat(JSON.stringify(e))}),t}))},e.exports.bundleWithDiscount=function(e){return d({type:"bundleWithDiscount",bundleData:e}).then((function(t){return!0!==t&&c.handleLog({type:"error",payload:"Failed to track an bundleWithDiscount for ".concat(JSON.stringify(e))}),t}))},e.exports.bundleLoaded=function(e){var t=e.uiPosition,n=void 0===t?void 0:t,r={type:"bundleLoaded",bundleData:e.bundleData};return void 0!==n&&(r.uiPosition=n),d(r).then((function(e){return!0!==e&&c.handleLog({type:"error",payload:"Error tracking bundle loaded event. Payload: ".concat(JSON.stringify(r))}),e}))},e.exports.pdpLoaded=function(e){var t={type:"pdpLoaded",pdpData:{hostSku:e.hostSku}};return d(t).then((function(e){return!0!==e&&c.handleLog({type:"error",payload:"Error tracking pdp loaded event. Payload: ".concat(JSON.stringify(t))}),e}))}},505:(e,t,n)=>{"use strict";n.r(t),n.d(t,{TrackingHandler:()=>v});var r=n(650);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t,n,r,o,i,a){try{var s=e[i](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,o)}function l(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){c(i,r,o,a,s,"next",e)}function s(e){c(i,r,o,a,s,"throw",e)}a(void 0)}))}}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var f=n(153).Helper,p=n(739).Logger,g=n(793),h=n(547),y=n(230),w="swogoTransactionId",v=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,o,a,u,c,v,b,m,k;return t=e,null,n=[{key:"trackMainEvents",value:(k=l(regeneratorRuntime.mark((function e(t){var n,r,o,i,a=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.length>1&&void 0!==a[1]?a[1]:void 0,r=f.extractPageParts(),o=r.pageName,(window.swogo.getLogConfig().debugLogPages||[]).includes(o)&&p.sendDebugLog("script loaded successfully"),!o.includes("pdp")||!window.swogo.getExtraEvents().includes("pdpLoaded")){e.next=6;break}return e.abrupt("return",this.pdpLoaded());case 6:if(!o.includes("basket")){e.next=12;break}return i=f.filterProductsByQuantity(window.swogo.getDependencyMethod("getSkus")()),this.checkAndStoreSkus(t,i),e.next=11,h.cartContentCheck(i);case 11:return e.abrupt("return",e.sent);case 12:if(!o.includes("payment")||this.isPaymentTracked(t)){e.next=14;break}return e.abrupt("return",this.paymentEvent(t,null==n?void 0:n.getSkus));case 14:return e.abrupt("return",!0);case 15:case"end":return e.stop()}}),e,this)}))),function(e){return k.apply(this,arguments)})},{key:"onLoadPageFireEventsFromPolyfil",value:(m=l(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.swogo.getDependencyMethod("onLoadPageFireEvents")){e.next=5;break}return e.next=3,window.swogo.getDependencyMethod("onLoadPageFireEvents")();case 3:e.sent.forEach((function(e){switch(e.type){case"impression":h.impression({products:e.products});break;case"bundleAddedToCart":h.bundleAddedToCart({products:e.products});break;case"bundleReferral":h.bundleReferral({uiPosition:e.uiPosition,products:e.products});break;case"bundleLoaded":window.swogo.getExtraEvents().includes("bundleLoaded")&&h.bundleLoaded({products:e.products});break;case"pdpLoaded":window.swogo.getExtraEvents().includes("pdpLoaded")&&h.pdpLoaded({hostSku:e.hostSku})}}));case 5:case"end":return e.stop()}}),e)}))),function(){return m.apply(this,arguments)})},{key:"checkApiOnlyIntegrationEventsInner",value:function(){window.swogo.getDependencyMethod("checkNewTrackingEvents")&&window.swogo.getDependencyMethod("checkNewTrackingEvents")().forEach((function(e){switch(e.type){case"impression":h.impression({products:e.products,containerId:e.containerId,containerCoords:e.containerCoords},e.uiPosition);break;case"bundleAddedToCart":h.bundleAddedToCart({uiPosition:e.uiPosition,products:e.products});break;case"bundleReferral":h.bundleReferral({uiPosition:e.uiPosition,products:e.products,origin:e.origin});break;case"bundleLoaded":window.swogo.getExtraEvents().includes("bundleLoaded")&&h.bundleLoaded({products:e.products});break;case"pdpLoaded":window.swogo.getExtraEvents().includes("pdpLoaded")&&h.pdpLoaded({hostSku:e.hostSku})}}))}},{key:"checkApiOnlyIntegrationEvents",value:function(){return setInterval(e.checkApiOnlyIntegrationEventsInner,500)}},{key:"pdpLoaded",value:(b=l(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=window.swogo.getDependencyMethod("getSkus")&&(window.swogo.getDependencyMethod("getSkus")()[0]||{}).sku,e.prev=1,e.next=4,h.pdpLoaded({hostSku:t});case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),p.handleLog({type:"error",payload:"An error occurred while attempting to track a pdp loaded for: ".concat(JSON.stringify({hostSku:t}))});case 9:case"end":return e.stop()}}),e,null,[[1,6]])}))),function(){return b.apply(this,arguments)})},{key:"checkAndStoreSkus",value:function(e,t){!0===e.featureFlags.isToStoreSkusOnBasketListEvent&&g.storeJsonValue(r.Constant.SKUS_PERSIST_KEY,t)}},{key:"paymentEvent",value:(v=l(regeneratorRuntime.mark((function e(t){var n,r,o=this,i=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=i.length>1&&void 0!==i[1]?i[1]:void 0,(r=new Date).setDate((new Date).getDate()+30),!0===t.featureFlags.waitForPayment?window.swogo.getDependencyMethod("isPaymentDone")().then((function(){o.paymentDoneTriggerEvent(t,r,n)})):this.paymentDoneTriggerEvent(t,r,n);case 4:case"end":return e.stop()}}),e,this)}))),function(e){return v.apply(this,arguments)})},{key:"bundleLoaded",value:(c=l(regeneratorRuntime.mark((function e(t,n,r,o){var i,a,s,u,c,l,d,g;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(i=f.getContainerConfig(r,o),a=i.uiPosition,s=n.includes("basket"),u=[],c=[],l=0,s&&(l=1),d=0;d<t.length;d++){for(s&&(u=[]),g=l;g<t[d].length-1;g++)s?u.push(["",{sku:t[d][g][0].sku}]):c.push({sku:t[d][g][0].sku});s||(u.push(c),c=[])}return e.prev=7,e.next=10,h.bundleLoaded({bundleData:{products:u},uiPosition:a});case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(7),p.handleLog({type:"error",payload:"An error occurred while attempting to track a bundle loaded for: ".concat(JSON.stringify({products:u}))});case 15:case"end":return e.stop()}}),e,null,[[7,12]])}))),function(e,t,n,r){return c.apply(this,arguments)})},{key:"isPaymentTracked",value:function(e){var t=g.retrieveValue(w,{domain:e.cookieDomain});if(void 0!==t)return"0"===t.value}},{key:"paymentDoneTriggerEvent",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,o=r?f.filterProductsByQuantity(window.swogo.getDependencyMethod("getSkus")()):[];Promise.all([h.paymentDone({orderId:window.swogo.getDependencyMethod("getOrderId")(),products:o,validGetSkusFunction:r}),y.trackPayment(r?window.swogo.getDependencyMethod("getSkus")():[])]).then((function(r){g.storeValue(w,"0",{location:t.locationStorage,domain:t.cookieDomain,expires:n}),g.forgetValue("swogoVariantIdx"),e.checkAndStoreSkus(t,[])}))}},{key:"bundleAddedToCart",value:(u=l(regeneratorRuntime.mark((function e(t,n,r,o){var a,u,c,l,d,p,g,w,v;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=[],u=[],c=f.extractPageParts(),l=window.swogo.getUiPosition(r,c.name),!c.pageName.includes("basket")&&"popup"!==l){e.next=9;break}return e.next=7,window.swogo.getHostDataBySKUs([t[0].hostSku]);case 7:(d=e.sent)&&(n=t[0].hostSku,t.push.apply(t,s(d)));case 9:p=0;case 10:if(!(p<t.length)){e.next=20;break}if(t[p].active&&(g={sku:t[p].sku,quantity:t[p].quantity,additionalSKUs:[],services:t[p].services||null},Array.isArray(t[p].additionalSKUs)&&(g.additionalSKUs=t[p].additionalSKUs),a.push(g)),t[p].active||t[p].sku===n){e.next=14;break}return e.abrupt("continue",17);case 14:w=i({},t[p]),window.swogoDependenciesPolly.getParentSkus&&window.swogoDependenciesPolly.getParentSkus().length>0?(v=window.swogoDependenciesPolly.getParentSkus()[0],t[p].parentSku===v&&(w.isHost=!0)):t[p].sku===n&&(w.isHost=!0),u.push(w);case 17:p++,e.next=10;break;case 20:window.swogo.getDependencyMethod("addToCart")(a,(function(e,t){var n=window.swogo.getBundleContainerObject(r),i=f.getContainerConfig(r,o).uiPosition,a=f.extractPageParts().name,s=i?"".concat(a).concat(i):a;new Promise((function(t,n){e?n(e):t()})).then((function(){return Promise.all([h.bundleAddedToCart({uiPosition:i,products:u}),y.trackAddToCart(u,s,r)])})).then((function(e){void 0!==n&&void 0!==n.productsAddedToBasket&&n.productsAddedToBasket()})).catch((function(e){void 0!==n&&void 0!==n.productsNotAddedToBasket&&n.productsNotAddedToBasket()}))}));case 21:case"end":return e.stop()}}),e)}))),function(e,t,n,r){return u.apply(this,arguments)})},{key:"bundleReferral",value:(a=l(regeneratorRuntime.mark((function e(t,n,r,o,a){var u,c,l,d,g,w,v,b,m,k,S,P,O;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u=[],c=[t].concat(s(n)),l=f.getContainerConfig(o,a),d=l.uiPosition,g=f.extractPageParts().name,w=d?"".concat(g).concat(d):g,v=void 0!==r.find((function(e){return e.sku===t})),b=!1,!g.toLowerCase().includes("basket")||v){e.next=12;break}return e.next=10,window.swogo.getHostDataBySKUs([t]);case 10:(m=e.sent)&&r.push.apply(r,s(m));case 12:k=0;case 13:if(!(k<r.length)){e.next=23;break}if(-1!==c.indexOf(r[k].sku)){e.next=16;break}return e.abrupt("continue",20);case 16:S=i({},r[k]),r[k].sku!==t||b||(S.isHost=!0,b=!0),u.push(S),-1!==(P=c.indexOf(r[k].sku))&&c.splice(P,1);case 20:k++,e.next=13;break;case 23:return e.prev=23,e.next=26,h.bundleReferral({uiPosition:d,products:u});case 26:return e.next=28,y.trackReferral(u,w,o);case 28:e.next=33;break;case 30:e.prev=30,e.t0=e.catch(23),p.handleLog({type:"error",payload:"An error occurred while attempting to track a bundle referral for: ".concat(JSON.stringify({uiPosition:d,products:u}))});case 33:void 0!==(O=window.swogo.getBundleContainerObject(o))&&void 0!==O.bundleReferralTracked&&O.bundleReferralTracked();case 35:case"end":return e.stop()}}),e,null,[[23,30]])}))),function(e,t,n,r,o){return a.apply(this,arguments)})},{key:"newBundleReferral",value:(o=l(regeneratorRuntime.mark((function e(t,n,r,o,a,s){var u,c,l,d,g,w,v,b,m,k,S=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u=S.length>6&&void 0!==S[6]?S[6]:void 0,c=S.length>7&&void 0!==S[7]?S[7]:void 0,l=[],d=[t,n],g=!1,w=0;case 6:if(!(w<r.length)){e.next=14;break}if(-1!==d.indexOf(r[w].sku)){e.next=9;break}return e.abrupt("continue",11);case 9:v=i({},r[w]),r[w].sku!==t||g||(v.isHost=!0,g=!0),l.push(v);case 11:w++,e.next=6;break;case 14:return d[0]===d[1]&&(l.push(i({},l[0])),l[1].isHost=!1),b=f.extractPageParts().name,m=s?"".concat(b).concat(s):b,e.prev=17,e.next=20,h.bundleReferral({uiPosition:s,products:l,origin:a});case 20:return e.next=22,y.trackReferral(l,m,o,u,c);case 22:e.next=27;break;case 24:e.prev=24,e.t0=e.catch(17),p.handleLog({type:"error",payload:"An error occurred while attempting to track a bundle referral for: ".concat(JSON.stringify({uiPosition:s,products:l}))});case 27:void 0!==(k=window.swogo.getBundleContainerObject(o))&&void 0!==k.bundleReferralTracked&&k.bundleReferralTracked();case 29:case"end":return e.stop()}}),e,null,[[17,24]])}))),function(e,t,n,r,i,a){return o.apply(this,arguments)})}],n&&d(t,n),e}()},782:e=>{"use strict";function t(e,t,n,r,o,i,a){try{var s=e[i](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,o)}var n={};function r(){return window.swogo.getDependencyMethod("getLanguage")&&window.swogo.getDependencyMethod("getLanguage")()}function o(){var e;return e=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.swogo.getFeatureFlags().loadTranslations||!r()){e.next=4;break}return e.next=3,window.swogo.fetch("".concat("".concat(window.swogo.getBundlesUiDomain()).concat(window.swogo.getClient(),"/i18n/")).concat(r(),".json")).then((function(e){return e.json()})).catch((function(){return null}));case 3:n=e.sent;case 4:case"end":return e.stop()}}),e)})),o=function(){var n=this,r=arguments;return new Promise((function(o,i){var a=e.apply(n,r);function s(e){t(a,o,i,s,u,"next",e)}function u(e){t(a,o,i,s,u,"throw",e)}s(void 0)}))},o.apply(this,arguments)}e.exports={getClientTranslations:function(){return o.apply(this,arguments)},applyTranslations:function(e){if(r()&&n&&window.swogo.getFeatureFlags().loadTranslations){e.querySelectorAll("[data-i18n]").forEach((function(e){var t=e.dataset.i18n.split(".").reduce((function(e,t){return e[t]}),n);t&&(e.textContent=t)}));var t=e.querySelectorAll("[aria-label-i18n]");null==t||t.forEach((function(e){var t,r=e.getAttribute("aria-label-i18n").split(".").reduce((function(e,t){return e[t]}),n),o=[];try{o=JSON.parse(e.getAttribute("aria-label-i18n-placeholders"))}catch(e){}null===(t=o)||void 0===t||t.forEach((function(e){r=r.replace("$placeholder",e)})),r&&e.setAttribute("aria-label",r)}))}},getSelectedLanguage:r}},763:(e,t,n)=>{function r(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=a(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,i=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw i}}}}function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function i(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||a(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t,n,r,o,i,a){try{var s=e[i](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,o)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){u(i,r,o,a,s,"next",e)}function s(e){u(i,r,o,a,s,"throw",e)}a(void 0)}))}}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p=n(272),g=n(390),h=n(586).ImpressionHandler,y=n(112).CustomerProductData;function w(e,t){return parseFloat(e.toFixed(t))}e.exports.createUiManager=function(e,t,n){var a={numVisibleBundles:window.swogo.getInitNumBundles(t),maxNumVisibleAccessories:window.swogo.getMaxNumAccessories(t),maxNumVisibleOptions:window.swogo.getMaxNumOptions(t),slotSelectedOptions:{},slotSelectedQuantity:{},slotSelectedServices:{},slotSelectedVariations:{},deactivatedSlots:{},discountsCache:{},expandedOptions:{},uiConditions:{},expandedVariations:{},withoutVatEnabled:!1,withoutVatValue:null,productToDisplay:{}},s=window.swogo.getBundleConfig(t);return(s||{}).defaultUnselectedItems&&s.defaultUnselectedItems.forEach((function(t){a.deactivatedSlots[Object.keys(e.bundles)[0]]=f({},t.bundleId,new Set(t.items))})),Object.keys(e.products).forEach((function(t){e.products[t].price=w(e.products[t].price,2),void 0!==e.products[t].rrPrice&&(e.products[t].rrPrice=w(e.products[t].rrPrice,2))})),{getBundles:function(s){var u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",c=e.bundles[s];if(void 0===c||!function(e){return Array.isArray(e)&&e.find((function(e){return 0!==e.slots.length}))}(c))return window.swogo.setBundleCounter(0),[];this.withoutVat();var l=Math.min(a.numVisibleBundles,c.length);return window.swogo.setBundleCounter(this.getMaxVisibleBundles(s)),function(e,t,n,a,s,u,c,l,f){var p=[],y={};(window.swogoDependenciesPolly.getPage().toLowerCase().includes("basket")||"popup"===l)&&(y=function(e){var t,n={},o=r(window.swogoDependenciesPolly.getSkus());try{for(o.s();!(t=o.n()).done;){var i=t.value,a=e.bundles[i.sku];if(a){var s,u=r(a);try{for(u.s();!(s=u.n()).done;){var c=s.value;Object.entries(c.discounts).length>0&&(n=Object.assign(n,c.discounts))}}catch(e){u.e(e)}finally{u.f()}}}}catch(e){o.e(e)}finally{o.f()}return n}(t));for(var w=t.bundles[e],v=function(r){var a=w[r];!function(e,t,n,r,o){if(o){var a=function(e,t){for(var n=0,r=Object.keys(e),o=i(t).map((function(e){return e[0]})),a=0,s=r;a<s.length;a++){var u=s[a];o.includes(u)&&"services"===e[u].category&&n++}return n}(r,e.slots);a>0&&(function(e,t){for(var n=[],r=0;r<t.length;r++){var o=t[r],i=o[0];i in e&&"services"===e[i].category&&(n.push(o),t.splice(r,1),r--)}t.unshift.apply(t,n)}(r,e.slots),t=t+a-1)}e.slots.splice(t),e.slots.forEach((function(e){e.splice(n)}))}(a,s,u,t.products,window.swogo.getGroupServices(c));var l,f,h,v=(l=a.slots,f=d({},n.slotSelectedOptions[e])[r],h=[],l.forEach((function(e,t){e.forEach((function(e,n){var r=!1;void 0===f||void 0===f[t+1]?0===n&&(r=!0):f[t+1]===n&&(r=!0),r&&h.push(e)}))})),h),b=[e].concat(i(v)),m=1;window.swogoProductApiPolly&&window.swogoProductApiPolly.priceWithMinOrderQuantity&&parseInt(t.products[e].minOrderQuantity)>0&&(m=parseInt(t.products[e].minOrderQuantity));var k=function(e,t,n,r){return{hostVariantSku:void 0!==e.slotSelectedVariations[t]&&void 0!==e.slotSelectedVariations[t][n]&&void 0!==e.slotSelectedVariations[t][n][0]?e.slotSelectedVariations[t][n][0][0]:t,hostActive:void 0===e.deactivatedSlots[t]||void 0===e.deactivatedSlots[t][n]||!e.deactivatedSlots[t][n].has(0),hostQuantity:e.slotSelectedQuantity[t]&&e.slotSelectedQuantity[t][n]&&e.slotSelectedQuantity[t][n][0]?e.slotSelectedQuantity[t][n][0]:r,hostServices:e.slotSelectedServices[t]&&e.slotSelectedServices[t][n]?e.slotSelectedServices[t][n]:null}}(n,e,r,m),S=k.hostVariantSku,P=k.hostActive,O=k.hostQuantity,x=k.hostServices,D=d(d({},t.products[S]),{},{active:P,selected:!0,quantity:O,services:x}),C=a.slots.map((function(i,a){var s=void 0===n.deactivatedSlots[e]||void 0===n.deactivatedSlots[e][r]||!n.deactivatedSlots[e][r].has(a+1),u=n.slotSelectedQuantity[e]&&n.slotSelectedQuantity[e][r]&&n.slotSelectedQuantity[e][r][a+1]?n.slotSelectedQuantity[e][r][a+1]:1;return i.map((function(i,c){var l,f=void 0!==n.slotSelectedVariations[e]&&void 0!==n.slotSelectedVariations[e][r]&&void 0!==n.slotSelectedVariations[e][r][a+1]&&void 0!==n.slotSelectedVariations[e][r][a+1][c]?n.slotSelectedVariations[e][r][a+1][c]:i;return l=window.swogoProductApiPolly&&window.swogoProductApiPolly.priceWithMinOrderQuantity&&parseInt(t.products[f].minOrderQuantity)>1?u<parseInt(t.products[f].minOrderQuantity)?parseInt(t.products[f].minOrderQuantity):u:"object"===o(u)?u[c]?u[c]:1:u,!t.products[f].hostSku&&t.products[i].hostSku&&(t.products[f].hostSku=t.products[i].hostSku),d(d({},t.products[f]),{},{selected:b[a+1]===i,active:s,quantity:l,services:x})}))})),A=g.calculate(t.products,D,C,S,n,e,r,a,b,y),E=[[D]].concat(i(C),[[A]]),I=d({},t.bundles[e][r]).assistantMessages||[];I.length>0&&function(e,t){for(var n=e[0].accessorySelector.category,r=e[0].accessorySelector.sku,o=function(e){return Array.isArray(e)?e.some((function(e){return n.includes(e)})):n.includes(e)},i=1;i<t.length-1;i++)for(var a=0;a<t[i].length;a++){var s=t[i][a].sku,u=t[i][a].category;void 0!==n?void 0!==r?o(u)&&r.includes(s)&&(t[i][a].assistantMessages=e):o(u)&&(t[i][a].assistantMessages=e):r.includes(s)&&(t[i][a].assistantMessages=e)}}(I,E),p.push(E)},b=0;b<a;b++)v(b);return!0===window.swogo.getFeatureFlags().isToSendBundleWithDiscountsEvent&&function(e){var t,n=[],o=r(e);try{for(o.s();!(t=o.n()).done;){var i=t.value;if(i.length&&i[i.length-1][0]&&i[i.length-1][0].applyStrategy){var a,s=i[0][0],u={host:{sku:s.sku,quantity:s.quantity,bundleTotalDiscountId:s.bundleTotalDiscountId,swogoDiscounted:s.swogoDiscounted},accessories:[],applyStrategy:i[i.length-1][0].applyStrategy,isStrict:i[i.length-1][0].isStrict},c=r(i);try{for(c.s();!(a=c.n()).done;){var l,d=a.value,f=[],p=r(d);try{for(p.s();!(l=p.n()).done;){var g=l.value;g.sku&&g.sku!=s.sku&&f.push({sku:g.sku,quantity:g.quantity,discountId:g.discountId,bundleTotalDiscountId:g.bundleTotalDiscountId,swogoDiscounted:g.swogoDiscounted})}}catch(e){p.e(e)}finally{p.f()}f.length>0&&u.accessories.push(f)}}catch(e){c.e(e)}finally{c.f()}n.push(u)}}}catch(e){o.e(e)}finally{o.f()}if(n.length>0){var h=new CustomEvent("bundleWithDiscountsEvent",{detail:n});document.dispatchEvent(h)}}(p),""!==f&&function(e,t,n,r,o){var a=i(t),s=a.length-window.swogo.getMinNumBundles(o),u=document.getElementById("swogo-bundle-".concat(o)).getBoundingClientRect(),c=h.retrieveImpressionData(a,r);"handleShowMore"===e&&(c.impressionExternalTrackingSkus=c.impressionExternalTrackingSkus.slice(-1*s),c.impressionSkus=c.impressionSkus.slice(-1*s),h.sendTrackingInformation(c,o,u,n,e))}(f,p,l,e,c),p}(s,d({},e),a,l,a.maxNumVisibleAccessories,a.maxNumVisibleOptions,t,n,u)},getProductVariations:function(n,r){return c(regeneratorRuntime.mark((function o(){var i;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(void 0!==e.products[n.sku]&&void 0!==e.products[n.sku].parentSku){o.next=2;break}return o.abrupt("return",[]);case 2:if(i=e.products[n.sku].parentSku,void 0!==e.variations[i]&&void 0!==e.variations[i][n.tag]){o.next=6;break}return o.next=6,p.getResponse({client:window.swogo.getClientnameWithTranslation(),skus:[n.sku],type:"options",tags:[n.requestTag||n.tag]},t).then(function(){var t=c(regeneratorRuntime.mark((function t(r){var o,i,a,s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=r.rawBundles,o={},r.options.forEach((function(e){var t=f({},e.sku,e);Object.assign(o,t)})),i=window.swogo.getFeatureFlags().updateAfterRender,void 0===window.swogoProductApiPolly||void 0===window.swogoProductApiPolly.getProductInformation||i){t.next=7;break}return t.next=7,y.updateProductData({products:o,bundles:e.bundles});case 7:if(Array.isArray(r.options))for(a=0;a<r.options.length;a++)1===(s=r.options[a]).active&&(void 0===e.products[s.sku]&&(e.products[s.sku]=d({},s)),void 0===e.variations&&(e.variations={}),void 0===e.variations[s.parentSku]&&(e.variations[s.parentSku]={}),void 0===e.variations[s.parentSku][n.tag]&&(e.variations[s.parentSku][n.tag]={}),void 0===e.variations[s.parentSku][n.tag][s[n.tag]]&&(e.variations[s.parentSku][n.tag][s[n.tag]]=[]),e.variations[s.parentSku][n.tag][s[n.tag]].push(s));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 6:if(void 0===e.variations[i]||void 0===e.variations[i][n.tag]){o.next=10;break}if(!0!==r){o.next=9;break}return o.abrupt("return",e.variations[i][n.tag]);case 9:return o.abrupt("return",Object.keys(e.variations[i][n.tag]));case 10:return o.abrupt("return",[]);case 11:case"end":return o.stop()}}),o)})))()},handleOptionChange:function(e){return void 0!==a.discountsCache[e.hostSku]&&delete a.discountsCache[e.hostSku][e.bundle],void 0===a.slotSelectedOptions[e.hostSku]&&(a.slotSelectedOptions[e.hostSku]={}),void 0===a.slotSelectedOptions[e.hostSku][e.bundle]&&(a.slotSelectedOptions[e.hostSku][e.bundle]={}),a.slotSelectedOptions[e.hostSku][e.bundle][e.slot]=e.option,this.getBundles(e.hostSku)},handleVariationChange:function(t){var n=this;return c(regeneratorRuntime.mark((function r(){var o,s,u,c,l,d,f,p,g,h;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:for(void 0===t.secondaryTags&&(t.secondaryTags={}),o=0===t.slot?e.products[t.hostSku]:e.products[e.bundles[t.hostSku][t.bundle].slots[t.slot-1][t.option]],s=[t.tag].concat(i(Object.getOwnPropertyNames(t.secondaryTags))),u={},c=[],l=function(r){var i=s[r];void 0!==o[i]&&c.push(n.getProductVariations({sku:o.sku,tag:i},t.getAllInfo).then((function(){var n=t.secondaryTags[i],r=t.tag===i;if(r&&(n=t.value),void 0!==e.variations[o.parentSku]&&void 0!==e.variations[o.parentSku][i]&&void 0!==e.variations[o.parentSku][i][n])for(var a=e.variations[o.parentSku][i][n],s=0;s<a.length;s++){var c="string"==typeof a[s]?a[s]:a[s].sku;if(void 0===u[c]){if(!r)continue;u[c]=0}u[c]++}})))},d=0;d<s.length;d++)l(d);return r.next=9,Promise.all(c);case 9:for(p=Object.getOwnPropertyNames(u),g=0;g<p.length;g++)h=p[g],(void 0===f||u[h]>u[f])&&(f=h);return void 0!==f&&(void 0===a.slotSelectedVariations[t.hostSku]&&(a.slotSelectedVariations[t.hostSku]={}),void 0===a.slotSelectedVariations[t.hostSku][t.bundle]&&(a.slotSelectedVariations[t.hostSku][t.bundle]={}),void 0===a.slotSelectedVariations[t.hostSku][t.bundle][t.slot]&&(a.slotSelectedVariations[t.hostSku][t.bundle][t.slot]={}),a.slotSelectedVariations[t.hostSku][t.bundle][t.slot][t.option]=f),r.abrupt("return",n.getBundles(t.hostSku));case 13:case"end":return r.stop()}}),r)})))()},handleQuantityChange:function(e){if(void 0!==a.discountsCache[e.hostSku]&&delete a.discountsCache[e.hostSku][e.bundle],void 0===a.slotSelectedQuantity[e.hostSku]&&(a.slotSelectedQuantity[e.hostSku]={}),void 0===a.slotSelectedQuantity[e.hostSku][e.bundle]&&(a.slotSelectedQuantity[e.hostSku][e.bundle]={}),void 0!==e.option)if("object"===o(a.slotSelectedQuantity[e.hostSku][e.bundle][e.slot]))a.slotSelectedQuantity[e.hostSku][e.bundle][e.slot][e.option]=e.quantity;else{var t=a.slotSelectedQuantity[e.hostSku][e.bundle][e.slot];a.slotSelectedQuantity[e.hostSku][e.bundle][e.slot]={},a.slotSelectedQuantity[e.hostSku][e.bundle][e.slot][0]=t,a.slotSelectedQuantity[e.hostSku][e.bundle][e.slot][e.option]=e.quantity}else a.slotSelectedQuantity[e.hostSku][e.bundle][e.slot]=e.quantity;return this.getBundles(e.hostSku)},handleSelectedServices:function(e,t,n){return void 0===a.slotSelectedServices[e]&&(a.slotSelectedServices[e]={}),void 0===a.slotSelectedServices[e][t]&&(a.slotSelectedServices[e][t]={}),a.slotSelectedServices[e][t]=n,this.getBundles(e)},handleShowMore:function(e,n){var r=a.numVisibleBundles;return r+=void 0===n?window.swogo.getInitNumBundles(t):n,a.numVisibleBundles=Math.min(this.getMaxVisibleBundles(e),r),this.getBundles(e,"handleShowMore")},handleShowLess:function(e,n){var r=a.numVisibleBundles;return r-=void 0===n?window.swogo.getInitNumBundles(t):n,a.numVisibleBundles=Math.max(this.getMinVisibleBundles(e),r),this.getBundles(e)},deactivateSlot:function(e){return void 0!==a.discountsCache[e.hostSku]&&delete a.discountsCache[e.hostSku][e.bundle],void 0===a.deactivatedSlots[e.hostSku]&&(a.deactivatedSlots[e.hostSku]={}),void 0===a.deactivatedSlots[e.hostSku][e.bundle]&&(a.deactivatedSlots[e.hostSku][e.bundle]=new Set),a.deactivatedSlots[e.hostSku][e.bundle].add(e.slot),this.getBundles(e.hostSku)},activateSlot:function(e){return void 0!==a.discountsCache[e.hostSku]&&delete a.discountsCache[e.hostSku][e.bundle],void 0!==a.deactivatedSlots[e.hostSku]&&void 0!==a.deactivatedSlots[e.hostSku][e.bundle]&&a.deactivatedSlots[e.hostSku][e.bundle].delete(e.slot),this.getBundles(e.hostSku)},getMaxVisibleBundles:function(n){return Math.min(window.swogo.getMaxNumBundles(t),e.bundles[n].length)},getMinVisibleBundles:function(n){return Math.min(window.swogo.getMinNumBundles(t),e.bundles[n].length)},toggleOptions:function(e){void 0===a.expandedOptions[e.hostSku]&&(a.expandedOptions[e.hostSku]={}),a.expandedOptions[e.hostSku][e.bundle]===e.slot?delete a.expandedOptions[e.hostSku][e.bundle]:a.expandedOptions[e.hostSku][e.bundle]=e.slot},getExpandedOptions:function(e){return void 0===a.expandedOptions[e]?{}:a.expandedOptions[e]},toggleVariations:function(e){void 0===a.expandedVariations[e.hostSku]&&(a.expandedVariations[e.hostSku]={}),a.expandedVariations[e.hostSku][e.bundle]===e.slot?delete a.expandedVariations[e.hostSku][e.bundle]:a.expandedVariations[e.hostSku][e.bundle]=e.slot},getExpandedVariations:function(e){return void 0===a.expandedVariations[e]?{}:a.expandedVariations[e]},toggleUiCondition:function(e){void 0!==e.name&&(void 0===a.uiConditions[e.name]?void 0===e.value?a.uiConditions[e.name]=!0:a.uiConditions[e.name]=e.value:delete a.uiConditions[e.name])},getUiCondition:function(e){return a.uiConditions[e]},getVariantHostSku:function(e,t){return void 0!==a.slotSelectedVariations[e]&&void 0!==a.slotSelectedVariations[e][t]&&void 0!==a.slotSelectedVariations[e][t][0]?a.slotSelectedVariations[e][t][0][0]:e},getServices:function(){var e=window.swogo.getDependencyMethod("getServices")&&window.swogo.getDependencyMethod("getServices")();return e&&0===Object.keys(e).length&&(e=null),e},withoutVat:function(){var e=window.swogo.getDependencyMethod("withoutVat");a.withoutVatEnabled=void 0!==e,a.withoutVatValue=a.withoutVatEnabled?e():null},getWithoutVat:function(){return a.withoutVatValue},selectProductToDisplay:function(e){void 0===a.productToDisplay[e.hostSku]&&(a.productToDisplay[e.hostSku]={}),a.productToDisplay[e.hostSku][e.bundle]!==e.slot&&(a.productToDisplay[e.hostSku][e.bundle]=e.slot)},getProductToDisplay:function(e){return void 0===a.productToDisplay[e]?{}:a.productToDisplay[e]}}}},559:function(e,t,n){var r;!function(o){"use strict";function i(e){var n=e&&e.Promise||o.Promise,r=e&&e.XMLHttpRequest||o.XMLHttpRequest;return function(){var e=Object.create(o,{fetch:{value:void 0,writable:!0}});return function(t){var o=void 0!==e&&e||"undefined"!=typeof self&&self||void 0!==o&&o,i="URLSearchParams"in o,a="Symbol"in o&&"iterator"in Symbol,s="FileReader"in o&&"Blob"in o&&function(){try{return new Blob,!0}catch(e){return!1}}(),u="FormData"in o,c="ArrayBuffer"in o;if(c)var l=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],d=ArrayBuffer.isView||function(e){return e&&l.indexOf(Object.prototype.toString.call(e))>-1};function f(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||""===e)throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function p(e){return"string"!=typeof e&&(e=String(e)),e}function g(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return a&&(t[Symbol.iterator]=function(){return t}),t}function h(e){this.map={},e instanceof h?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function y(e){if(e.bodyUsed)return n.reject(new TypeError("Already read"));e.bodyUsed=!0}function w(e){return new n((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function v(e){var t=new FileReader,n=w(t);return t.readAsArrayBuffer(e),n}function b(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function m(){return this.bodyUsed=!1,this._initBody=function(e){var t;this.bodyUsed=this.bodyUsed,this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:s&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:u&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:i&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():c&&s&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=b(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c&&(ArrayBuffer.prototype.isPrototypeOf(e)||d(e))?this._bodyArrayBuffer=b(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):i&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},s&&(this.blob=function(){var e=y(this);if(e)return e;if(this._bodyBlob)return n.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return n.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return n.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?y(this)||(ArrayBuffer.isView(this._bodyArrayBuffer)?n.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):n.resolve(this._bodyArrayBuffer)):this.blob().then(v)}),this.text=function(){var e,t,r,o=y(this);if(o)return o;if(this._bodyBlob)return e=this._bodyBlob,t=new FileReader,r=w(t),t.readAsText(e),r;if(this._bodyArrayBuffer)return n.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return n.resolve(this._bodyText)},u&&(this.formData=function(){return this.text().then(P)}),this.json=function(){return this.text().then(JSON.parse)},this}h.prototype.append=function(e,t){e=f(e),t=p(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},h.prototype.delete=function(e){delete this.map[f(e)]},h.prototype.get=function(e){return e=f(e),this.has(e)?this.map[e]:null},h.prototype.has=function(e){return this.map.hasOwnProperty(f(e))},h.prototype.set=function(e,t){this.map[f(e)]=p(t)},h.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},h.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),g(e)},h.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),g(e)},h.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),g(e)},a&&(h.prototype[Symbol.iterator]=h.prototype.entries);var k=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function S(e,t){if(!(this instanceof S))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var n,r,o=(t=t||{}).body;if(e instanceof S){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new h(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,o||null==e._bodyInit||(o=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new h(t.headers)),this.method=(n=t.method||this.method||"GET",r=n.toUpperCase(),k.indexOf(r)>-1?r:n),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&o)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(o),!("GET"!==this.method&&"HEAD"!==this.method||"no-store"!==t.cache&&"no-cache"!==t.cache)){var i=/([?&])_=[^&]*/;if(i.test(this.url))this.url=this.url.replace(i,"$1_="+(new Date).getTime());else{this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}}function P(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),o=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(o))}})),t}function O(e,t){if(!(this instanceof O))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"",this.headers=new h(t.headers),this.url=t.url||"",this._initBody(e)}S.prototype.clone=function(){return new S(this,{body:this._bodyInit})},m.call(S.prototype),m.call(O.prototype),O.prototype.clone=function(){return new O(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new h(this.headers),url:this.url})},O.error=function(){var e=new O(null,{status:0,statusText:""});return e.type="error",e};var x=[301,302,303,307,308];O.redirect=function(e,t){if(-1===x.indexOf(t))throw new RangeError("Invalid status code");return new O(null,{status:t,headers:{location:e}})},t.DOMException=o.DOMException;try{new t.DOMException}catch(e){t.DOMException=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function D(e,i){return new n((function(n,a){var u=new S(e,i);if(u.signal&&u.signal.aborted)return a(new t.DOMException("Aborted","AbortError"));var l=new r;function d(){l.abort()}l.onload=function(){var e,t,r={status:l.status,statusText:l.statusText,headers:(e=l.getAllResponseHeaders()||"",t=new h,e.replace(/\r?\n[\t ]+/g," ").split("\r").map((function(e){return 0===e.indexOf("\n")?e.substr(1,e.length):e})).forEach((function(e){var n=e.split(":"),r=n.shift().trim();if(r){var o=n.join(":").trim();t.append(r,o)}})),t)};r.url="responseURL"in l?l.responseURL:r.headers.get("X-Request-URL");var o="response"in l?l.response:l.responseText;setTimeout((function(){n(new O(o,r))}),0)},l.onerror=function(){setTimeout((function(){a(new TypeError("Network request failed"))}),0)},l.ontimeout=function(){setTimeout((function(){a(new TypeError("Network request failed"))}),0)},l.onabort=function(){setTimeout((function(){a(new t.DOMException("Aborted","AbortError"))}),0)},l.open(u.method,function(e){try{return""===e&&o.location.href?o.location.href:e}catch(t){return e}}(u.url),!0),"include"===u.credentials?l.withCredentials=!0:"omit"===u.credentials&&(l.withCredentials=!1),"responseType"in l&&(s?l.responseType="blob":c&&u.headers.get("Content-Type")&&-1!==u.headers.get("Content-Type").indexOf("application/octet-stream")&&(l.responseType="arraybuffer")),!i||"object"!=typeof i.headers||i.headers instanceof h?u.headers.forEach((function(e,t){l.setRequestHeader(t,e)})):Object.getOwnPropertyNames(i.headers).forEach((function(e){l.setRequestHeader(e,p(i.headers[e]))})),u.signal&&(u.signal.addEventListener("abort",d),l.onreadystatechange=function(){4===l.readyState&&u.signal.removeEventListener("abort",d)}),l.send(void 0===u._bodyInit?null:u._bodyInit)}))}D.polyfill=!0,o.fetch||(o.fetch=D,o.Headers=h,o.Request=S,o.Response=O),t.Headers=h,t.Request=S,t.Response=O,t.fetch=D,Object.defineProperty(t,"__esModule",{value:!0})}(t),{fetch:e.fetch,Headers:e.Headers,Request:e.Request,Response:e.Response,DOMException:e.DOMException}}()}void 0===(r=function(){return i}.call(t,n,t,e))||(e.exports=r)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:void 0!==n.g?n.g:this)},666:e=>{var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var o=t&&t.prototype instanceof y?t:y,i=Object.create(o.prototype),a=new A(r||[]);return i._invoke=function(e,t,n){var r=d;return function(o,i){if(r===p)throw new Error("Generator is already running");if(r===g){if("throw"===o)throw i;return I()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=x(a,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===d)throw r=g,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var u=l(e,t,n);if("normal"===u.type){if(r=n.done?g:f,u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=g,n.method="throw",n.arg=u.arg)}}}(e,n,a),i}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var d="suspendedStart",f="suspendedYield",p="executing",g="completed",h={};function y(){}function w(){}function v(){}var b={};b[i]=function(){return this};var m=Object.getPrototypeOf,k=m&&m(m(E([])));k&&k!==n&&r.call(k,i)&&(b=k);var S=v.prototype=y.prototype=Object.create(b);function P(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){function n(o,i,a,s){var u=l(e[o],e,i);if("throw"!==u.type){var c=u.arg,d=c.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(d).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,s)}))}s(u.arg)}var o;this._invoke=function(e,r){function i(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(i,i):i()}}function x(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,x(e,n),"throw"===n.method))return h;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var o=l(r,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,h;var i=o.arg;return i?i.done?(n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,h):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,h)}function D(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(D,this),this.reset(!0)}function E(e){if(e){var n=e[i];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}return{next:I}}function I(){return{value:t,done:!0}}return w.prototype=S.constructor=v,v.constructor=w,w.displayName=u(v,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,u(e,s,"GeneratorFunction")),e.prototype=Object.create(S),e},e.awrap=function(e){return{__await:e}},P(O.prototype),O.prototype[a]=function(){return this},e.AsyncIterator=O,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new O(c(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},P(S),u(S,s,"Generator"),S[i]=function(){return this},S.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=E,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(C),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:E(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),h}},e}(e.exports);try{regeneratorRuntime=t}catch(e){Function("r","regeneratorRuntime = r")(t)}},614:(e,t,n)=>{"use strict";var r;n.r(t),n.d(t,{NIL:()=>I,parse:()=>y,stringify:()=>l,v1:()=>h,v3:()=>x,v4:()=>D,v5:()=>E,validate:()=>s,version:()=>T});var o=new Uint8Array(16);function i(){if(!r&&!(r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(o)}const a=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,s=function(e){return"string"==typeof e&&a.test(e)};for(var u=[],c=0;c<256;++c)u.push((c+256).toString(16).substr(1));const l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(u[e[t+0]]+u[e[t+1]]+u[e[t+2]]+u[e[t+3]]+"-"+u[e[t+4]]+u[e[t+5]]+"-"+u[e[t+6]]+u[e[t+7]]+"-"+u[e[t+8]]+u[e[t+9]]+"-"+u[e[t+10]]+u[e[t+11]]+u[e[t+12]]+u[e[t+13]]+u[e[t+14]]+u[e[t+15]]).toLowerCase();if(!s(n))throw TypeError("Stringified UUID is invalid");return n};var d,f,p=0,g=0;const h=function(e,t,n){var r=t&&n||0,o=t||new Array(16),a=(e=e||{}).node||d,s=void 0!==e.clockseq?e.clockseq:f;if(null==a||null==s){var u=e.random||(e.rng||i)();null==a&&(a=d=[1|u[0],u[1],u[2],u[3],u[4],u[5]]),null==s&&(s=f=16383&(u[6]<<8|u[7]))}var c=void 0!==e.msecs?e.msecs:Date.now(),h=void 0!==e.nsecs?e.nsecs:g+1,y=c-p+(h-g)/1e4;if(y<0&&void 0===e.clockseq&&(s=s+1&16383),(y<0||c>p)&&void 0===e.nsecs&&(h=0),h>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");p=c,g=h,f=s;var w=(1e4*(268435455&(c+=122192928e5))+h)%4294967296;o[r++]=w>>>24&255,o[r++]=w>>>16&255,o[r++]=w>>>8&255,o[r++]=255&w;var v=c/4294967296*1e4&268435455;o[r++]=v>>>8&255,o[r++]=255&v,o[r++]=v>>>24&15|16,o[r++]=v>>>16&255,o[r++]=s>>>8|128,o[r++]=255&s;for(var b=0;b<6;++b)o[r+b]=a[b];return t||l(o)},y=function(e){if(!s(e))throw TypeError("Invalid UUID");var t,n=new Uint8Array(16);return n[0]=(t=parseInt(e.slice(0,8),16))>>>24,n[1]=t>>>16&255,n[2]=t>>>8&255,n[3]=255&t,n[4]=(t=parseInt(e.slice(9,13),16))>>>8,n[5]=255&t,n[6]=(t=parseInt(e.slice(14,18),16))>>>8,n[7]=255&t,n[8]=(t=parseInt(e.slice(19,23),16))>>>8,n[9]=255&t,n[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,n[11]=t/4294967296&255,n[12]=t>>>24&255,n[13]=t>>>16&255,n[14]=t>>>8&255,n[15]=255&t,n};function w(e,t,n){function r(e,r,o,i){if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));for(var t=[],n=0;n<e.length;++n)t.push(e.charCodeAt(n));return t}(e)),"string"==typeof r&&(r=y(r)),16!==r.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var a=new Uint8Array(16+e.length);if(a.set(r),a.set(e,r.length),(a=n(a))[6]=15&a[6]|t,a[8]=63&a[8]|128,o){i=i||0;for(var s=0;s<16;++s)o[i+s]=a[s];return o}return l(a)}try{r.name=e}catch(e){}return r.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",r.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",r}function v(e){return 14+(e+64>>>9<<4)+1}function b(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function m(e,t,n,r,o,i){return b((a=b(b(t,e),b(r,i)))<<(s=o)|a>>>32-s,n);var a,s}function k(e,t,n,r,o,i,a){return m(t&n|~t&r,e,t,o,i,a)}function S(e,t,n,r,o,i,a){return m(t&r|n&~r,e,t,o,i,a)}function P(e,t,n,r,o,i,a){return m(t^n^r,e,t,o,i,a)}function O(e,t,n,r,o,i,a){return m(n^(t|~r),e,t,o,i,a)}const x=w("v3",48,(function(e){if("string"==typeof e){var t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(var n=0;n<t.length;++n)e[n]=t.charCodeAt(n)}return function(e){for(var t=[],n=32*e.length,r="0123456789abcdef",o=0;o<n;o+=8){var i=e[o>>5]>>>o%32&255,a=parseInt(r.charAt(i>>>4&15)+r.charAt(15&i),16);t.push(a)}return t}(function(e,t){e[t>>5]|=128<<t%32,e[v(t)-1]=t;for(var n=1732584193,r=-271733879,o=-1732584194,i=271733878,a=0;a<e.length;a+=16){var s=n,u=r,c=o,l=i;n=k(n,r,o,i,e[a],7,-680876936),i=k(i,n,r,o,e[a+1],12,-389564586),o=k(o,i,n,r,e[a+2],17,606105819),r=k(r,o,i,n,e[a+3],22,-1044525330),n=k(n,r,o,i,e[a+4],7,-176418897),i=k(i,n,r,o,e[a+5],12,1200080426),o=k(o,i,n,r,e[a+6],17,-1473231341),r=k(r,o,i,n,e[a+7],22,-45705983),n=k(n,r,o,i,e[a+8],7,1770035416),i=k(i,n,r,o,e[a+9],12,-1958414417),o=k(o,i,n,r,e[a+10],17,-42063),r=k(r,o,i,n,e[a+11],22,-1990404162),n=k(n,r,o,i,e[a+12],7,1804603682),i=k(i,n,r,o,e[a+13],12,-40341101),o=k(o,i,n,r,e[a+14],17,-1502002290),n=S(n,r=k(r,o,i,n,e[a+15],22,1236535329),o,i,e[a+1],5,-165796510),i=S(i,n,r,o,e[a+6],9,-1069501632),o=S(o,i,n,r,e[a+11],14,643717713),r=S(r,o,i,n,e[a],20,-373897302),n=S(n,r,o,i,e[a+5],5,-701558691),i=S(i,n,r,o,e[a+10],9,38016083),o=S(o,i,n,r,e[a+15],14,-660478335),r=S(r,o,i,n,e[a+4],20,-405537848),n=S(n,r,o,i,e[a+9],5,568446438),i=S(i,n,r,o,e[a+14],9,-1019803690),o=S(o,i,n,r,e[a+3],14,-187363961),r=S(r,o,i,n,e[a+8],20,1163531501),n=S(n,r,o,i,e[a+13],5,-1444681467),i=S(i,n,r,o,e[a+2],9,-51403784),o=S(o,i,n,r,e[a+7],14,1735328473),n=P(n,r=S(r,o,i,n,e[a+12],20,-1926607734),o,i,e[a+5],4,-378558),i=P(i,n,r,o,e[a+8],11,-2022574463),o=P(o,i,n,r,e[a+11],16,1839030562),r=P(r,o,i,n,e[a+14],23,-35309556),n=P(n,r,o,i,e[a+1],4,-1530992060),i=P(i,n,r,o,e[a+4],11,1272893353),o=P(o,i,n,r,e[a+7],16,-155497632),r=P(r,o,i,n,e[a+10],23,-1094730640),n=P(n,r,o,i,e[a+13],4,681279174),i=P(i,n,r,o,e[a],11,-358537222),o=P(o,i,n,r,e[a+3],16,-722521979),r=P(r,o,i,n,e[a+6],23,76029189),n=P(n,r,o,i,e[a+9],4,-640364487),i=P(i,n,r,o,e[a+12],11,-421815835),o=P(o,i,n,r,e[a+15],16,530742520),n=O(n,r=P(r,o,i,n,e[a+2],23,-995338651),o,i,e[a],6,-198630844),i=O(i,n,r,o,e[a+7],10,1126891415),o=O(o,i,n,r,e[a+14],15,-1416354905),r=O(r,o,i,n,e[a+5],21,-57434055),n=O(n,r,o,i,e[a+12],6,1700485571),i=O(i,n,r,o,e[a+3],10,-1894986606),o=O(o,i,n,r,e[a+10],15,-1051523),r=O(r,o,i,n,e[a+1],21,-2054922799),n=O(n,r,o,i,e[a+8],6,1873313359),i=O(i,n,r,o,e[a+15],10,-30611744),o=O(o,i,n,r,e[a+6],15,-1560198380),r=O(r,o,i,n,e[a+13],21,1309151649),n=O(n,r,o,i,e[a+4],6,-145523070),i=O(i,n,r,o,e[a+11],10,-1120210379),o=O(o,i,n,r,e[a+2],15,718787259),r=O(r,o,i,n,e[a+9],21,-343485551),n=b(n,s),r=b(r,u),o=b(o,c),i=b(i,l)}return[n,r,o,i]}(function(e){if(0===e.length)return[];for(var t=8*e.length,n=new Uint32Array(v(t)),r=0;r<t;r+=8)n[r>>5]|=(255&e[r/8])<<r%32;return n}(e),8*e.length))})),D=function(e,t,n){var r=(e=e||{}).random||(e.rng||i)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var o=0;o<16;++o)t[n+o]=r[o];return t}return l(r)};function C(e,t,n,r){switch(e){case 0:return t&n^~t&r;case 1:case 3:return t^n^r;case 2:return t&n^t&r^n&r}}function A(e,t){return e<<t|e>>>32-t}const E=w("v5",80,(function(e){var t=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof e){var r=unescape(encodeURIComponent(e));e=[];for(var o=0;o<r.length;++o)e.push(r.charCodeAt(o))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);for(var i=e.length/4+2,a=Math.ceil(i/16),s=new Array(a),u=0;u<a;++u){for(var c=new Uint32Array(16),l=0;l<16;++l)c[l]=e[64*u+4*l]<<24|e[64*u+4*l+1]<<16|e[64*u+4*l+2]<<8|e[64*u+4*l+3];s[u]=c}s[a-1][14]=8*(e.length-1)/Math.pow(2,32),s[a-1][14]=Math.floor(s[a-1][14]),s[a-1][15]=8*(e.length-1)&4294967295;for(var d=0;d<a;++d){for(var f=new Uint32Array(80),p=0;p<16;++p)f[p]=s[d][p];for(var g=16;g<80;++g)f[g]=A(f[g-3]^f[g-8]^f[g-14]^f[g-16],1);for(var h=n[0],y=n[1],w=n[2],v=n[3],b=n[4],m=0;m<80;++m){var k=Math.floor(m/20),S=A(h,5)+C(k,y,w,v)+b+t[k]+f[m]>>>0;b=v,v=w,w=A(y,30)>>>0,y=h,h=S}n[0]=n[0]+h>>>0,n[1]=n[1]+y>>>0,n[2]=n[2]+w>>>0,n[3]=n[3]+v>>>0,n[4]=n[4]+b>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,255&n[0],n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,255&n[1],n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,255&n[2],n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,255&n[3],n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,255&n[4]]})),I="00000000-0000-0000-0000-000000000000",T=function(e){if(!s(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}},288:e=>{"use strict";function t(e,t,n="ascending"){const r=[...e].sort(((e,n)=>e?n?e[t]<n[t]?-1:e[t]>n[t]?1:0:1:-1));return"descending"===n?r.reverse():r}e.exports={parsePrice:function(e){if(!["string","number"].includes(typeof e))return null;if("number"==typeof e)return e;"."!==e.charAt(0)&&","!==e.charAt(0)||(e=`0${e}`);let t=/[0-9]+([^0-9 ]*)[0-9]*/,n=t.exec(e),r="";null!==n&&""!==n[1]&&(e=e.replace(n[1],".")),"."===e.slice(-1)&&(e=e.replace(/\./gi,""));let o=e.replace(/[^0-9,. ]/gi,""),i=!1,a={",":!0,".":!0};for(let e=o.length-1;e>=0;e--){let t=o[e],n=t;a[t]&&(i?n=" ":(i=!0,n=".")),r=n+r}return r=r.trim(),t=/^([0-9]+)( [0-9]{3})*([\.][0-9]+)?$/,t.test(r)?Number.parseFloat(r.replace(/ /gi,"")):null},sortArrayOfObjects:t,getDataLayer:function(e){return t(dataLayer,"gtm.uniqueEventId",e)}}},682:e=>{"use strict";e.exports=JSON.parse('{"clientName":"conforama","tracking":{"type":0},"featureFlags":{"bundles":true,"tracking":true,"logLevel":"none","logTracking":true,"checkSkus":true},"logConfig":{"errorLogPages":["pdp","mobilePdp","basket","mobileBasket","payment","mobilePayment"]},"bundleLifespan":48,"initNumBundles":3,"minNumBundles":3,"maxNumBundles":5,"maxNumAccessories":2,"maxNumOptions":4,"bundlePages":["pdp","mobilePdp","basket","mobileBasket"],"pageIdentifiersConfig":{"pdp":{"0":{"template":"noCheckbox","bundlesConfig":{"matching":"default","assistant":"pdp"}}},"mobilePdp":{"0":{"template":"noCheckbox","bundlesConfig":{"matching":"default","assistant":"pdp"}}},"basket":{"1":{"template":"noCheckbox","initNumBundles":1,"minNumBundles":1,"maxNumBundles":1,"maxNumAccessories":3,"bundlesConfig":{"matching":"default","assistant":"pdp"}}},"mobileBasket":{"1":{"template":"noCheckbox","initNumBundles":1,"maxNumAccessories":3,"minNumBundles":1,"maxNumBundles":1,"bundlesConfig":{"matching":"default","assistant":"pdp"}}}}}')}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r].call(i.exports,i,i.exports,n),i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";n(666)})(),(()=>{"use strict";function e(e,t,n,r,o,i,a){try{var s=e[i](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,o)}var t=n(288),r=[],o=function(){var e=!!document.querySelector("#product-innerV2"),t=[{pageName:"pdp-0",areRequirementsMet:function(){return e&&window.innerWidth>767}},{pageName:"mobilePdp-0",areRequirementsMet:function(){return e&&window.innerWidth<=767}},{pageName:"basket-0",areRequirementsMet:function(){return window.location.pathname.indexOf("/checkout/cart")>-1&&window.innerWidth>1025}},{pageName:"mobileBasket-0",areRequirementsMet:function(){return window.location.pathname.indexOf("/checkout/cart")>-1&&window.innerWidth<=1025}},{pageName:"payment-0",areRequirementsMet:function(){return window.location.pathname.indexOf("/checkout/success")>-1&&window.innerWidth>766}},{pageName:"mobilePayment-0",areRequirementsMet:function(){return window.location.pathname.indexOf("/checkout/success")>-1&&window.innerWidth<=766}}];for(var n in t){var o=t[n];try{if(o.areRequirementsMet())return o.pageName}catch(e){r.push({message:"Error in getPage, while checking: "+o.pageName,error:e})}}return""},i=function(){try{return[{sku:document.querySelector(".ref").childNodes[0].textContent.trim(),title:document.querySelector(".details h1").textContent,price:t.parsePrice(document.querySelector(".price-social .price-after").innerText.trim()),quantity:parseInt(document.querySelector(".details .quantityV2 input").value),active:!Boolean(document.querySelector(".actions .btn.add-to-cart").disabled)}]}catch(e){return[]}},a=function(){try{if(document.querySelectorAll(".parcels .lines.deleted").length>0)return[];var e=document.querySelectorAll(".parcels .lines article");return e?[].map.call(e,(function(e){var n=e.querySelector(".ref").childNodes[0].textContent.trim(),r=e.querySelector(".title a").innerText,o=parseInt(e.getAttribute("data-quantity"));return{sku:n,title:r,price:Math.round(t.parsePrice(e.querySelector(".price-after ").innerText)/o*100)/100,quantity:o,active:!0}})).filter((function(e){return e.sku})):[]}catch(e){return[]}},s=function(){try{var e=document.querySelectorAll(".line_item");return e&&e.length?Array.from(e).map((function(e){var n=parseInt(e.querySelector(".quantity").textContent);return{sku:e.querySelector(".product_id").textContent,title:e.querySelector(".name").textContent,quantity:n,price:t.parsePrice(e.querySelector(".unit_price").textContent),active:!0}})):[]}catch(e){return[]}},u=function(){var e=o(),t={"pdp-0":i,"mobilePdp-0":i,"basket-0":a,"mobileBasket-0":a,"payment-0":s,"mobilePayment-0":s};if(t[e])try{return t[e]()}catch(t){r.push({message:"Error in getSkus, while running for "+e,error:t})}return[]},c=function(){var t,n=(t=regeneratorRuntime.mark((function e(t,n){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=[],o=0;case 2:if(!(o<t.length)){e.next=14;break}return e.prev=3,e.next=6,a=void 0,a=(i=t[o]).sku,void 0!==i.additionalSKUs&&i.additionalSKUs[0].length>0&&(a=i.additionalSKUs[0]),window.AddItemToCart(a,i.sku,i.quantity);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(3),r.push(e.t0);case 11:o++,e.next=2;break;case 14:r.length?n(r,[]):n(null,[]);case 15:case"end":return e.stop()}var i,a}),e,null,[[3,8]])})),function(){var n=this,r=arguments;return new Promise((function(o,i){var a=t.apply(n,r);function s(t){e(a,o,i,s,u,"next",t)}function u(t){e(a,o,i,s,u,"throw",t)}s(void 0)}))});return function(e,t){return n.apply(this,arguments)}}(),l=o(),d=JSON.stringify(u());setInterval((function(){var e=JSON.stringify(u());window.swogoAPI&&window.swogoAPI.reset&&o().toLocaleLowerCase().includes("payment")&&(l!==o()||d!==e)&&(l=o(),d=e,window.swogoAPI.reset())}),500),window.swogoDependenciesPolly={getPage:o,getSkus:u,addToCart:c,getOrderId:function(){try{return dataLayer.find((function(e){return"EECpurchase"===e.event})).ecommerce.purchase.actionField.id}catch(t){var e=document.querySelector(".order_number");return e?e.textContent:""}},getLanguage:function(){var e=window.location.host.split("."),t=e[0],n=e[2];return"www"!==t?{canarias:"canariasEs",baleares:"balearesEs",madeira:"madeiraPt"}[t]:n},errors:r}})(),(()=>{"use strict";function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var t=n(682);0===function(){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t)}var n,r;return n=t,r=[{key:"checkScriptCalls",value:function(){return window.swogoCheckScript?window.swogoCheckScript:(window.swogoCheckScript=1,0)}}],null&&e(n.prototype,null),r&&e(n,r),t}().checkScriptCalls()&&n(313).start(t)})()})();