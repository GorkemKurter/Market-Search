if (undefined === window.Kameleoon){(function(){!function(e,t){e.kbowser=t()}(this,(function(){return function(e){var t={};function r(i){if(t[i])return t[i].exports;var n=t[i]={i:i,l:!1,exports:{}};return e[i].call(n.exports,n,n.exports,r),n.l=!0,n.exports}return r.m=e,r.c=t,r.d=function(e,t,i){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(i,n,function(t){return e[t]}.bind(null,n));return i},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=90)}({17:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var i=r(18),n=function(){function e(){}return e.getFirstMatch=function(e,t){var r=t.match(e);return r&&r.length>0&&r[1]||""},e.getSecondMatch=function(e,t){var r=t.match(e);return r&&r.length>1&&r[2]||""},e.matchAndReturnConst=function(e,t,r){if(e.test(t))return r},e.getAndroidVersionName=function(e){var t=e.split(".").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),!(1===t[0]&&t[1]<5))return 1===t[0]&&t[1]<6?"Cupcake":1===t[0]&&t[1]>=6?"Donut":2===t[0]&&t[1]<2?"Eclair":2===t[0]&&2===t[1]?"Froyo":2===t[0]&&t[1]>2?"Gingerbread":3===t[0]?"Honeycomb":4===t[0]&&t[1]<1?"Ice Cream Sandwich":4===t[0]&&t[1]<4?"Jelly Bean":4===t[0]&&t[1]>=4?"KitKat":5===t[0]?"Lollipop":6===t[0]?"Marshmallow":7===t[0]?"Nougat":8===t[0]?"Oreo":9===t[0]?"Pie":void 0},e.getVersionPrecision=function(e){return e.split(".").length},e.compareVersions=function(t,r,i){void 0===i&&(i=!1);var n=e.getVersionPrecision(t),s=e.getVersionPrecision(r),o=Math.max(n,s),a=0,u=e.map([t,r],(function(t){var r=o-e.getVersionPrecision(t),i=t+new Array(r+1).join(".0");return e.map(i.split("."),(function(e){return new Array(20-e.length).join("0")+e})).reverse()}));for(i&&(a=o-Math.min(n,s)),o-=1;o>=a;){if(u[0][o]>u[1][o])return 1;if(u[0][o]===u[1][o]){if(o===a)return 0;o-=1}else if(u[0][o]<u[1][o])return-1}},e.map=function(e,t){var r,i=[];if(Array.prototype.map)return Array.prototype.map.call(e,t);for(r=0;r<e.length;r+=1)i.push(t(e[r]));return i},e.find=function(e,t){var r,i;if(Array.prototype.find)return Array.prototype.find.call(e,t);for(r=0,i=e.length;r<i;r+=1){var n=e[r];if(t(n,r))return n}},e.assign=function(e){for(var t,r,i=e,n=arguments.length,s=new Array(n>1?n-1:0),o=1;o<n;o++)s[o-1]=arguments[o];if(Object.assign)return Object.assign.apply(Object,[e].concat(s));var a=function(){var e=s[t];"object"==typeof e&&null!==e&&Object.keys(e).forEach((function(t){i[t]=e[t]}))};for(t=0,r=s.length;t<r;t+=1)a();return e},e.getBrowserAlias=function(e){return i.BROWSER_ALIASES_MAP[e]},e.getBrowserTypeByAlias=function(e){return i.BROWSER_MAP[e]||""},e}();t.default=n,e.exports=t.default},18:function(e,t,r){"use strict";t.__esModule=!0,t.OS_MAP=t.PLATFORMS_MAP=t.BROWSER_MAP=t.BROWSER_ALIASES_MAP=void 0;t.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex"};t.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"};t.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop"};t.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",Linux:"Linux"}},90:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var i,n=(i=r(91))&&i.__esModule?i:{default:i},s=r(18);function o(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var a=function(){function e(){}var t,r,i;return e.getParser=function(e,t){if(void 0===t&&(t=!1),"string"!=typeof e)throw new Error("UserAgent should be a string");return new n.default(e,t)},e.parse=function(e){return new n.default(e).getResult()},t=e,i=[{key:"BROWSER_MAP",get:function(){return s.BROWSER_MAP}},{key:"OS_MAP",get:function(){return s.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return s.PLATFORMS_MAP}}],(r=null)&&o(t.prototype,r),i&&o(t,i),e}();t.default=a,e.exports=t.default},91:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var i=a(r(92)),n=a(r(93)),s=a(r(94)),o=a(r(17));function a(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(e,t){if(void 0===t&&(t=!1),null==e||""===e)throw new Error("UserAgent parameter can't be empty");this._ua=e,this.parsedResult={},!0!==t&&this.parse()}var t=e.prototype;return t.getUA=function(){return this._ua},t.test=function(e){return e.test(this._ua)},t.parseBrowser=function(){var e=this;this.parsedResult.browser={};var t=o.default.find(i.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser},t.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},t.getBrowserName=function(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},t.getBrowserVersion=function(){return this.getBrowser().version},t.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},t.parseOS=function(){var e=this;this.parsedResult.os={};var t=o.default.find(n.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os},t.getOSName=function(e){var t=this.getOS().name;return e?String(t).toLowerCase()||"":t||""},t.getOSVersion=function(){return this.getOS().version},t.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},t.getPlatformType=function(e){void 0===e&&(e=!1);var t=this.getPlatform().type;return e?String(t).toLowerCase()||"":t||""},t.parsePlatform=function(){var e=this;this.parsedResult.platform={};var t=o.default.find(s.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform},t.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this},t.getResult=function(){return o.default.assign({},this.parsedResult)},t.satisfies=function(e){var t=this,r={},i=0,n={},s=0;if(Object.keys(e).forEach((function(t){var o=e[t];"string"==typeof o?(n[t]=o,s+=1):"object"==typeof o&&(r[t]=o,i+=1)})),i>0){var a=Object.keys(r),u=o.default.find(a,(function(e){return t.isOS(e)}));if(u){var c=this.satisfies(r[u]);if(void 0!==c)return c}var d=o.default.find(a,(function(e){return t.isPlatform(e)}));if(d){var f=this.satisfies(r[d]);if(void 0!==f)return f}}if(s>0){var l=Object.keys(n),h=o.default.find(l,(function(e){return t.isBrowser(e,!0)}));if(void 0!==h)return this.compareVersion(n[h])}},t.isBrowser=function(e,t){void 0===t&&(t=!1);var r=this.getBrowserName().toLowerCase(),i=e.toLowerCase(),n=o.default.getBrowserTypeByAlias(i);return t&&n&&(i=n.toLowerCase()),i===r},t.compareVersion=function(e){var t=[0],r=e,i=!1,n=this.getBrowserVersion();if("string"==typeof n)return">"===e[0]||"<"===e[0]?(r=e.substr(1),"="===e[1]?(i=!0,r=e.substr(2)):t=[],">"===e[0]?t.push(1):t.push(-1)):"="===e[0]?r=e.substr(1):"~"===e[0]&&(i=!0,r=e.substr(1)),t.indexOf(o.default.compareVersions(n,r,i))>-1},t.isOS=function(e){return this.getOSName(!0)===String(e).toLowerCase()},t.isPlatform=function(e){return this.getPlatformType(!0)===String(e).toLowerCase()},t.is=function(e){return this.isBrowser(e)||this.isOS(e)||this.isPlatform(e)},t.some=function(e){var t=this;return void 0===e&&(e=[]),e.some((function(e){return t.is(e)}))},e}();t.default=u,e.exports=t.default},92:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var i,n=(i=r(17))&&i.__esModule?i:{default:i};var s=/version\/(\d+(\.?_?\d+)+)/i,o=[{test:[/googlebot/i],describe:function(e){var t={name:"Googlebot"},r=n.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||n.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/opera/i],describe:function(e){var t={name:"Opera"},r=n.default.getFirstMatch(s,e)||n.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/opr\/|opios/i],describe:function(e){var t={name:"Opera"},r=n.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e)||n.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/SamsungBrowser/i],describe:function(e){var t={name:"Samsung Internet for Android"},r=n.default.getFirstMatch(s,e)||n.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/Whale/i],describe:function(e){var t={name:"NAVER Whale Browser"},r=n.default.getFirstMatch(s,e)||n.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/MZBrowser/i],describe:function(e){var t={name:"MZ Browser"},r=n.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||n.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/focus/i],describe:function(e){var t={name:"Focus"},r=n.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||n.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/swing/i],describe:function(e){var t={name:"Swing"},r=n.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||n.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/coast/i],describe:function(e){var t={name:"Opera Coast"},r=n.default.getFirstMatch(s,e)||n.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/yabrowser/i],describe:function(e){var t={name:"Yandex Browser"},r=n.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||n.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/ucbrowser/i],describe:function(e){var t={name:"UC Browser"},r=n.default.getFirstMatch(s,e)||n.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/Maxthon|mxios/i],describe:function(e){var t={name:"Maxthon"},r=n.default.getFirstMatch(s,e)||n.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/epiphany/i],describe:function(e){var t={name:"Epiphany"},r=n.default.getFirstMatch(s,e)||n.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/puffin/i],describe:function(e){var t={name:"Puffin"},r=n.default.getFirstMatch(s,e)||n.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/sleipnir/i],describe:function(e){var t={name:"Sleipnir"},r=n.default.getFirstMatch(s,e)||n.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/k-meleon/i],describe:function(e){var t={name:"K-Meleon"},r=n.default.getFirstMatch(s,e)||n.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/micromessenger/i],describe:function(e){var t={name:"WeChat"},r=n.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||n.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/qqbrowser/i],describe:function(e){var t={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},r=n.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||n.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/msie|trident/i],describe:function(e){var t={name:"Internet Explorer"},r=n.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/\sedg\//i],describe:function(e){var t={name:"Microsoft Edge"},r=n.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/edg([ea]|ios)/i],describe:function(e){var t={name:"Microsoft Edge"},r=n.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/vivaldi/i],describe:function(e){var t={name:"Vivaldi"},r=n.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/seamonkey/i],describe:function(e){var t={name:"SeaMonkey"},r=n.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/sailfish/i],describe:function(e){var t={name:"Sailfish"},r=n.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return r&&(t.version=r),t}},{test:[/silk/i],describe:function(e){var t={name:"Amazon Silk"},r=n.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/phantom/i],describe:function(e){var t={name:"PhantomJS"},r=n.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/slimerjs/i],describe:function(e){var t={name:"SlimerJS"},r=n.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t={name:"BlackBerry"},r=n.default.getFirstMatch(s,e)||n.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t={name:"WebOS Browser"},r=n.default.getFirstMatch(s,e)||n.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/bada/i],describe:function(e){var t={name:"Bada"},r=n.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/tizen/i],describe:function(e){var t={name:"Tizen"},r=n.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||n.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/qupzilla/i],describe:function(e){var t={name:"QupZilla"},r=n.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||n.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/firefox|iceweasel|fxios/i],describe:function(e){var t={name:"Firefox"},r=n.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/electron/i],describe:function(e){var t={name:"Electron"},r=n.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/chromium/i],describe:function(e){var t={name:"Chromium"},r=n.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||n.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/chrome|crios|crmo/i],describe:function(e){var t={name:"Chrome"},r=n.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/GSA/i],describe:function(e){var t={name:"Google Search"},r=n.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:function(e){var t=!e.test(/like android/i),r=e.test(/android/i);return t&&r},describe:function(e){var t={name:"Android Browser"},r=n.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/safari|applewebkit/i],describe:function(e){var t={name:"Safari"},r=n.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/.*/i],describe:function(e){var t=-1!==e.search("\\(")?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:n.default.getFirstMatch(t,e),version:n.default.getSecondMatch(t,e)}}}];t.default=o,e.exports=t.default},93:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var i,n=(i=r(17))&&i.__esModule?i:{default:i},s=r(18);var o=[{test:[/windows phone/i],describe:function(e){return{name:s.OS_MAP.WindowsPhone}}},{test:[/windows /i],describe:function(e){return{name:s.OS_MAP.Windows}}},{test:[/Macintosh(.*?) FxiOS(.*?) Version\//],describe:function(e){return{name:s.OS_MAP.iOS}}},{test:[/macintosh/i],describe:function(e){return{name:s.OS_MAP.MacOS}}},{test:[/(ipod|iphone|ipad)/i],describe:function(e){return{name:s.OS_MAP.iOS}}},{test:function(e){var t=!e.test(/like android/i),r=e.test(/android/i);return t&&r},describe:function(e){var t=n.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,e),r=n.default.getAndroidVersionName(t),i={name:s.OS_MAP.Android,version:t};return r&&(i.versionName=r),i}},{test:[/linux/i],describe:function(){return{name:s.OS_MAP.Linux}}}];t.default=o,e.exports=t.default},94:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var i,n=(i=r(17))&&i.__esModule?i:{default:i},s=r(18);var o=[{test:[/googlebot/i],describe:function(){return{type:"bot"}}},{test:[/huawei/i],describe:function(e){return{type:s.PLATFORMS_MAP.mobile}}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:s.PLATFORMS_MAP.tablet}}},{test:[/ipad/i],describe:function(){return{type:s.PLATFORMS_MAP.tablet}}},{test:[/Macintosh(.*?) FxiOS(.*?) Version\//],describe:function(){return{type:s.PLATFORMS_MAP.tablet}}},{test:[/kftt build/i],describe:function(){return{type:s.PLATFORMS_MAP.tablet}}},{test:[/silk/i],describe:function(){return{type:s.PLATFORMS_MAP.tablet}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:s.PLATFORMS_MAP.tablet}}},{test:function(e){var t=e.test(/ipod|iphone/i),r=e.test(/like (ipod|iphone)/i);return t&&!r},describe:function(e){return{type:s.PLATFORMS_MAP.mobile}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:s.PLATFORMS_MAP.mobile}}},{test:[/[^-]mobi/i],describe:function(){return{type:s.PLATFORMS_MAP.mobile}}},{test:function(e){return"blackberry"===e.getBrowserName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.mobile}}},{test:function(e){return"bada"===e.getBrowserName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.mobile}}},{test:function(e){return"windows phone"===e.getBrowserName()},describe:function(){return{type:s.PLATFORMS_MAP.mobile}}},{test:function(e){return"android"===e.getOSName(!0)&&Number(String(e.getOSVersion()).split(".")[0])>=3},describe:function(){return{type:s.PLATFORMS_MAP.tablet}}},{test:function(e){return"android"===e.getOSName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.mobile}}},{test:function(e){return"macos"===e.getOSName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.desktop}}},{test:function(e){return"windows"===e.getOSName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.desktop}}},{test:function(e){return"linux"===e.getOSName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.desktop}}}];t.default=o,e.exports=t.default}})}));class APIConfiguration{constructor(e){this.generationTime=e.scriptProduceTime;this.goals=e.goals.map((e=>new APIGoal(e)));this.singlePageSupport=Kameleoon.Internals.runtime?Kameleoon.Internals.runtime.singlePageSupport:e.singlePageSupport;this.siteCode=e.siteCode}}class APIAction{constructor(i,t){this.dateLaunched=i.dateStatusModified;this.dateModified=i.dateModified;this.id=i.id;this.name=i.name;this.targetSegment=new APISegment(i.targetingSegment);this.active=i.targeting&&!i.disabled&&i.displayedVariation&&null!=i.displayedVariation.id;this.triggered=i.targeting||!1;this.goals=Kameleoon.Internals.configuration.goals.filter((t=>-1!=(i.goals||[]).indexOf(t.id))).map((i=>new APIGoal(i)));this.untrackedTrafficReallocationTime=i.untrackedRespoolTime||null;let e=i=>{let t=Kameleoon.Internals.runtime.variations.filter((t=>t.id==i));return t&&t[0]};const a=Kameleoon.Internals.runtime.Visitor.currentVisit;if("experiments"==t){this.mainGoal=i.kameleoonTracking&&i.kameleoonTracking.mainGoalId?new APIGoal(Kameleoon.Internals.configuration.goals.filter((t=>t.id==i.kameleoonTracking.mainGoalId))[0]):null;let t=e(i.registeredVariationId);this.associatedVariation=t?new APIVariation(t,i):null;this.trafficDeviation={};this.variations=[];this.redirectProcessed=i.redirectProcessed||!1;for(let t in i.deviation){this.trafficDeviation[t]=100*i.deviation[t];this.variations.push(new APIVariation(e(parseInt(t)),i))}let n=Kameleoon.Internals.runtime.storedData.obtainField("Gatherer","experimentsTriggered",{});this.triggeredInVisit=n[this.id]?!0:!1;this.activatedInVisit=a.ExperimentActivations[this.id]?!0:!1}else{this.mainGoal=new APIGoal(Kameleoon.Internals.configuration.goals.filter((t=>t.id==i.mainGoalId))[0]);this.associatedVariation=new APIVariation(e(i.associatedVariation.id),i);let t=Kameleoon.Internals.runtime.storedData.obtainField("Gatherer","personalizationsTriggered",{});this.triggeredInVisit=t[this.id]?!0:!1;this.activatedInVisit=this.triggeredInVisit&&a.PersonalizationActivations[this.id]?!0:!1}}}class APIActionActivation{constructor(i,t,n){let a;let e;if("experiment"==i){this.times=n.ExperimentActivations[t].times;this.experimentID=t;a=Kameleoon.Internals.runtime.Campaigns.obtainCampaign(t,"experiment");e=n.ExperimentActivations[t].associatedVariationID;this.experiment=a?new APIAction(a,"experiments"):null}else{this.times=n.PersonalizationActivations[t].times;this.personalizationID=t;a=Kameleoon.Internals.runtime.Campaigns.obtainCampaign(t,"personalization");e=n.PersonalizationActivations[t].associatedVariationID;this.personalization=a?new APIAction(a,"personalizations"):null}this.associatedVariationID=e;let o=Kameleoon.Internals.configuration.variations.filter((i=>i.id==e))[0];this.associatedVariation=o?new APIVariation(o,a):null}}class APIActions{constructor(e){const i=e;const n=()=>{if(Kameleoon.Internals.runtime)return Kameleoon.Internals.runtime.Campaigns.obtainCampaignsList(i);else return[]};this.getAll=()=>n().map((e=>new APIAction(e,i)));this.getActive=()=>n().filter((e=>(!0===e.targeting||e.trackingPerformed)&&1!=e.disabled&&e.displayedVariation&&null!=e.displayedVariation.id)).map((e=>new APIAction(e,i)));this.getTriggeredInVisit=()=>n().map((e=>new APIAction(e,i))).filter((e=>e.triggeredInVisit));this.getActivatedInVisit=()=>n().map((e=>new APIAction(e,i))).filter((e=>e.activatedInVisit));const t=(e,t)=>{const a=n().filter((i=>i[e]==t))[0];if(a)return new APIAction(a,i);return null};this.getById=e=>t("id",e);this.getByName=e=>t("name",e);if("experiments"==i){this.assignVariation=(e,i,t)=>{const a=n().filter((i=>i.id==e))[0];if(a)if(void 0===a.registeredVariationId||t){a.registeredVariationId=i;a.assignmentTime=(new Date).getTime();a.writeLocalData()}};this.block=(e,i=!1)=>{const n=Kameleoon.Internals.runtime.Campaigns.obtainCampaign(e,"experiment");if(n){if(i){const i=Kameleoon.Internals.runtime.storedData.obtainField("Runtime","blockedExperiments",[]);i.push(e);Kameleoon.Internals.runtime.storedData.saveField("Runtime","blockedExperiments",i)}n.blocked=!0}};this.trigger=(e,i)=>{const n=Kameleoon.Internals.runtime.Campaigns.obtainCampaign(e,"experiment");if(n)if(i){if(n){n.performVariationAssignment(!0);Kameleoon.Analyst.Actions.performActionsTracking([n])}}else{n.trigger();Kameleoon.Analyst.Actions.process([n])}};this.triggerExperiment=(e,i)=>{this.trigger(e,i)}}else{this.block=(e,i=!1)=>{const n=Kameleoon.Internals.runtime.Campaigns.obtainCampaign(e,"personalization");if(n){if(i){const i=Kameleoon.Internals.runtime.storedData.obtainField("Runtime","blockedPersonalizations",[]);i.push(e);Kameleoon.Internals.runtime.storedData.saveField("Runtime","blockedPersonalizations",i)}n.blocked=!0}};this.disable=e=>{const i=Kameleoon.Internals.runtime.Campaigns.obtainCampaign(e,"personalization");if(i)i.disabled=!0};this.trigger=(e,i)=>{const n=Kameleoon.Internals.runtime.Campaigns.obtainCampaign(e,"personalization");if(n){n.exposition=!0;if(i){if(n)Kameleoon.Analyst.Actions.performActionsTracking([n])}else{n.trigger();Kameleoon.Analyst.Actions.process([n])}}}}}}class APIGoal{constructor(t){if(t){this.id=t.id;this.name=t.name;this.type=t.type}}}class APIProduct{constructor(e,a){let t=["accessories","auto","available","brand","description","fashion","gender","groupId","isChild","isFashion","isNew","leftovers","merchantID","model","name","params","rating","seasonality","sku","tags","typePrefix","url"];this.productID=e;for(let e in a)switch(e){case"imageURL":case"mainImageURL":this.imageURL=a.mainImageURL||a.imageURL;break;case"price":case"oldPrice":case"availableQuantity":case"priceMargin":this[e]=parseFloat(a[e])||null;break;case"categories":if(a.categories.length>0)this.categories=a.categories.map((e=>{if(e.parent)e.parent=e.parent.toString();e.id=e.id.toString();return e}));break;default:let s=t.filter((a=>a===e)).length>0;if(s)this[e]=a[e]}}getTrackingParameters(){let e={};e.url=encodeURIComponent(Kameleoon.Utils.computeCurrentPageCleanAbsoluteURL());for(let a in this)switch(a){case"productID":break;default:switch(typeof this[a]){case"object":e[a]=encodeURIComponent(JSON.stringify(this[a]));break;case"string":e[a]=encodeURIComponent(this[a]);break;case"number":case"boolean":case"symbol":e[a]=this[a]}}return Kameleoon.Utils.parseObjectToUrlParams(e)}}class APISegment{constructor(i){if(i){this.id=i.id;this.name=i.name}}}class APITemplate{constructor(s,t){this.name=s;this.customFields=t}}class APIVariation{constructor(e,t={}){if(e){this.id=e.id;this.name=e.name;if(t.experimentAction){var i=t.variations.filter((t=>t.id==e.id))[0];this.reallocationTime=i?i.respoolTime:null}else this.reallocationTime=null;this.instantiatedTemplate=e.widgetTemplateInputData?new APITemplate(e.widgetTemplateName,e.widgetTemplateInputData):null}}}class APIVisit{constructor(t){this.pageViews=t.obtainPageNumberViews();this.duration=t.lastActivityDate-t.startDate;this.locale=Kameleoon.Utils.getLocale();this.startDate=t.startDate;this.index=t.visitNumber;this.currentProduct=null;this.products=[];this.clicks=t.clicks||0;this.pageURLsVisited=t.pageURLsVisited;this.activatedSegments=t.activatedSegments;this.lastActivityDate=t.lastActivityDate;this.activatedExperiments=Object.keys(t.ExperimentActivations).map((e=>new APIActionActivation("experiment",parseInt(e),t)));this.activatedPersonalizations=Object.keys(t.PersonalizationActivations).map((e=>new APIActionActivation("personalization",parseInt(e),t)));if(t==Kameleoon.Internals.runtime.Visitor.currentVisit){this.device=new Device;this.geolocation=t.Geolocation;}this.conversions=Kameleoon.Utils.clone(t.conversions);this.customData={};let e=Kameleoon.Internals.runtime.Gatherer.configuration.customData;for(let i in t.customData){let n=e[i];if(null!=n)this.customData[n.name]=Kameleoon.Gatherer.CustomData.obtainParsedValue(i,t.customData[i])}let i="<OTHER / UNKNOWN>";let n=[];let a=Kameleoon.Internals.runtime.storedData.obtainField("Runtime","firstReferrersIndices",[]);for(let t=0,e=a.length;t<e;t++){let e=a[t];let s;if(0==e)s="<RESTART>";else{let t=Kameleoon.Internals.runtime.Gatherer.configuration.referrers[e-1];s=null==t?i:t.name}n.push(s)}this.acquisitionChannel=n[0];this.landingPageURL=t.landingPageURL;this.weather=new APIWeather(t)}}class APIVisitor{constructor(){this.getCustomDataVisitor=()=>{let t={};let i=Kameleoon.Internals.runtime.Visitor.customData;let e=Kameleoon.Internals.runtime.Gatherer.configuration.customData;for(let s in i)t[e[s].name]=Kameleoon.Gatherer.CustomData.obtainParsedValue(s,i[s]);return t};this.setVisitorCode=t=>{Kameleoon.Internals.runtime.Visitor.setVisitorCode(t)};this.numberOfVisits=Kameleoon.Internals.runtime.Visitor.totalVisits;this.timeStartedEldestVisit=Kameleoon.Internals.runtime.Visitor.timeStartedEldestVisit;this.customData=this.getCustomDataVisitor();this.personalizationsActive=Kameleoon.Internals.runtime.personalizationsActive;this.code=Kameleoon.Internals.runtime.Visitor.currentVisit.visitorCode;this.currentVisit=new APIVisit(Kameleoon.Internals.runtime.Visitor.currentVisit);this.visits=Kameleoon.Internals.runtime.Visitor.visits.map((t=>new APIVisit(t)));this.previousVisit=Kameleoon.Internals.runtime.Visitor.visits.length>1?new APIVisit(Kameleoon.Internals.runtime.Visitor.visits.slice(-2)[0]):null;this.experimentLegalConsent=Kameleoon.Internals.runtime.Consent.AB_TESTING;this.personalizationLegalConsent=Kameleoon.Internals.runtime.Consent.PERSONALIZATION;this.firstVisitStartDate=Kameleoon.Internals.runtime.Visitor.timeStartedEldestVisit}}class APIWeather{constructor(i){let s=i.Weather;this.temperature=s.temperature;this.humidity=s.humidity;this.pressure=s.pressure;this.windSpeed=s.windSpeed;this.cloudiness=s.cloudiness;this.sunrise=s.sunrise;this.sunset=s.sunset;this.conditionCode=s.conditionCode;this.conditionDescription=s.conditionDescription}}class Analyst{constructor(){this.initialize=e=>{this.isTimeout=!1;if(window.kameleoonDisplayPage){if(null==Kameleoon.Internals.configuration.behaviorWhenTimeout||document.getElementById("kameleoonLoadingStyleSheet"))window.clearTimeout(window.kameleoonDisplayPageTimeOut);else if(null==window.kameleoonEndLoadTime)this.isTimeout=!0;try{window.kameleoonDisplayPage(!0)}catch(e){}window.kameleoonDisplayPage=null}window.kameleoonEndLoadTime=(new Date).getTime();e()};this.load=()=>{Kameleoon.Utils.sendKameleoonCustomEvent("Internals",{type:"load",time:(new Date).getTime()});Kameleoon.Utils.runProtectedFunction((function(){if(window.kameleoonQueue)window.kameleoonQueue=new CommandQueue(window.kameleoonQueue,"IMMEDIATE");if(window.kameleoonAddCustomAction){Kameleoon.Utils.runProtectedScript(window.kameleoonAddCustomAction,"kameleoonAddCustomActionScript.js");delete window.kameleoonAddCustomAction}if(window.kameleoonAddCustomGlobalScript){Kameleoon.Internals.configuration.globalScript=window.kameleoonAddCustomGlobalScript;delete window.kameleoonAddCustomGlobalScript}window.addEventListener("error",(e=>{if(e.error&&e.error.stack&&e.error.stack.match(/kameleoon/gi)){Kameleoon.Utils.Logger.send(e.error.stack,"kameleoon.js");return!1}}));Kameleoon.Analyst.initialize((()=>{const e=Kameleoon.Analyst.checkBlockingElements();const o=window.kameleoonEndLoadTime-(window.kameleoonStartLoadTime||window.kameleoonEndLoadTime)-25;Kameleoon.Utils.sendKameleoonCustomEvent.call(window,"Loaded",{timeout:"TIMEOUT"==e,loadTime:o});if(Kameleoon.Internals.runtime)Kameleoon.Internals.runtime.clear();if(0==e.length){Kameleoon.Internals.runtime=new Runtime;Kameleoon.Analyst.loadKameleoonFull((()=>{Kameleoon.Internals.runtime.run()}))}else{Kameleoon.Utils.sendKameleoonCustomEvent("Internals",{type:"abort",blockingReason:e});Kameleoon.Utils.sendKameleoonCustomEvent.call(window,"Aborted",{reason:e})}}))}))};this.loadKameleoonFull=(e,o)=>{if(!Kameleoon.Internals.runtime.kameleoonFull&&(this.kameleoonFullNeeded()||o)){const o=o=>{Kameleoon.Utils.runProtectedScript(o+"\n;"+"("+e.toString()+")()","kameleoonFull.js")};const n=sessionStorage.getItem("kameleoonFullApplicationCode");if(null!=n)o(n);else Kameleoon.Utils.performBeaconServerCall("https://"+Kameleoon.Internals.configuration.STATIC_HOST_NAME+"."+Kameleoon.Internals.configuration.DOMAIN+"/kameleoon-full.js?cache="+Kameleoon.Utils.obtainRandomString(16),(e=>{if(void 0===e.readyState||4==e.readyState&&200==e.status){sessionStorage.setItem("kameleoonFullApplicationCode",e.responseText);o(e.responseText)}}))}else e()};this.Actions=new Actions;this.Goals=new Goals}checkBlockingElements(){let e=!1;try{const o="kameleoonPrivateMode";if(window.localStorage||window.sessionStorage){localStorage.getItem(o);sessionStorage.getItem(o)}else e=!0}catch(o){e=!0}if(e)return"STORAGE";if(this.isTimeout){switch(Kameleoon.Internals.configuration.behaviorWhenTimeout){case"VISIT":sessionStorage.setItem("kameleoonDisabledForVisit","true");break;default:break}return"TIMEOUT"}document.removeEventListener("visibilitychange",Kameleoon.Analyst.load);if("prerender"==document.visibilityState){document.addEventListener("visibilitychange",Kameleoon.Analyst.load);return"PRERENDER"}if(-1!=location.href.indexOf("kameleoonDisabled"))return"PARAMETER";if(Kameleoon.Internals.configuration.kameleoonDisabled)return"DISABLED";return""}kameleoonFullNeeded(){if(sessionStorage.getItem("kameleoonFullApplicationCode")||sessionStorage.getItem("kameleoonLightExtension")||Kameleoon.Internals.runtime.parameters.kameleoon||Kameleoon.Internals.runtime.parameters.kameleoonVariationId||Kameleoon.Internals.runtime.parameters["kameleoon-simulation"]||Kameleoon.Internals.runtime.parameters.kameleoonLightExtension||Kameleoon.Internals.runtime.simulationMode||Kameleoon.Utils.readLocalData("kameleoonSimulationParameters","COOKIE"))return!0;return!1}loadSimulation(){if(!Kameleoon.Internals.runtime.parameters.kameleoonVariationId)Object.keys(localStorage).forEach((e=>{if(-1!==e.indexOf("kameleoonVariation-"))localStorage.removeItem(e)}))}loadVariationFromServer(e,o){}processSimulations(){}}Analyst.CODE_ALPHABET="abcdefghijklmnopqrstuvwxyz0123456789";class API{constructor(){this.Core={enableLegalConsent:function(e="BOTH"){Kameleoon.Internals.runtime.Consent.enable(e)},disableLegalConsent:function(e="BOTH"){Kameleoon.Internals.runtime.Consent.disable(e)},enableSinglePageSupport:function(){Kameleoon.Internals.runtime.enableSinglePageSupport.apply(Kameleoon.Internals.runtime,arguments)},enableDynamicRefresh:function(){Kameleoon.Internals.runtime.enableDynamicRefresh.apply(Kameleoon.Internals.runtime,arguments)},getConfiguration:()=>new APIConfiguration(Kameleoon.Internals.configuration),load:function(){Kameleoon.Analyst.load.apply(Kameleoon.Analyst,arguments)},processRedirect:function(){Kameleoon.Utils.processRedirect.apply(Kameleoon.Utils,arguments)},runWhenConditionTrue:(e,n,t=200)=>{if(e())Kameleoon.Utils.runProtectedFunction(n,!0);else{const o=Kameleoon.Utils.setTimeout((()=>{Kameleoon.Utils.clearTimeout(o);this.Core.runWhenConditionTrue.apply(Kameleoon,[e,n,t])}),t,!0)}},runWhenElementPresent:(e,n,t,o)=>{const a=null==t;const r=Kameleoon.Utils.querySelectorAll(e);const i=n;if(o)n=n=>{KMutationObserver.setMutationObserverSPA();const t=`data-kameleoon-dynamic-class-${Kameleoon.Utils.obtainRandomString(4)}`;const o=e=>{e.forEach((e=>e.setAttribute(t,"true")))};o(n);i(n);Kameleoon.Internals.runtime.waitingDynamicElements.push({selector:e,attribute:t,callback:e=>{o(e);i(e)}})};if(!Kameleoon.Internals.runtime.querySelectorAllHasError)if(0<r.length)Kameleoon.Utils.runProtectedFunction((()=>{n(r)}),!0);else if(Kameleoon.Internals.runtime.cantUseMutationObserver||!a){const n=Kameleoon.Utils.setTimeout((()=>{Kameleoon.Utils.clearTimeout(n);this.Core.runWhenElementPresent.apply(Kameleoon,[e,i,t||200,o])}),t||200,!0)}else Kameleoon.Internals.runtime.waitingElementPresentObjects.push({selector:e,callback:n,useAntiFlicker:a})}};this.Goals={cancelConversion:(e,n)=>{try{this.Goals.processConversions(e,n,!0)}catch(e){}},processConversion:(e,n)=>{try{this.Goals.processConversions(e,n,!1)}catch(e){}},processConversions:(e,n,t)=>{Kameleoon.Internals.runtime.goals.forEach((o=>{if(e==o.id||e==o.name)Kameleoon.Analyst.Goals.processConversions([{goal:o,revenue:n,negative:t}])}))}};this.Data={readLocalData:e=>Kameleoon.Internals.runtime.storedData.Vars[e]?Kameleoon.Internals.runtime.storedData.Vars[e].value:null,resetCustomData:e=>{this.Data.setCustomData(e,[],!0)},retrieveDataFromRemoteSource:(e,n)=>{const t={siteCode:Kameleoon.Internals.configuration.siteCode};let o="map";if(e instanceof Array){o="maps";t.keys=encodeURIComponent(JSON.stringify(e))}else t.key=encodeURIComponent(e.toString());Kameleoon.Utils.performBeaconServerCall(Kameleoon.Utils.addParameterToURL(`${Kameleoon.Internals.runtime.DATA_URL}/map/${o}`,Kameleoon.Utils.parseObjectToUrlParams(t),!1),(e=>{if(4==e.readyState){let t={};if(200==e.status)t=JSON.parse(e.responseText);n&&n(t)}}),null)},setCustomData:(e,n,t=!1)=>{if(Kameleoon.Internals.runtime&&Kameleoon.Internals.runtime.gathererRun){let o=null;for(const n in Kameleoon.Internals.runtime.Gatherer.configuration.customData){const t=Kameleoon.Internals.runtime.Gatherer.configuration.customData[n];if(null!=t&&t.name==e){o=parseInt(n);break}}if(null!=o)Kameleoon.Gatherer.CustomData.register(o,{value:n,overwrite:t})}},writeLocalData:(e,n,t)=>{Kameleoon.Internals.runtime.storedData.Vars[e]={value:n,date:(new Date).getTime()+24*60*60*1e3*(t?30:1/24)}},performRemoteSynchronization:(e,n,t)=>{if(Kameleoon.Internals.runtime.gathererRun)for(const t in Kameleoon.Internals.runtime.Gatherer.configuration.customData){const o=Kameleoon.Internals.runtime.Gatherer.configuration.customData[t];if(e?o.name==e:o.mappingIdentifier){const e=n||Kameleoon.API.CurrentVisit.customData[o.name];if(e)Kameleoon.Internals.runtime.Visitor.remoteSynchronisation("customData",e,Kameleoon.Gatherer.CustomData.customDataVisitsRequest)}}}};this.Events={triggered:[],trigger:e=>{this.Core.runWhenConditionTrue((()=>!0===Kameleoon.Internals.runtime.setupAfterLocalDataRetrieval),(()=>{this.Events.triggered.push(e);if(Kameleoon.Analyst.Actions)Kameleoon.Analyst.Actions.processAllActions();if(Kameleoon.Targeting)Kameleoon.Targeting.processAllTargetingSegments();}),100)}};this.Tracking={processOmniture:e=>{Kameleoon.Tracking.processOmniture&&Kameleoon.Tracking.processOmniture(e)}};this.Products={obtainFullSearchProducts:(e,n,t)=>{},obtainInstantSearchProducts:(e,n,t)=>{},obtainProductInteractions:(e,n,t,o)=>{const a={};null!=t&&(a.timeBegin=t);null!=o&&(a.timeEnd=o);Kameleoon.Internals.runtime.Visitor.obtainProductData("productCounters",e,a,(e=>{for(const n in e){e[n].views=e[n].v||0;e[n].cartQuantities=e[n].atcq||0;e[n].boughtQuantities=e[n].bq||0;delete e[n].v;delete e[n].atcq;delete e[n].bq}n(e)}))},obtainProductData:(e,n,t={all:!0})=>{Kameleoon.Internals.runtime.Visitor.obtainProductData("productData",e,t,n)},obtainRecommendedProducts:(e,n,t,o)=>{},trackAddToCart:(e,n,t=1)=>{e=e.toString();if(null!=e&&e.length>0)if(t>0){Kameleoon.Internals.runtime.RequestManager.sendProduct(e,`eventType=productAddToCart&quantity=${t}`);}},trackAddToWishList:(e,n=1)=>{},trackCategoryView:e=>{},trackSearchQuery:e=>{},trackProductView:(e,n)=>{e=e.toString();if(null!=e&&e.length>0){const t=new APIProduct(e,n);Kameleoon.Internals.runtime.RequestManager.sendProduct(e,`eventType=productPage&${t.getTrackingParameters()}`);if(Kameleoon.Internals.runtime.gathererRun)Kameleoon.Gatherer.track(VisitEvent_Product,{ean:e});Kameleoon.Internals.runtime.product=t}},trackTransaction:e=>{for(let t=0;t<e.length;++t){const o=e[t];o.productID=(o.productId||o.productID).toString();if(null!=o.productID&&o.productID.length>0){o.quantity=parseInt(o.quantity)||1;if(o.quantity>0)Kameleoon.Internals.runtime.RequestManager.sendProduct(o.productID,`eventType=productBuy&quantity=${o.quantity}`)}}}};this.Experiments=new APIActions("experiments");this.Personalizations=new APIActions("personalizations");this.Segments={getAll:()=>Kameleoon.Internals.runtime.targetingSegments.map((e=>new APISegment(e))),getById:e=>{const n=Kameleoon.Internals.runtime.targetingSegments.filter((n=>n.id==e))[0];return n?new APISegment(n):null},getByName:e=>{const n=Kameleoon.Internals.runtime.targetingSegments.filter((n=>n.name==e))[0];return n?new APISegment(n):null},reevaluate:e=>{let n=-1;for(let t=0;t<(Kameleoon.Internals.runtime.targetingSegments||[]).length;t++){const o=Kameleoon.Internals.runtime.targetingSegments[t];if(o.id==e){n=t;break}}if(n>-1){let t;if(Kameleoon.Internals.runtime.simulationMode)t=Kameleoon.Internals.runtime.simulationModeData.targetingSegments.filter((n=>n.id==e))[0];else t=Kameleoon.Internals.configuration.targetingSegments.filter((n=>n.id==e))[0];if(t){Kameleoon.Internals.runtime.targetingSegments.splice(n,1);const o=Kameleoon.Utils.clone(t);Kameleoon.Internals.runtime.targetingSegments.push(o);Kameleoon.Targeting.checkTargetingSegmentsTargeting([o]);Kameleoon.Internals.runtime.Campaigns.obtainCampaignsList("experiments").concat(Kameleoon.Internals.runtime.Campaigns.obtainCampaignsList("personalizations")).forEach((n=>{n.setTargetingSegment(e);if(n.targetingSegmentId==e)n.forceTargeting=!1}));Kameleoon.Analyst.Actions.processAllActions();return o.targeting}}return;},trigger:e=>{const n=Kameleoon.Internals.runtime.targetingSegments.filter((n=>n.id==e));if(n.length>0){n[0].targeting=!0;Kameleoon.Internals.runtime.Campaigns.obtainCampaignsList("experiments").concat(Kameleoon.Internals.runtime.Campaigns.obtainCampaignsList("personalizations")).forEach((n=>{if(n.targetingSegmentId==e){n.targeting=void 0;n.rescheduleTargeting=!0;n.forceTargeting=!0}}));Kameleoon.Analyst.Actions.processAllActions();Kameleoon.Targeting.processTargetingSegments(n)}}};this.Variations={execute:e=>{const n=e=>{const n=Kameleoon.Internals.runtime.variations.filter((n=>n.id==e));return n?n[0]:null};let t=n(e);if(t){t=new Variation(t);if(t.redirections)t.preProcessRedirect();Kameleoon.Utils.addCSSStyleSheet(t.cssCode);return t.applyJavascriptCode(!0)}return null}};this.Utils={addEventListener:function(e,n,t,o){Kameleoon.Utils.addEventListener(e,n,t,o,!0)},addUniversalClickListener:function(e,n,t){this.addEventListener(e,Kameleoon.Internals.runtime.mouseDownEvent,(function(e){if(!Kameleoon.Internals.runtime.touchMoveEvent&&("mousedown"==Kameleoon.Internals.runtime.mouseDownEvent||!e.target||!e.target.closest||!e.target.closest("[disabled]")))n&&n(e)}))},clearInterval:function(){Kameleoon.Utils.clearInterval.apply(Kameleoon.Utils,arguments)},clearTimeout:function(){Kameleoon.Utils.clearTimeout.apply(Kameleoon.Utils,arguments)},createHash:function(e){return Kameleoon.Utils.computeStringHash.apply(Kameleoon.Utils,arguments)},getURLParameters:function(){return Kameleoon.Utils.parseParameters.apply(Kameleoon.Utils,arguments)},performRequest:(e,n,t,o=5e3)=>Kameleoon.Utils.performBeaconServerCall(e,n,t,o),querySelectorAll:function(e){return Kameleoon.Utils.querySelectorAll.apply(Kameleoon.Utils,arguments)},setInterval:(e,n=200)=>Kameleoon.Utils.setInterval(e,n,!1,!0),setTimeout:(e,n=200)=>Kameleoon.Utils.setTimeout(e,n,!0)};Object.defineProperty(this.Utils,"mouseDownEvent",{enumerable:!0,get:function(){return Kameleoon.Internals.runtime.mouseDownEvent}});Object.defineProperty(this.Utils,"touchMoveEvent",{enumerable:!0,get:function(){return Kameleoon.Internals.runtime.touchMoveEvent}});Object.defineProperty(this,"Visitor",{enumerable:!0,get:function(){try{if(!Kameleoon.Internals.runtime)return{setVisitorCode:e=>{Kameleoon.Internals.configuration.predefinedVisitorCode=e}};else return new APIVisitor}catch(e){return null}}});Object.defineProperty(this,"CurrentVisit",{enumerable:!0,get:function(){try{return new APIVisit(Kameleoon.Internals.runtime.Visitor.currentVisit)}catch(e){return null}}});Object.defineProperty(this,"React",{enumerable:!1,get:function(){return window.KameleoonAPIReact||null}})}}class ElementSet{constructor(){this.appendEmptyElement=e=>{};this.pageElementSets=[];this.pageElementSetsIds={};this.pageElementSetsSpa=[];this.pageElementSetsSpaIds={};window.kameleoonVirtualRootElement=document.createElement("div")}addDuplicatedData(e,t,o){if(!e||!Kameleoon.Internals.runtime.singlePageSupport)return;if(null!=o&&e.getAttribute){const t=e.getAttribute("data-kameleoon-class")||"";if(-1==t.toString().indexOf(o))e.setAttribute("data-kameleoon-class",(t.length>0?t+" ":"")+o)}if(null!=t)e.setAttribute("data-kameleoon-id",t.toString())}addRelativePositionToReferenceElement(e){if("absolute"!=Kameleoon.Utils.obtainComputedStyle(e).position&&document.body!=e)this.setStyle(e,"position","relative",!1)}addClassName(e,t){e.className+=(e.className?" ":"")+t}changeHTMLContent(e,t,o,l,n){}checkElementIsInDocument(e,t){let o=null,l=document;if(t.context){o=Kameleoon.Utils.querySelectorAll(t.context);if(o[0])l=o[0].contentWindow.document}while(e&&e!=l.documentElement&&e!=window.kameleoonVirtualRootElement)if(e.parentNode)e=e.parentNode;else return!1;return e==l.documentElement?!0:"VIRTUAL"}checkClassName(e,t){return-1!=(" "+e.className+" ").indexOf(" "+t+" ")}checkElementLoaded(e){if(!e||!e.parentNode)return!1;return e.nextSibling?!0:this.checkElementLoaded(e.parentNode)}obtainDepth(e){let t=0;while(null!==e.parentNode){++t;e=e.parentNode}return t}obtainElements(e,t,o,l,n){let a,i,s=[];for(let r=0,m=e.length;r<m;++r){if(null===e[r])continue;let m=e[r].selector;let d=e[r].currentQuery;let u=e[r].options;let c=null,f=document;if(u.context){c=Kameleoon.Utils.querySelectorAll(u.context);if(!c[0])continue;c=c[0].contentWindow.document;f=c;if(l)Kameleoon.Utils.addCSSStyleSheet(l.css,l.action,c)}if(!c&&n)c=n;if(u.scopeURL&&!new RegExp(u.scopeURL).test(window.location.href))a=[];else if(u.customSelector||u.autoGeneratedSelector||u.contentSelector){a=Kameleoon.Utils.querySelectorAll(m,c);if(0==a.length&&d&&d!=m)a=Kameleoon.Utils.querySelectorAll(d,c);if(u.kameleoonClass)for(let e=0,t=a.length;e<t;++e)if(0==this.checkClassName(a[e],"KameleoonClass"+u.kameleoonClass)){this.saveElementOriginalData(a[e],u.domOperation);this.addClassName(a[e],"KameleoonClass"+u.kameleoonClass);Kameleoon.ElementSet.addDuplicatedData(a[e],null,u.kameleoonClass)}if(u.kameleoonId)for(let e=0,t=a.length;e<t;++e){this.saveElementOriginalData(a[e],u.domOperation);a[e].id="kameleoonId"+u.kameleoonId;Kameleoon.ElementSet.addDuplicatedData(a[e],u.kameleoonId,null)}if(0==a.length){if(u.kameleoonId){let e=document.getElementById("kameleoonId"+u.kameleoonId);a=e?[e]:[]}if(u.kameleoonClass)a=Kameleoon.Utils.querySelectorAll(".KameleoonClass"+u.kameleoonClass,null)}if(0==a.length)a=Kameleoon.Utils.querySelectorAll(m,window.kameleoonVirtualRootElement)}else switch(m.charAt(0)){case"#":let t=m.substr(1);if(Kameleoon.Internals.runtime.singlePageSupport)a=[f.querySelector(m)];else a=[f.getElementById(m.substr(1))];if(!a[0]){let o;if(e[r].element)o=e[r].element;else if(0==t.indexOf("kameleoonElement"))if(u.domOperation){}else if(f.body){o=f.createElement("div");f.body.appendChild(o)}else e[r].evaluated=!1;if(o){o.id=t;Kameleoon.ElementSet.addDuplicatedData(o,t,null);Kameleoon.Internals.runtime.addedIDs["#"+t]=!0;a=[o]}else a=[]}break;default:a=Kameleoon.Utils.querySelectorAll(m,c);break}let p=!1;i=[];for(let l=0,n=a.length;l<n;++l)if(!a[l].getAttribute("kameleoon")){if(e[r].overwrited)e[r].overwrited=!1;if(!t||void 0===u.htmlContent||this.checkElementLoaded(a[l])){if(u.userPosition&&u.userPosition.referenceElement&&!Kameleoon.Utils.querySelectorAll(u.userPosition.referenceElement)[0])continue;i.push({element:a[l],options:Kameleoon.Utils.clone(u)})}}else if(!e[r].overwrited){i.push({element:a[l],options:Kameleoon.Utils.clone(u)});e[r].overwrited=!0}e[r].removeSelector=p||o&&0<a.length&&null!=u.autoGeneratedSelector;s=s.concat(i)}return s}performHTMLReplacements(e,t,o,l,n){let a=null;let i=!0;while(i){a=this.obtainElements(e,t,o,l,n);if(0==a.length)break;a=a.sort(((e,t)=>{let o=this.obtainDepth(e.element),l=this.obtainDepth(t.element);return o<l?-1:o>l?1:0}));a=this.removeDuplicates(a);i=!1;}for(let t=0,o=e.length;t<o;++t)if(e[t]&&e[t].removeSelector)e[t]=null;return a}powerElement(e,t,o){if(!t.dataset||!t.dataset.kameleoonEvaluated||e.overwrited||Kameleoon.Internals.runtime.editorMode||Kameleoon.Internals.runtime.kameleoonSelectionIframeMode){if(!t||Kameleoon.Internals.configuration.specifyElements&&-1==t.className.indexOf("Kameleoon"))return;if(t.dataset)t.dataset.kameleoonEvaluated=!0;this.saveElementOriginalData(t);t.kameleoonData.powered=!0;t.setAttribute("kameleoon","active");if(o.kameleoonId&&(!t.id||0===t.getAttribute("id").indexOf("kameleoonId")||0===t.getAttribute("id").indexOf("kameleoonElement"))){t.id="kameleoonId"+o.kameleoonId;Kameleoon.ElementSet.addDuplicatedData(t,o.kameleoonId,null)}if(o.kameleoonClass&&0==this.checkClassName(t,"KameleoonClass"+o.kameleoonClass)){this.addClassName(t,"KameleoonClass"+o.kameleoonClass);Kameleoon.ElementSet.addDuplicatedData(t,null,o.kameleoonClass)}this.setupNoLinkPropagation(o,t);this.processSpecialCases(t);this.processLinks(t,o.href)}}powerElements(e,t){for(let o=0,l=t.length;o<l;++o)this.powerElement(e,t[o].element,t[o].options)}processAttributesData(e,t){}processDomOperation(e,t,o,l){}processElementSet(e,t,o,l,n,a){if(!e.id)e.id=Math.floor(999999*Math.random());let i=null;let s=[];if(!this.pageElementSetsIds[e.id.toString()]){this.pageElementSetsIds[e.id.toString()]=!0;this.pageElementSets.push(e)}i=this.performHTMLReplacements([e],o,l,t,a);if((Kameleoon.Internals.runtime.singlePageSupport||Kameleoon.Internals.runtime.dynamicRefresh)&&!this.pageElementSetsSpaIds[e.id.toString()]){this.pageElementSetsSpaIds[e.id.toString()]=!0;this.pageElementSetsSpa.push({elementSet:e,potentialElementsWithOptions:i})}if(n)window.editor.services.EngineService.getInstance().refreshCustomizableElements();for(let e=0,t=i.length;e<t;++e){if(o&&i[e].options.userPosition&&"RELATIVE"!=i[e].options.userPosition.positionMode)continue;s.push(i[e])}this.powerElements(e,s);if(0===s.length&&!e.overwrited)e.evaluated=!1;return s?s.length>0:!1}processLinks(e,t){if(!t)return;if("a"==e.nodeName.toLowerCase())e.href=t;else{Kameleoon.Utils.addEventListener(e,"click",(function(){window.location.href=t}));e.style.cursor="pointer"}}processSpecialCases(e){if("body"==e.nodeName.toLowerCase()&&-1!=Kameleoon.Utils.obtainComputedStyle(e).background.indexOf("linear-gradient")){e.style.backgroundRepeat="no-repeat";if(window.innerHeight-document.documentElement.scrollHeight>0)e.style.backgroundAttachment="fixed"}}processUserPosition(e,t,o,l){}removeDuplicates(e){let t=[];for(let o=0,l=e.length;o<l;++o)if(void 0==e[o].element.kameleoonUnique){e[o].element.kameleoonUnique=t.length;if(e[o].options.kameleoonClass)e[o].options.kameleoonClass=[e[o].options.kameleoonClass];t.push(e[o])}else{let l=e[o].element.kameleoonUnique;for(let n in e[o].options)if("kameleoonClass"==n){if(!t[l].options[n])t[l].options[n]=[];t[l].options[n].push(e[o].options[n])}else t[l].options[n]=e[o].options[n]}for(let e=0,o=t.length;e<o;++e)if(void 0!==t[e].element.kameleoonUnique){t[e].element.kameleoonUnique=void 0;t[e].element.removeAttribute("kameleoonUnique")}return t}replaceHTMLContent(e,t,o,l){o=this.replaceImagePlaceholder(o);let n=this.checkElementIsInDocument(e,l);if(0==o.indexOf("kameleoonInputImage:")){this.saveElementOriginalData(e);e.kameleoonData.originalData.imgSrc=e.src;e.src=o.replace("kameleoonInputImage:","");return e}let a=document.createElement(n?e.parentNode.nodeName.toLowerCase():"div");a.innerHTML=o;let i=null;if(0===o.search(/<td>|<tr>/)){let e=document.createElement("table");e.innerHTML=o;a.innerHTML="";a.appendChild(e)}while(a.childNodes.length>0){let o=a.childNodes[0];o.kameleoonData=e.kameleoonData;o.kameleoonData.originalData.replacedElement=e;if(!i){if(3==o.nodeType)return!1;i=o;o.id=e.id;if("copyAttributes"==i.getAttribute("kameleoon")){for(let t=0,o=e.attributes.length;t<o;++t){if("srcset"==e.attributes[t].name){if(i.getAttribute("src"))i.setAttribute("srcset",i.getAttribute("src"));continue}if("src"!=e.attributes[t].name)i.setAttribute(e.attributes[t].name,e.attributes[t].value)}i.removeAttribute("kameleoon")}let t=e.className.match(/(KameleoonClass[^\s]*)/);if(t)o.className+=(o.className?" ":"")+t[1];if(l.kameleoonId){o.id="kameleoonId"+l.kameleoonId;Kameleoon.ElementSet.addDuplicatedData(o,l.kameleoonId,null)}if(l.kameleoonClass&&0==this.checkClassName(o,"KameleoonClass"+l.kameleoonClass)){this.addClassName(o,"KameleoonClass"+l.kameleoonClass);Kameleoon.ElementSet.addDuplicatedData(o,null,l.kameleoonClass)}}if(n)e.parentNode.insertBefore(o,e);if(!0!==n)for(let l=0,n=t.length;l<n;++l)if(e==t[l].element)t[l].element=o;if(!1===n){e=o;o.parentNode.removeChild(o)}}if(n)e.parentNode.removeChild(e);return i}replaceImagePlaceholder(e){return e.replace(/STATIC_IMAGE_PATH/g,Kameleoon.Internals.configuration.IMAGE_PATH)}reserveSpaceForElement(e){}saveElementOriginalData(e,t){if(!e||e.kameleoonData&&e.kameleoonData.originalData)return;if(!e.kameleoonData)e.kameleoonData={};e.kameleoonData.originalData={};e.kameleoonData.originalData.attributesData={};if(e.parentNode)e.kameleoonData.originalData.parentNode=e.parentNode;if(e.nextSibling){e.kameleoonData.originalData.nextSibling=e.nextSibling;if(3===e.nextSibling.nodeType&&e.previousSibling&&3===e.previousSibling.nodeType&&t&&("INSERT_AFTER"===t||"INSERT_BEFORE"===t)){let t=document.createComment("ReplaceHolderComment");let o=e.nextSibling.parentNode.insertBefore(t,e.nextSibling);e.kameleoonData.originalData.placeholderComment=o}}if(e.href)e.kameleoonData.originalData.href=e.getAttribute("href");if(e.nodeValue)e.kameleoonData.originalData.nodeValue=e.nodeValue;if(e.attributes)for(let t=0,o=e.attributes.length;t<o;++t){let o=e.attributes[t];e.kameleoonData.originalData.attributesData[o.nodeName]=o.nodeValue}}setStyle(e,t,o,l){this.saveElementOriginalData(e);let n=e.style.cssText;if(n){n=n.replace(/^\s+|\s+$/g,"");let e=new RegExp("(^|;)(\\s*"+t+"(.*?);)");n=n.replace(e,"$1");if(n){if(n.lastIndexOf(";")<n.length-2)n+=";";if(n.lastIndexOf(" ")!=n.length-1&&o)n+=" "}}else n="";let a=n+(o?t+": "+o+(l?" !important;":";"):"");e.style.cssText=a}setupNoLinkPropagation(e,t){if(e.noLinkPropagation)t.setAttribute("kData","nlp")}}class Gatherer{constructor(){this.MAX_HREF_LENGTH_IN_A_REQUEST=200;this.MAX_PAGE_TITLE_LENGTH_IN_A_REQUEST=200}run(e){let t=Kameleoon.Utils.clone(Kameleoon.Internals.configuration.Gatherer);if("string"==typeof t)t=JSON.parse(Kameleoon.Utils.decodeString(t));Kameleoon.Internals.runtime.Gatherer={configuration:t,active:!0,clicks:0};this.Browser=new Browser(t.browsers);this.CustomData=new CustomData(t.customData);this.KeyPage=new KeyPage(t.keyPages);this.Language=new Language;this.OperatingSystem=new OperatingSystem(t.oss);this.Referrer=new Referrer(t.referrers);this.TimeZone=new TimeZone;Kameleoon.Internals.runtime.storedData.saveField("Gatherer","startsOfVisitForCurrentPage",0);Kameleoon.Internals.runtime.Visitor=new Visitor;e();this.track(VisitEvent_Page);this.track(VisitEvent_StaticData);VisitEvent_Activity.initialize();this.CustomData.run();Kameleoon.Internals.runtime.gathererRun=!0}startNewVisit(e,t){Kameleoon.Internals.runtime.Visitor.updateFromStoredData(!0,!0,t);this.track(VisitEvent_Page);this.track(VisitEvent_StaticData);this.CustomData.run();}track(e,t){new VisitEvent(e).track(t)}}class KameleoonEngine{constructor(){this.Analyst=new Analyst;this.API=new API;this.ElementSet=new ElementSet;this.Gatherer=new Gatherer;this.Loader=new Loader;this.Targeting=new Targeting;this.Tracking=new Tracking;this.Utils=new Utils}}class Loader{constructor(){this.enableKameleoonEditorListener=()=>{if(!Kameleoon.Internals.runtime.editorListenerEnabled){Kameleoon.Internals.runtime.editorListenerEnabled=!0;const t=t=>{if(!t)t=window.event;Kameleoon.Loader.listenKeys.call(Kameleoon.Loader,t)};Kameleoon.Utils.addEventListener(document,"keyup",t,!1)}};this.listenKeys=t=>{if(t.shiftKey){if(113==t.keyCode&&Kameleoon.Internals.configuration.abtestingSetup){Kameleoon.Internals.runtime.editorMode=!0;Kameleoon.Analyst.loadKameleoonFull((()=>{Kameleoon.Loader.enableKameleoonEditor.apply(Kameleoon.Loader)}),!0)}if(115==t.keyCode&&(Kameleoon.Internals.runtime.simulationMode||Kameleoon.Internals.runtime.parameters.kameleoonVariationSelection))Kameleoon.Analyst.loadKameleoonFull((()=>{Kameleoon.Loader.enableSimulationPanel()}),!0)}};}}class Runtime{constructor(){this.DATA_URL=Kameleoon.Internals.configuration.DATA_URL;this.PAGE_LOADED_POLL_DELAY=250;this.PAGE_LOADING_POLL_DELAY=75;this.IDLE_DURATION=1e4;this.enableSinglePageSupport=()=>{this.singlePageSupport=!0;this.href=window.location.href;KMutationObserver.setMutationObserverSPA();Kameleoon.Utils.setInterval((()=>{const e=this.href;this.href=window.location.href;if(e!=this.href)Kameleoon.Analyst.load.apply(this,[])}),100)};this.enableDynamicRefresh=()=>{this.dynamicRefresh=!0;KMutationObserver.setMutationObserverSPA()};this.executeGlobalScript=()=>{if(Kameleoon.Internals.configuration.globalScript&&!this.globalScriptProcessed&&!this.editorMode&&!this.kameleoonSelectionIframeMode){Kameleoon.Utils.sendKameleoonCustomEvent("Internals",{type:"globalScript"});this.globalScriptProcessed=!0;Kameleoon.Utils.runProtectedScript(Kameleoon.Internals.configuration.globalScript,"kameleoonGlobalScript.js")}};this.initializePredefinedVisitorCode=()=>{const{predefinedVisitorCode:e,experiments:t,personalizations:i}=Kameleoon.Internals.configuration;if(e){const o=Kameleoon.Utils.readLocalData("kameleoonVisitorCode","COOKIE")||Kameleoon.Utils.readLocalData("kameleoonVisitorCode","LS");if(o==e)return;const n=this.storedData.Visitor.visits;if(n)n.slice(-1)[0].visitorCode=e;Kameleoon.Utils.saveVisitorCode(e);t.forEach((e=>{Kameleoon.Utils.eraseLocalData("kameleoonExperiment-"+e.id,null,"LS")}));i.forEach((e=>{Kameleoon.Utils.eraseLocalData("kameleoonPersonalization-"+e.id,null,"LS")}))}};this.initializeActions=()=>{if(Kameleoon.Internals.configuration.abtestingSetup||Kameleoon.Internals.configuration.personalizationSetup){this.targetingSegments=Kameleoon.Utils.clone(Kameleoon.Internals.configuration.targetingSegments);this.variations=Kameleoon.Utils.clone(Kameleoon.Internals.configuration.variations)}if(Kameleoon.Internals.configuration.abtestingSetup)Kameleoon.Internals.configuration.experiments.forEach((e=>{this.Campaigns.addCampaign(new Experiment(e,this.incomingStoredData))}));if(Kameleoon.Internals.configuration.personalizationSetup){Kameleoon.Internals.configuration.personalizations.forEach((e=>{this.Campaigns.addCampaign(new Personalization(e,this.incomingStoredData))}));}};this.initializeActionsAfterGatherer=()=>{if(Kameleoon.Internals.configuration.personalizationSetup)Personalization.setGlobalPersonalizationDeviation();};this.initializeIdleTimeListener=()=>{};this.initializeListeners=()=>{Kameleoon.Utils.domReady((()=>{this.domReady=!0;if(!0!==Kameleoon.Internals.configuration.disableEditorLaunchViaKeys)Kameleoon.Loader.enableKameleoonEditorListener();if(this.kameleoonSelectionIframeMode){const e=document.createElement("script");e.setAttribute("type","text/javascript");e.setAttribute("charset","utf-8");e.setAttribute("src","https://back-office-redesign."+Kameleoon.Internals.configuration.DOMAIN+"/get-script?type=selection");this.headNode.appendChild(e)}if(0==window.kameleoonLightIframe&&window.kameleoonIframeURL)if(this.Gatherer.startOfVisit)Kameleoon.Utils.setTimeout((()=>{const e=document.createElement("iframe");e.src=window.kameleoonIframeURL;e.id="kameleoonExternalIframe";e.style.cssFloat="left !important";e.style.opacity="0.0 !important";e.width="0px";e.height="0px";e.onload=()=>{e.parentNode.removeChild(e)};document.head.appendChild(e)}),5e3)}));if("touchend"==this.mouseDownEvent){Kameleoon.Utils.addEventListener(document,"touchmove",(e=>{this.touchMoveEvent=!0}));Kameleoon.Utils.addEventListener(document,"touchstart",(e=>{this.touchMoveEvent=!1}))}if(!this.iframeLocalStorage)window.addEventListener("storage",(e=>{const t=null==e.key?[""]:e.key.split("-");let i=t[0];if(-1!=i.indexOf("kameleoon")){if(window.document.hasFocus())return;let o;try{o=null==e.newValue?null:JSON.parse(e.newValue).value}catch(e){return}const n={};switch(i){case"kameleoonExperiment":n.type=i;const e=t[1];n.experimentId=parseInt(e);let a;if(null==o)a=null;else{const e=o.split("/")[0];a=isNaN(e)?e:parseInt(e)}n.registeredVariationId=a;break;case"kameleoonGlobalPersonalizationExposition":n.type=i;n.active=null==o?null:"true"==o.split("/")[0];break;case this.dataKeyName:case"kameleoonSimulationVisitorData":n.type=i;n.value=null==o?null:o;break;case"kameleoonLegalConsent":n.type=i;n.saveLegalConsent=null==o?null:o;break}if(null!=n.type)Kameleoon.Utils.processStorageData(n)}}),!1);this.initializeIdleTimeListener();};this.loadExternalRequests=()=>{this.Geolocation="undefined"!=typeof KGeolocation?new KGeolocation:null;this.IP="undefined"!=typeof IP?new IP:null;};this.loadAudienceSegments=()=>{const{useOpportunitySegments:e,siteCode:t,WIDE_DOMAIN:i}=Kameleoon.Internals.configuration;if(e)this.RequestManager.addCallback((()=>{const e=window.kameleoonCustomConfigurationURL||`https://${t}.${i}/`;Kameleoon.Utils.performBeaconServerCall(e+"audiences/segments.js",(e=>{if(4==e.readyState&&200==e.status){Kameleoon.Utils.runProtectedScript(e.responseText,"kameleoonAudiencesSegments.js");if(this.audienceSegments){this.audienceSegments.forEach((e=>{e.opportunityDetection=!0;if(null==Kameleoon.Targeting.segments[e.id]){Kameleoon.Targeting.segments[e.id]=e;this.targetingSegments.push(e)}}));Kameleoon.Targeting.processTargetingSegments(this.audienceSegments)}}}))}));};this.processPageLoaded=()=>{Kameleoon.Utils.removeBlockingStyleSheet();for(let e=0,t=this.variations.length;e<t;++e){const t="enginePollerForVariation"+this.variations[e].id;if(this[t]){if(this.cantUseMutationObserver)window.clearInterval(this[t]);this[t]=null}}};this.readFromStorageOrExternal=(e,t)=>{if(this.incomingStoredData)return this.incomingStoredData[e];else return Kameleoon.Utils.readLocalData(e,t,!0)};this.setup=()=>{if(this.parameters.kameleoon)Kameleoon.Utils.domReady((()=>{Kameleoon.Loader.enableKameleoonEditor()}));const e="adBlockerCheck";const t=Kameleoon.Utils.setInterval((()=>{let i=document.getElementById(e);if(null==i&&null!=document.body){i=document.createElement("div");i.id=e;i.className="ad-placement";document.body.appendChild(i)}if(null!=i&&0==i.clientWidth)this.adBlocker=!0;if(null==this.adBlocker&&Kameleoon.Utils.querySelectorAll("[id^=ghostery-]").length>0)this.adBlocker=!0;if(this.adBlocker)Kameleoon.Utils.clearInterval(t)}),250);const i=Kameleoon.Utils.setTimeout((()=>{Kameleoon.Utils.clearTimeout(i);const o=document.getElementById(e);if(null!=o)o.parentNode.removeChild(o);if(null==this.adBlocker){Kameleoon.Utils.clearInterval(t);this.adBlocker=!1}else Kameleoon.Gatherer.track(VisitEvent_AdBlocker)}),2e3);Kameleoon.Utils.addEventListener(window,"pageshow",(e=>{if(e.persisted)this.updateAfterPageCached()}));this.Visitor.updateFromStoredData(!1,!1,!1);if(!Kameleoon.Internals.configuration.requestsAfterConsent)this.loadExternalRequests();KMutationObserver.setMutationObserver();Kameleoon.Analyst.loadKameleoonFull((()=>{Kameleoon.Analyst.loadSimulation()}));Kameleoon.Analyst.Actions.processAllActions();Kameleoon.Targeting.processAllTargetingSegments();Kameleoon.Analyst.Goals.checkKameleoonGoals();this.loadAudienceSegments();};this.setupLocalData=e=>{Kameleoon.Utils.addEventListener(window,"message",Kameleoon.Utils.processMessageEvent,!1);if(this.iframeLocalStorage){this.externalIframe=document.getElementById("kameleoonExternalIframe")||window.kameleoonExternalIframe;this.postMessageOrigin=window.kameleoonIframeOrigin||"";this.postMessageCallbacks={};if(null==Kameleoon.Internals.configuration.externalIframeData)Kameleoon.Utils.postMessageToExternalIframe(JSON.stringify({type:"retrieve",callbackId:Kameleoon.Utils.addPostMessageCallback((t=>{this.incomingStoredData=t;e()}))}));else{this.incomingStoredData=Kameleoon.Internals.configuration.externalIframeData;e();delete Kameleoon.Internals.configuration.externalIframeData}}else{this.incomingStoredData=null;e()}};this.updateAfterPageCached=()=>{this.pageCached=!0;if(this.iframeLocalStorage)Kameleoon.Utils.postMessageToExternalIframe(JSON.stringify({type:"retrieve",callbackId:Kameleoon.Utils.addPostMessageCallback((()=>{}))}));else{const e=Kameleoon.Utils.readLocalData(this.simulationMode?"kameleoonSimulationVisitorData":this.dataKeyName,"LS",!0);this.storedData.update(e);this.Visitor.updateFromStoredData(!1,!1,!1);Kameleoon.Gatherer.track(VisitEvent_Page)}};this.getSimulationMode=()=>{const e=this.readFromStorageOrExternal("kameleoonSimulation","LS");return e?!0:!1};this.pageStartTime=(new Date).getTime();this.dataKeyName="kameleoonData";this.Device=new Device;this.deviceType=this.Device.type;this.parameters=Kameleoon.Utils.parseParameters();this.beforeUnloadEvent="Phone"==this.deviceType&&"Safari"==this.Device.browser?"pagehide":"beforeunload";this.headNode=document.getElementsByTagName("head")[0];this.editorMode="true"==this.parameters.kameleoon;this.proxyMode="proxy."+Kameleoon.Internals.configuration.DOMAIN===window.location.hostname;this.disableCache="true"==this.parameters.kameleoonDisableCache||this.parameters.kameleoonVariationId;this.kameleoonSelectionIframeMode="true"==this.parameters.kameleoonSelectionIframeMode;this.iframeLocalStorage=Kameleoon.Internals.configuration.useWideDomainSupport;this.useWideDomainSupport=Kameleoon.Internals.configuration.useWideDomainSupport||null!=window.kameleoonLightIframe;if(0==window.kameleoonLightIframe||null==window.kameleoonLightIframe)this.iframeLocalStorage=!1;this.mouseDownEvent="ontouchend"in document.documentElement?"touchend":"mousedown";this.addedClasses={};this.addedIDs={};this.eventListeners=[];this.listenVariations=[];this.waitingElementPresentObjects=[];this.waitingDynamicElements=[];this.variations=[];this.intervalIds={};this.targetingSegments=[];this.timeoutIds={};this.goals=Kameleoon.Utils.clone(Kameleoon.Internals.configuration.goals);this.cantUseMutationObserver="undefined"==typeof MutationObserver&&!Kameleoon.Internals.configuration.disableDomMutationObserver;this.Campaigns=new Campaigns;this.Consent=new Consent;Object.defineProperty(this,"experiments",{get(){return this.Campaigns.obtainCampaignsList("experiments")}});Object.defineProperty(this,"personalizations",{get(){return this.Campaigns.obtainCampaignsList("personalizations")}})}clear(){this.eventListeners.forEach((e=>{let t;if("window"==e.elementKey||"document"==e.elementKey)t="window"==e.elementKey?window:document;else{t=document.querySelector(`[kameleoonListener-${e.elementKey}=true]`);if(t)t.removeAttribute(`kameleoonListener-${e.elementKey}`)}if(t)t.removeEventListener(e.eventType,e.actionFunction,e.useCapture)}));this.waitingDynamicElements.forEach((e=>{Kameleoon.Utils.querySelectorAll(`[${e.attribute}=true]`).forEach((t=>{t.removeAttribute(e.attribute)}))}));for(const e in this.timeoutIds)Kameleoon.Utils.clearTimeout(parseInt(e));for(const e in this.intervalIds)Kameleoon.Utils.clearInterval(parseInt(e));if(this.RequestManager)this.RequestManager.processRequests();if(this.storedData)this.storedData.save(!0);if(null!=this.mutationObserver)this.mutationObserver.disconnect();if(null!=this.mutationObserverSpa)this.mutationObserverSpa.disconnect();if(Kameleoon.Targeting)Kameleoon.Targeting.segments={};let e=Kameleoon.Utils.querySelectorAll("[id^='kameleoonElement'], [id*='kameleoonScenarioLayerBase'], [id^='kameleoonStyleSheet'], [class*='kameleoonWidget']");for(let t=0;t<e.length;++t)e[t].parentNode.removeChild(e[t]);e=Kameleoon.Utils.querySelectorAll("[id^='kameleoonId'], .kameleoonOverlay");for(let t=0;t<e.length;++t)e[t].removeAttribute("id");e=Kameleoon.Utils.querySelectorAll("[class^='kameleoonClass']");for(let t=0;t<e.length;++t)e[t].removeAttribute("class");if(this.storedData)this.storedData.save(!0);Kameleoon.API.Events.triggered=[]}run(){this.running=!0;Kameleoon.Utils.removeBlockingStyleSheet();this.setupLocalData((()=>{this.simulationMode=this.getSimulationMode();this.storedData=new StoredData(this.incomingStoredData);this.Consent.setup();this.initializePredefinedVisitorCode();this.initializeActions();Kameleoon.Gatherer.run((()=>{this.RequestManager=new RequestManager}));this.initializeActionsAfterGatherer();this.executeGlobalScript();window.kameleoonQueue=new CommandQueue(window.kameleoonQueue);Kameleoon.Utils.sendKameleoonCustomEvent.call(window,"Started",{newVisitorCode:1==this.Visitor.visits.length});this.initializeListeners();this.setup();this.setupAfterLocalDataRetrieval=!0}))}}class Utils{constructor(){this.events=[];this.addParameterToURL=(e,t,n)=>{if(n)return e+(-1==e.indexOf("#")?"#":"&")+t;let o="";if(-1!=e.indexOf("#")){o=e.substr(e.indexOf("#"));e=e.substr(0,e.indexOf("#"))}e+=(-1==e.indexOf("?")?"?":"&")+t+o;return e};this.computeCurrentPageAbsoluteURLNoProxyMode=function(){let e=Kameleoon.Internals.runtime;if(null==e.currentPageAbsoluteURLNoProxyMode){if(e.proxyMode){let t=e.parameters.kameleoonExperimentId||e.parameters["kameleoon-experiment-id"];if(null!=t){let n=e.Campaigns.obtainCampaign(t,"experiment");if(n)e.currentPageAbsoluteURLNoProxyMode=n.baseURL}}if(null==e.currentPageAbsoluteURLNoProxyMode)e.currentPageAbsoluteURLNoProxyMode=window.location.href}return e.currentPageAbsoluteURLNoProxyMode};this.computeCurrentPageCanonicalURL=()=>{if(null==Kameleoon.Internals.runtime.currentPageCanonicalURL){let e=this.querySelectorAll('link[rel="canonical"]');if(e.length>0)Kameleoon.Internals.runtime.currentPageCanonicalURL=e[0].href}return Kameleoon.Internals.runtime.currentPageCanonicalURL};this.computeCurrentPageCleanRelativeURL=()=>{if(null==Kameleoon.Internals.runtime.currentPageCleanRelativeURL)Kameleoon.Internals.runtime.currentPageCleanRelativeURL=this.computeRelativeURL(this.computeCurrentPageCleanAbsoluteURL());return Kameleoon.Internals.runtime.currentPageCleanRelativeURL};this.computeIfSuffix=(e,t)=>{let n=e.length-t.length;let o=e.lastIndexOf(t,n);return o>=0&&o==n};this.computeRelativeURL=e=>{let t=document.createElement("a");t.href=e;return t.pathname+t.search+t.hash};this.computeStringSha256=e=>{let t=1,n,o=[],a=[];while(++t<18)for(n=t*t;n<312;n+=t)o[n]=1;function r(e,t){return Math.pow(e,1/t)%1*4294967296|0}for(t=1,n=0;t<313;)if(!o[++t]){a[n]=r(t,2);o[n++]=r(t,3)}function l(e,t){return e>>>t|e<<32-t}let i=a.slice(t=0),s=this.encodeUTF8(e),m=[],u=s.length,c=[],d,f,h;for(;t<u;)c[t>>2]|=(255&s.charCodeAt(t))<<8*(3-t++%4);u*=8;c[u>>5]|=128<<24-u%32;c[h=u+64>>5|15]=u;for(t=0;t<h;t+=16){d=i.slice(n=0,8);for(;n<64;d[4]+=f){if(n<16)m[n]=c[n+t];else m[n]=(l(f=m[n-2],17)^l(f,19)^f>>>10)+(0|m[n-7])+(l(f=m[n-15],7)^l(f,18)^f>>>3)+(0|m[n-16]);let e;d.unshift((f=(d.pop()+(l(e=d[4],6)^l(e,11)^l(e,25))+((e&d[5]^~e&d[6])+o[n])|0)+(0|m[n++]))+(l(u=d[0],2)^l(u,13)^l(u,22))+(u&d[1]^d[1]&d[2]^d[2]&u))}for(n=8;n--;)i[n]=d[n]+i[n]}for(s="";n<63;)s+=(i[++n>>3]>>4*(7-n%8)&15).toString(16);return s};this.computeURLNoKameleoonParameters=e=>{let t=!1;for(let n in Kameleoon.Internals.runtime.parameters)if(-1!=n.indexOf("kameleoon")){t=!0;e=e.replace(new RegExp(n+"="+Kameleoon.Internals.runtime.parameters[n]+"&?"),"")}return t?e.replace(/\?$/,""):e};this.computeURLRegExpNoKameleoonParameters=e=>e?e.replace(/(\\\?|&|#)kameleoon[^&#()]*/g,""):null;this.createLocalData=(e,t,n,o,a,r,l,i)=>{let s="COOKIE"!=a;let m=(new Date).getTime();if(!i&&!Kameleoon.Internals.runtime.Consent.hasGlobalConsent()){let i=s?"LS":"COOKIE";if(null==Kameleoon.Internals.runtime.localDataMap)Kameleoon.Internals.runtime.localDataMap={};if(null==Kameleoon.Internals.runtime.localDataMap[i])Kameleoon.Internals.runtime.localDataMap[i]={};Kameleoon.Internals.runtime.localDataMap[i][e]={name:e,value:t,days:n,domain:o,forceLocalAccess:a,jsonFormat:r,creationTime:m};if(s)l&&l();return}if(s){let o=m+24*n*60*60*1e3;if(Kameleoon.Internals.runtime.iframeLocalStorage)this.postMessageToExternalIframe(JSON.stringify({type:"set",key:e,data:{value:Utils.LOCAL_STORAGE_OBFUSCATED_KEYS[e]&&this.obfuscateString(JSON.stringify(t))||t,expirationDate:o},callbackId:this.addPostMessageCallback(l)}));else{try{localStorage.setItem(e,JSON.stringify({value:Utils.LOCAL_STORAGE_OBFUSCATED_KEYS[e]&&this.obfuscateString(JSON.stringify(t))||t,expirationDate:o}))}catch(e){}l&&l()}}else{let a="";let l=r?JSON.stringify(t):t;if(n){let e=new Date(m+24*n*60*60*1e3);a="; expires="+e.toUTCString()}if("CURRENT_HOST"!=o){o=o||Kameleoon.Internals.configuration.customCookieDomainName||this.obtainCurrentRootDomain();a+="; domain="+o}const i=Kameleoon.Internals.configuration.useSecureCookie?"; Secure":"";document.cookie=e+"="+l+a+"; path=/; SameSite=Lax"+i}};this.decodeString=e=>{let t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let n="";let o,a,r;let l,i,s,m;let u=0;e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(u<e.length){l=t.indexOf(e.charAt(u++));i=t.indexOf(e.charAt(u++));s=t.indexOf(e.charAt(u++));m=t.indexOf(e.charAt(u++));o=l<<2|i>>4;a=(15&i)<<4|s>>2;r=(3&s)<<6|m;n+=String.fromCharCode(o);if(64!=s)n+=String.fromCharCode(a);if(64!=m)n+=String.fromCharCode(r)}n=this.decodeUTF8(n);return n};this.decodeUTF8=e=>{let t="";let n=0;let o=0,a=0,r;while(n<e.length){o=e.charCodeAt(n);if(o<128){t+=String.fromCharCode(o);n++}else if(o>191&&o<224){a=e.charCodeAt(n+1);t+=String.fromCharCode((31&o)<<6|63&a);n+=2}else{a=e.charCodeAt(n+1);r=e.charCodeAt(n+2);t+=String.fromCharCode((15&o)<<12|(63&a)<<6|63&r);n+=3}}return t};this.domReady=e=>{if("complete"==document.readyState||"interactive"==document.readyState)return e();else{let t=!1;this.addEventListener(document,"DOMContentLoaded",(()=>{if(t)return;t=!0;e()}),!1);this.addEventListener(window,"load",(()=>{if(t)return;t=!0;e()}),!1)}};this.encodeString=e=>{let t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let n="";let o,a,r,l,i,s,m;let u=0;e=this.encodeUTF8(e);while(u<e.length){o=e.charCodeAt(u++);a=e.charCodeAt(u++);r=e.charCodeAt(u++);l=o>>2;i=(3&o)<<4|a>>4;s=(15&a)<<2|r>>6;m=63&r;if(isNaN(a))s=m=64;else if(isNaN(r))m=64;n=n+t.charAt(l)+t.charAt(i)+t.charAt(s)+t.charAt(m)}return n};this.encodeUTF8=e=>{e=e.replace(/\r\n/g,"\n");let t="";for(let n=0;n<e.length;n++){let o=e.charCodeAt(n);if(o<128)t+=String.fromCharCode(o);else if(o>127&&o<2048){t+=String.fromCharCode(o>>6|192);t+=String.fromCharCode(63&o|128)}else{t+=String.fromCharCode(o>>12|224);t+=String.fromCharCode(o>>6&63|128);t+=String.fromCharCode(63&o|128)}}return t};this.eraseLocalData=(e,t,n)=>{let o="COOKIE"!=n;let a=Kameleoon.Internals.runtime.localDataMap;let r=o?"LS":"COOKIE";if(null!=a&&null!=a[r]&&null!=a[r][e])delete a[r][e];if(o)if(Kameleoon.Internals.runtime.iframeLocalStorage)this.postMessageToExternalIframe(JSON.stringify({type:"remove",key:e,callbackId:this.addPostMessageCallback(null)}));else localStorage.removeItem(e);else this.createLocalData(e,"",-1,t,"COOKIE",!1,null,!0)};this.forceNoFlicker=e=>{let t=document.createElement("style");t.setAttribute("id","kameleoonPageLoading");t.setAttribute("rel","stylesheet");t.setAttribute("type","text/css");t.setAttribute("media","screen");let n=e+" { visibility: hidden !important; background-image: none !important; }";t.appendChild(document.createTextNode(n));Kameleoon.Internals.runtime.headNode.appendChild(t)};this.getLocale=e=>{let t=Kameleoon.Gatherer.Language.obtainLocaleTag();if("fr-FR"==t)t="fr";if("en-US"==t)t="en";if(e&&(!t||"fr"!=t))t="en";return t.substring(0,2)};this.obtainComputedStyle=e=>{if(window.getComputedStyle)return getComputedStyle(e,"");return null};this.obtainCurrentRootDomain=()=>{if(null==Kameleoon.Internals.runtime.currentRootDomain){let e=window.location.hostname.split(".");let t="";const n="testRootDomain";const o="_detectRootDomain";for(let a=0,r=e.length;a<r;a++){if(a>0)t="."+t;t=e[r-a-1]+t;if(0==t.length)continue;this.createLocalData(o,n,1,t,"COOKIE",!1,void 0,!0);const l=this.readLocalData(o,"COOKIE",!1);if(l){this.eraseLocalData(o,t,"COOKIE");Kameleoon.Internals.runtime.currentRootDomain=t;break}}}return Kameleoon.Internals.runtime.currentRootDomain};this.obtainRandomString=(e,t=Analyst.CODE_ALPHABET)=>{let n=t.length;let o="";for(let a=0;a<e;++a){let e=Math.floor(Math.random()*n);o+=t.substring(e,e+1)}return o};this.parseHostName=e=>{let t=document.createElement("a");t.href=e;return t.hostname};this.processRedirect=(e,t)=>{if(window.location.href!=e){t=t||Kameleoon.Analyst.Actions.currentAction;if(Kameleoon.Internals.runtime.gathererRun&&1==Kameleoon.Internals.runtime.Visitor.currentVisit.obtainPageNumberViews()){}let o=document.createElement("a");o.href=e;if(!Kameleoon.Internals.runtime.useWideDomainSupport&&-1==window.location.href.indexOf(o.protocol+"//"+o.hostname)){if(t)e=Kameleoon.Utils.addParameterToURL(e,"kameleoonRedirect-"+t.id+"="+t.associatedVariation.id,!0)}else if(t)Kameleoon.Utils.createLocalData("kameleoonRedirect-"+t.id,t.associatedVariation.id,1,null,null,!1,null,!0);if(window.location.href!=e){Kameleoon.Utils.forceNoFlicker("*");Kameleoon.Utils.createLocalData("kameleoonReferrer",Kameleoon.Gatherer.Referrer.obtain(),1/24,null,"COOKIE",!1);window.location.replace(e)}}};this.processStorageData=e=>{if(Kameleoon.Internals.runtime.setupAfterLocalDataRetrieval)switch(e.type){case"kameleoonExperiment":for(let t in Kameleoon.Internals.runtime.Campaigns.experiments){let n=Kameleoon.Internals.runtime.Campaigns.experiments[t];if(e.experimentId==n.id){n.registeredVariationId=e.registeredVariationId;break}}break;case"kameleoonGlobalPersonalizationExposition":Kameleoon.Internals.runtime.personalizationsActive=e.active;break;case Kameleoon.Internals.runtime.dataKeyName:case"kameleoonSimulationVisitorData":if(e.type==Kameleoon.Internals.runtime.dataKeyName&&!Kameleoon.Internals.runtime.simulationMode||"kameleoonSimulationVisitorData"==e.type&&Kameleoon.Internals.runtime.simulationMode){if(Kameleoon.Internals.runtime.pageCached)Kameleoon.Internals.runtime.storedData.update(Kameleoon.Utils.readLocalData(e.type,"LS",!0));else Kameleoon.Internals.runtime.storedData.update(JSON.parse(Kameleoon.Utils.unobfuscateString(e.value)));Kameleoon.Internals.runtime.Visitor.updateFromStoredData(!1,!1,!1)}break;case"kameleoonLegalConsent":if(e.saveLegalConsent){let t=e=>e?"enable":"disable";if(null!=e.saveLegalConsent.AB_TESTING){let n=t(e.saveLegalConsent.AB_TESTING);Kameleoon.Internals.runtime.Consent[n]("AB_TESTING",!0)}if(null!=e.saveLegalConsent.PERSONALIZATION){let n=t(e.saveLegalConsent.PERSONALIZATION);Kameleoon.Internals.runtime.Consent[n]("PERSONALIZATION",!0)}}break}};this.querySelectorAll=(e,t)=>{Kameleoon.Internals.runtime.querySelectorAllHasError=!1;let n=!1,o,a=[],r=[];if(null==t)t=document;let l=e.match(/#([0-9]+.*)(?: |$)/);if(l){let t=e.charAt(1);e=e.replace("#"+t,"#\\3"+t+" ")}if(""!==e){if(-1!==e.indexOf("[")&&-1===e.indexOf("']")&&-1===e.indexOf('"]')){let t=e.split(/(?=\.)|(?=#)|(?=\[)/),n,o,a;t.forEach((function(t){if("["===t[0]&&-1===t.indexOf("']")&&-1===e.indexOf('"]')&&-1!==e.indexOf("=")){n=t.split(/=(.+)?/);o=n[1];o=o.substring(0,o.length-1);a=n[0]+"='"+o+"']";e=e.replace(t,a)}}))}if(-1!==e.indexOf(":contains")){n=!0;o=this.treatContainsSelector(e);e=o.newSelector}if(t&&t.querySelectorAll)if(-1!==e.indexOf(":eq"))a=this.treatEqSelector(e,t);else try{a=t.querySelectorAll(e)}catch(e){Kameleoon.Internals.runtime.querySelectorAllHasError=!0;a=[]}for(let e=0,t=a.length;e<t;++e)if(n){if(o.check(o.containText,a[e]))r.push(a[e])}else r.push(a[e])}return r};this.readLocalData=(e,t,n)=>{let o="COOKIE"!=t;let a=(new Date).getTime();try{if(!Kameleoon.Internals.runtime.Consent.hasGlobalConsent()){let t=Kameleoon.Internals.runtime.localDataMap;let n=o?"LS":"COOKIE";if(null!=t&&null!=t[n]&&null!=t[n][e]){let o=t[n][e];if(a-24*o.days*60*60*1e3>=o.creationTime)delete t[n][e];else return o.value}}if(o){let t;t=localStorage&&localStorage.getItem(e);if(!t)return null;t=JSON.parse(t);if(Utils.LOCAL_STORAGE_OBFUSCATED_KEYS[e])t.value=JSON.parse(this.unobfuscateString(t.value));if(a>(t.date||t.expirationDate)){localStorage.removeItem(e);return null}return t.value}else{let t=null;let o=document.cookie.split(";");for(let a=0,r=o.length;a<r;++a){let r=o[a];let l=r.indexOf("=");if(r.substring(0,l).trim()==e){let e=r.substring(l+1);t=n&&JSON.parse(e)||e;break}}return t}}catch(e){}return null};this.runProtectedFunction=(e,t)=>{try{e()}catch(e){if(t)console.log(e);else Kameleoon.Utils.Logger.send(e,"kameleoon.js");if(Kameleoon.Internals.runtime&&t)Kameleoon.Internals.runtime.processPageLoaded()}};this.runProtectedScript=(e,t,n)=>{if(n)return n();if(e){let n=null;try{let o=t?"//# sourceURL="+t:"";n=eval.call(window,"(function () {\n"+e+"\n})();"+o)}catch(e){n=null;console.log(e)}return n}return null};this.saveVisitorCode=(e,t=!0)=>{if(Kameleoon.Internals.configuration.useWideDomainSupport||Kameleoon.Internals.configuration.useVisitorCodeInLocalStorage)Kameleoon.Utils.createLocalData("kameleoonVisitorCode",e,Utils.MAX_STORAGE_DAYS,null,"LS");if(t)Kameleoon.Utils.createLocalData("kameleoonVisitorCode",e,Utils.MAX_STORAGE_DAYS,null,"COOKIE")};this.seededRandom=(e,t)=>{let n;if(t){n=Kameleoon.Utils.computeStringSha256(e);return parseInt(n,16)/Math.pow(2,256)}n=this.computeStringHash(e);n=(9301*Math.abs(n)+49297)%233280;return n/233280};this.treatEqSelector=(e,t)=>{if(void 0===e)return null;let n=e.split(/\:eq\([0-9]+\)/g);let o=e.match(/(?!\:eq\()[0-9]+/g)||[];let a=null==t?document:t;for(let t=0;t<n.length;++t){n[t]=n[t].trim();if(">"===n[t].charAt(0))n[t]=n[t].substring(1,e.length).trim();if(null==a||""==n[t].trim())break;if(t>o.length-1)a=a.querySelectorAll(n[t]);else a=a.querySelectorAll(n[t])[o[t]]}if(null==a)return[];if(void 0==a.length)a=[a];let r=Kameleoon.Utils.querySelectorAll(e.replace(/\:eq\([0-9]+\)/g,""));let l=[];for(let e=0;e<r.length;++e)for(let t=0;t<a.length;++t)if(r[e]===a[t]){l.push(a[t]);break}return l};this.Logger=new Logger;this.bowser=window.kbowser||window.bowser}addEventListener(e,t,n,o,a){let r;if(e==window)r="window";else if(e==document)r="document";else{r=Kameleoon.Utils.obtainRandomString(4);e.setAttribute(`kameleoonListener-${r}`,!0)}let l=n;if(a)e.addEventListener(t,l,o);else{l=function(e){Kameleoon.Utils.runProtectedFunction((function(){n(e)}))};e.addEventListener(t,l,o)}Kameleoon.Internals.runtime.eventListeners.push({elementKey:r,eventType:t,actionFunction:l,useCapture:o})}addPostMessageCallback(e){let t=Math.random().toString();Kameleoon.Internals.runtime.postMessageCallbacks[t]=e;return t}addCSSStyleSheet(e,t,n){if(!e)return;let o=n?n:document;let a="kameleoonStyleSheet"+(t?"-"+t.id:"");let r=n?n.getElementById(a):null;let l="";if(r){l=r.textContent;r.parentNode.removeChild(r)}let i=o.createElement("style");i.className="KameleoonStyleSheet";i.setAttribute("id",a);i.setAttribute("rel","stylesheet");i.setAttribute("type","text/css");i.setAttribute("media","screen");let s=l+e;if(i.styleSheet)i.styleSheet.cssText=s;else i.appendChild(document.createTextNode(s));if(n)o.getElementsByTagName("head")[0].appendChild(i,o.getElementsByTagName("head")[0].firstChild);else Kameleoon.Internals.runtime.headNode.appendChild(i);if(t)t.loadedCSSStyleSheet=i}applyVariation(e){new Variation(e).process()}clearInterval(e){delete Kameleoon.Internals.runtime.intervalIds[e];window.clearInterval(e)}clearTimeout(e){delete Kameleoon.Internals.runtime.timeoutIds[e];window.clearTimeout(e)}clone(e){return JSON.parse(JSON.stringify(e))}computeCurrentPageCleanAbsoluteURL(){if(null==Kameleoon.Internals.runtime.currentPageCleanAbsoluteURL){Kameleoon.Internals.runtime.currentPageCleanAbsoluteURL=this.computeURLNoKameleoonParameters(this.computeCurrentPageAbsoluteURLNoProxyMode());try{Kameleoon.Internals.runtime.currentPageCleanAbsoluteURL=decodeURIComponent(Kameleoon.Internals.runtime.currentPageCleanAbsoluteURL)}catch(e){}}return Kameleoon.Internals.runtime.currentPageCleanAbsoluteURL}computeStringHash(e,t){e=t?this.computeStringSha256(e):e;let n=0;for(let t=0;t<e.length;++t){n=(n<<5)-n+e.charCodeAt(t);n&=n}return n}secureSessionStorage(e,t,n){try{return window.sessionStorage[e](t,n)}catch(e){return null}}flatten(...e){let t=[];for(let e=0;e<arguments.length;e++)if(arguments[e]instanceof Array)t.push.apply(t,Kameleoon.Utils.flatten.apply(this,arguments[e]));else t.push(arguments[e]);return t}obfuscateString(e){let t="";for(let n=0,o=e.length;n<o;n+=1){let o=e[n];if("’"==o)o="'";t+=String.fromCharCode(o.charCodeAt(0)+16)}return t}parseParameters(){let e={};let t=window.location.hash.substring(1).replace(/\?/g,"&");let n=window.location.search.substring(1);if(n||t){let o=(n?n.split("&"):[]).concat(t?t.split("&"):[]);o.forEach((t=>{let n=t.split("=");try{e[decodeURIComponent(n[0])]=n[1]?decodeURIComponent(n[1]):null}catch(t){e[unescape(n[0])]=n[1]?unescape(n[1]):null}}))}return e}performBeaconServerCall(e,t,n,o){let a=new XMLHttpRequest;a.open("GET",e,!0);if(t)a.onreadystatechange=function(e){t.bind(a)(e.target)};if(n){a.onerror=function(e){n.bind(a)(e.target)};a.ontimeout=function(e){n.bind(a)(e.target)}}a.timeout=o||15*60*1e3;a.send()}postMessageToExternalIframe(e){if(!Kameleoon.Internals.runtime.externalIframe||!Kameleoon.Internals.runtime.externalIframe.contentWindow){if(window.kameleoonIframeURL){let t=document.createElement("iframe");t.src=window.kameleoonIframeURL;t.id="kameleoonExternalIframe";t.style.cssFloat="left !important";t.style.height="0px !important";t.style.opacity="0.0 !important";t.style.width="0px !important";t.onload=()=>{Kameleoon.Internals.runtime.externalIframe=t;Kameleoon.Internals.runtime.externalIframe.contentWindow.postMessage("kameleoon"+e,"*")};document.head.appendChild(t)}}else Kameleoon.Internals.runtime.externalIframe.contentWindow.postMessage("kameleoon"+e,"*")}processMessageEvent(e){if("string"!==typeof e.data)return;if("obtainTagCommanderVariableNames"==e.data){let t=[];if(window.tc_vars)for(let e in window.tc_vars)t.push(e);if(!(e.source instanceof MessagePort)&&!(e.source instanceof ServiceWorker))e.source.postMessage("tagCommanderVariableNames"+JSON.stringify(t),e.origin);return}if(0==e.data.indexOf("checkKameleoonScriptPresent")){if("https://back-office."+Kameleoon.Internals.configuration.DOMAIN==e.origin){let t="";let n=e.data.replace("checkKameleoonScriptPresent","");Kameleoon.Utils.runProtectedScript(n);if(!(e.source instanceof MessagePort)&&!(e.source instanceof ServiceWorker))e.source.postMessage(t,e.origin)}return}if(Kameleoon.Internals.runtime.iframeLocalStorage&&Kameleoon.Internals.runtime.postMessageOrigin==e.origin)try{let t=JSON.parse(e.data);if(t.kameleoonMessage){if(t.callbackId){let e=Kameleoon.Internals.runtime.postMessageCallbacks[t.callbackId];delete Kameleoon.Internals.runtime.postMessageCallbacks[t.callbackId];e&&e(t.data)}if(null!=t.type)Kameleoon.Utils.processStorageData(t)}}catch(e){}}removeBlockingStyleSheet(){let e=document.getElementById("kameleoonPageLoading");if(e&&e.parentNode)e.parentNode.removeChild(e)}removeCSSStyleSheet(e){if(e.loadedCSSStyleSheet){var t=e.loadedCSSStyleSheet.id.replace("kameleoonStyleSheet-","");if(-1==t.indexOf(",")){Kameleoon.Internals.runtime.headNode.removeChild(e.loadedCSSStyleSheet);e.loadedCSSStyleSheet=null}else e.loadedCSSStyleSheet.id="kameleoonStyleSheet-"+t.replace(new RegExp(e.id+",?"),"")}}sendKameleoonCustomEvent(e,t,n){try{let o=document.createEvent("CustomEvent");t.time=(new Date).getTime();o.initCustomEvent("Kameleoon::"+e,!1,!1,t);window.dispatchEvent(o);if(sessionStorage.getItem("kameleoonLightExtension")||Kameleoon.Internals.runtime.parameters.kameleoonLightExtension){t.type=n?n:t.type;window.kameleoonEvents=window.kameleoonEvents||[];window.kameleoonEvents.push(t)}}catch(e){}}setInterval(e,t,n,o){let a=window.setInterval((function(){Kameleoon.Utils.runProtectedFunction((function(){e()}),o)}),t);Kameleoon.Internals.runtime.intervalIds[a]=!0;if(n)e();return a}setTimeout(e,t,n){let o=window.setTimeout((function(){Kameleoon.Utils.runProtectedFunction((function(){e()}),n)}),t);Kameleoon.Internals.runtime.timeoutIds[o]=!0;return o}testEmptyMap(e){return 0==Object.keys(e).length}parseObjectToUrlParams(e){return Object.entries(e).map((e=>e[0]+"="+e[1])).join("&")}treatContainsSelector(e){let t={},n;function o(e,t){let n=!1;if(t.textContent&&-1!==t.textContent.indexOf(e))n=!0;return n}n=e.match(/:contains\(['"]([\s\S]+)['"]\)/);t.containText=n[1];t.newSelector=e.replace(n[0],"");if(""===t.newSelector)t.newSelector="*";t.check=o;return t}unobfuscateString(e){let t="";for(let n=0,o=e.length;n<o;n+=1)t+=String.fromCharCode(e[n].charCodeAt(0)-16);return t}}Utils.LOCAL_STORAGE_OBFUSCATED_KEYS={kameleoonData:!0,kameleoonSimulationVisitorData:!0};Utils.MAX_STORAGE_DAYS=365;class Browser{constructor(e){this.browsers=e}obtain(){let e=Kameleoon.Internals.runtime.Device.browser;if("Internet Explorer"==e||"Microsoft Edge"==e)e="Explorer";return e}obtainIndex(){let e=this.obtain()||"";let r=e.toUpperCase();for(let e in this.browsers)if(this.browsers[e].name.toUpperCase()==r)return parseInt(e);return null}}class CustomData{constructor(t){this.CUSTOM_DATA_CUTOFF=3*1e3;this.CUSTOM_DATA_INTERVAL=3*1e3;this.CUSTOM_DATA_RETRY_DELAY_BEFORE_CUT_OFF=100;this.MAX_INTERVAL_API_VISIT_REQUEST=15*60*1e3;this.MAX_NUMBER_REQUESTS_TO_API_VISIT=3;this.inheritVisitorScopeAndTrackVisitorDataFromServer=()=>{if(Kameleoon.Internals.runtime.Visitor.visits.length>1){const t=Kameleoon.Internals.runtime.Visitor.currentVisit.customData;const e=Kameleoon.Internals.runtime.Visitor.visits[Kameleoon.Internals.runtime.Visitor.visits.length-2].customData;for(const i in this.customData){const a=this.customData[i].scope;if("VISITOR"==a&&null==t[i]){const t=e[i];if(null!=t)this.register(parseInt(i),{value:t,overwrite:!0},!0)}}Kameleoon.Internals.runtime.Visitor.saveToStoredData()}};this.register=(t,e,i)=>{const a=this.customData[t];if(a){let n={};const s=e.value;if(null==s)return;const r=e.overwrite;if(i)n=s;else if(s instanceof Array){for(let t=0,e=s.length;t<e;++t)if(null!=s[t]&&(s[t].toString().length<=VisitEvent_CustomData.MAX_SUM_CUSTOM_DATA_VALUES_LENGTHES_IN_A_REQUEST||a.localOnly))n[s[t]]=1}else if(s.toString().length<=VisitEvent_CustomData.MAX_SUM_CUSTOM_DATA_VALUES_LENGTHES_IN_A_REQUEST||a.localOnly)n[s]=1;const o="LIST"==a.type||"COUNT_LIST"==a.type?r:!0;if(o||!Kameleoon.Utils.testEmptyMap(n)){if(a.mappingIdentifier){const t=(new Date).getTime();let e=!0,a=Kameleoon.Internals.runtime.storedData.obtainField("Gatherer","visitsRequestTimeSent",[]);a=a.filter((e=>e>t-this.MAX_INTERVAL_API_VISIT_REQUEST));if(a.length<this.MAX_NUMBER_REQUESTS_TO_API_VISIT)a.push(t);else e=!1;Kameleoon.Internals.runtime.storedData.saveField("Gatherer","visitsRequestTimeSent",a);if(e){const t=i?Object.keys(s)[0]:s;Kameleoon.Internals.runtime.Visitor.remoteSynchronisation("customData",t,this.customDataVisitsRequest)}}Kameleoon.Utils.sendKameleoonCustomEvent.call(window,"CustomDataSet",{name:a.name,value:s});Kameleoon.Utils.sendKameleoonCustomEvent("Internals",{type:"customData/set",name:a.name,value:s});Kameleoon.Gatherer.track(VisitEvent_CustomData,{index:t,customData:a,overwrite:o,overwriteDefault:r,valueToAdd:n,value:s})}}};this.customDataVisitsRequest=t=>{Kameleoon.Internals.runtime.storedData.saveField("Gatherer","visitsRequestSuccess",!0);const e=Kameleoon.Internals.runtime.Visitor.registerVisitsRequestSuccessAndChangePreviousVisits(t);if(e.length>0){const t=(new Date).getTime();e.sort(((t,e)=>e.startDate-t.startDate)).forEach((e=>{if(e.ExperimentActivations)for(const i in e.ExperimentActivations){const a=Kameleoon.Internals.runtime.Campaigns.obtainCampaign(i,"experiment");if(a&&void 0===a.registeredVariationId){a.registeredVariationId=e.ExperimentActivations[i].associatedVariationID;a.assignmentTime=t;a.writeLocalData()}}}));this.inheritVisitorScopeAndTrackVisitorDataFromServer()}};this.run=()=>{Kameleoon.Internals.runtime.Visitor.currentVisit.clearCustomDataPage();Kameleoon.Utils.clearInterval(this.intervalId);if(Kameleoon.Internals.runtime.Gatherer.startOfVisit)this.inheritVisitorScopeAndTrackVisitorDataFromServer();this.firstTimeCheck=(new Date).getTime();this.intervalId=Kameleoon.Utils.setInterval(this.obtain.bind(this),this.CUSTOM_DATA_RETRY_DELAY_BEFORE_CUT_OFF,!0);Kameleoon.Utils.setTimeout((()=>{Kameleoon.Utils.clearInterval(this.intervalId)}),this.CUSTOM_DATA_CUTOFF);Kameleoon.Utils.setInterval(this.obtain.bind(this),this.CUSTOM_DATA_INTERVAL,!1)};this.customData=t;Kameleoon.Internals.runtime.enableHistoryReconciliation=!1;for(const e in t)if(t[e].mappingIdentifier){Kameleoon.Internals.runtime.enableHistoryReconciliation=!0;break}}parseNumberValue(t,e){switch(t){case-2:return"true"===e;case-1:return e;default:return parseFloat(e)}}obtainParsedValue(t,e){const i=this.customData[t];switch(i.type){case"COUNT_LIST":const t=[];for(const i in e)t.push({value:i,count:e[i]});return t;case"LIST":const a=[];for(const t in e)a.push(t);return a;default:return this.parseNumberValue(i.format,Object.keys(e)[0])}}obtain(){for(const t in this.customData)if(!this.customData[t].treated){const e=parseInt(t);const i=this.obtainValueMap(e,this.customData[t]);if(i)this.register(e,i)}}obtainValueFromPath(t,e){return t.match(/[^'\]\[\.\"]+/gi).reduce(((t,e)=>t&&t[e]),e)}obtainValueMap(t,e){let i=null;if(null!=e&&!e.disabled)switch(e.method.toUpperCase()){case"GTM":if(window.dataLayer&&e.variableName)for(let t=0,a=window.dataLayer.length;t<a;++t){const a=this.obtainValueFromPath(e.variableName,window.dataLayer[t]);if(null!=a){i={value:a,overwrite:!1};break}}break;case"TC":if(window.tc_vars&&e.variableName){let t=this.obtainValueFromPath(e.variableName,window.tc_vars);if("string"==typeof t&&0==t.length)t=null;if(null!=t){i={value:t,overwrite:!1};break}}break;case"TEALIUM":if(window.utag&&window.utag.data&&e.variableName){let t=this.obtainValueFromPath(e.variableName,window.utag.data);if("string"==typeof t&&0==t.length)t=null;if(null!=t){i={value:t,overwrite:!1};break}}break;case"CUSTOM_CODE":i=Kameleoon.Utils.runProtectedScript(e.customEvalCode,"kameleoonCustomDataScript-"+t+".js");break;default:break}if(null!=i){e.treated=!0;const a=Kameleoon.Internals.runtime.Visitor.currentVisit.customData[t];const n=i.value;if(null!=n){const t=e.type;if("LIST"==t||"COUNT_LIST"==t||null==a||Object.keys(a)[0]!=n.toString()||Kameleoon.Internals.runtime.enableHistoryReconciliation&&e.mappingIdentifier&&null==Kameleoon.Internals.runtime.storedData.obtainField("Gatherer","visitsRequestSuccess"))return i}}return null}}class KeyPage{constructor(e){this.keyPages=e}obtainIndexes(){let e=[];for(let t in this.keyPages){let s=new RegExp(this.keyPages[t].relativeURLRegExp);if(s.test(Kameleoon.Utils.computeCurrentPageCleanAbsoluteURL())||s.test(Kameleoon.Utils.computeCurrentPageCleanRelativeURL()))e.push(parseInt(t))}if(0==e.length)e.push(null);return e}}class Language{constructor(){this.DEFAULT_LOCALE_LANGUAGE_TAG="en"}obtainLocaleTag(){let a=null;if(navigator&&navigator.language)a=navigator.language;return a?a:this.DEFAULT_LOCALE_LANGUAGE_TAG}}class OperatingSystem{constructor(e){this.oss=e}obtainIndex(){let e=this.obtain()||"";let s=e.toUpperCase();for(let e in this.oss)if(this.oss[e].name.toUpperCase()==s)return parseInt(e);return null}obtain(){let e=Kameleoon.Utils.bowser.parse(navigator.userAgent);switch(e.os.name){case"Windows Phone":case"iOS":case"Android":case"Linux":case"Windows":return e.os.name;case"macOS":return"Tablet"==Kameleoon.Internals.runtime.Device.type?"iOS":"Mac";default:return"Other"}}}class Referrer{constructor(e){this.referrers=e;this.referrer=document.referrer;let t=Kameleoon.Utils.readLocalData("kameleoonReferrer","COOKIE");if(t){this.referrer=t;Kameleoon.Utils.eraseLocalData("kameleoonReferrer",null,"COOKIE")}}obtainCorrected(e){switch(this.obtainType(e)){case 0:case 1:return null;default:return this.obtain()}}obtain(){return this.referrer}obtainDetectionMatches(e){let t=this.obtainDetectionPartMatches(e.method,e.parameters);if(e.and)t=t&&this.obtainDetectionPartMatches(e.andMethod,e.andParameters);return t}obtainDetectionPartMatches(e,t){switch(e.toUpperCase()){case"REFERRER_REGEX":return new RegExp(t).test(this.obtain());case"URL_REGEX":let e=new RegExp(t);return e.test(Kameleoon.Utils.computeCurrentPageCleanAbsoluteURL())||e.test(Kameleoon.Utils.computeCurrentPageCleanRelativeURL());default:try{return!0===Kameleoon.Utils.runProtectedScript(t)}catch(e){return!1}}}obtainIndexes(e){switch(this.obtainType(e)){case 0:case 1:return[0];default:let e=[];let t=Number.NEGATIVE_INFINITY;for(let r in Kameleoon.Internals.runtime.Gatherer.configuration.referrers){let n=Kameleoon.Internals.runtime.Gatherer.configuration.referrers[r];if(this.obtainMatches(n)){let a=n.priority;if(null==a)a=Number.NEGATIVE_INFINITY;if(a>=t){if(a>t){e=[];t=a}e.push(parseInt(r)+1)}}}if(0==e.length)e.push(null);return e}}obtainIsIgnored(e){let t=this.obtain();if(Kameleoon.Internals.runtime.Gatherer.configuration.directNoneReferrerOnlyFirst)if(""==t&&!e)return!0;let r=window.location.pathname;let n=Kameleoon.Internals.runtime.Gatherer.configuration.noReferrerPages.length;for(let e=0;e<n;e++)if(r==Kameleoon.Internals.runtime.Gatherer.configuration.noReferrerPages[e])return!0;return!1}obtainMatches(e){let t=e.detections;for(let e=0;e<t.length;e++)if(this.obtainDetectionMatches(t[e]))return!0;return!1}obtainType(e){if(this.obtainIsIgnored(e))return 0;if(Kameleoon.Internals.runtime.storedData.obtainField("Gatherer","startsOfVisitForCurrentPage")>1)return 1;return 3}}class StoredData{constructor(e){this.Gatherer={};this.Runtime={};this.Vars=Kameleoon.Utils.readLocalData("kameleoonVars","LS")||{};this.Visitor={};this.canSave=!1;if(e){let a="";if(e[Kameleoon.Internals.runtime.dataKeyName]){a=e[Kameleoon.Internals.runtime.dataKeyName];if(e.Kameleoon)Kameleoon.Utils.eraseLocalData("kameleoonData",null,"LS")}else if(e.kameleoonData)a=e.kameleoonData;if(Kameleoon.Internals.runtime.simulationMode)if(e.kameleoonDataSimulation||e.kameleoonSimulationVisitorData)a=e.kameleoonDataSimulation||e.kameleoonSimulationVisitorData;let t=Kameleoon.Utils.unobfuscateString(a);let i=t&&JSON.parse(t)||{};this.Gatherer=i.Gatherer||{};this.Runtime=i.Runtime||{};this.Vars=i.Vars||e.kameleoonVars||{};this.Visitor=i.Visitor||{}}else{let e=Kameleoon.Utils.readLocalData("kameleoonData","LS");if(Kameleoon.Internals.runtime.simulationMode){const a=Kameleoon.Utils.readLocalData("kameleoonDataSimulation","LS",!0);const t=Kameleoon.Utils.readLocalData("kameleoonSimulationVisitorData","LS",!0);if(a||t)e=a||t}if(e){this.Gatherer=e.Gatherer;this.Runtime=e.Runtime||{};this.Vars=e.Vars||this.Vars;this.Visitor=e.Visitor}}Kameleoon.Utils.eraseLocalData("kameleoonVars",null,"LS");for(let e in this.Vars)if(Kameleoon.Internals.runtime.pageStartTime>this.Vars[e].date)delete this.Vars[e];Kameleoon.Utils.setInterval((()=>{if(this.canSave){this.save(!0);this.canSave=!1}}),1e3);Kameleoon.Utils.addEventListener(window,Kameleoon.Internals.runtime.beforeUnloadEvent,(()=>{if(window.self!==window.top){let e=Kameleoon.Utils.readLocalData(Kameleoon.Internals.runtime.simulationMode?"kameleoonSimulationVisitorData":Kameleoon.Internals.runtime.dataKeyName,"LS");if(e&&e.Visitor&&this.Visitor&&this.Visitor.totalVisits<e.Visitor.totalVisits)this.update(e)}this.save(!0)}))}obtainField(e,a,t){return this[e][a]||t||null}resetForStartOfVisit(){this.Runtime={}}saveField(e,a,t){this[e][a]=t;this.save(!1)}save(e){if(e)Kameleoon.Utils.createLocalData(Kameleoon.Internals.runtime.simulationMode?"kameleoonSimulationVisitorData":Kameleoon.Internals.runtime.dataKeyName,this,Kameleoon.Internals.runtime.simulationMode?1/24:Utils.MAX_STORAGE_DAYS,null,"LS",!0);else this.canSave=!0}update(e){this.Gatherer=e.Gatherer||this.Gatherer;this.Runtime=e.Runtime||this.Runtime;this.Vars=e.Vars||this.Vars;this.Visitor=e.Visitor||this.Visitor}}class TimeZone{constructor(){}obtainId(){let t;try{t="undefined"!=typeof Intl&&Intl.DateTimeFormat().resolvedOptions?Intl.DateTimeFormat().resolvedOptions().timeZone:null}catch(e){t=null}return t}}class VisitEvent{constructor(e){this.eventType=e.type;this.visitEvent=e}track(e){let t=()=>{let t=new this.visitEvent(e);Kameleoon.Internals.runtime.Visitor.saveToStoredData();if((!e||!e.notTrack&&!t.notTrack)&&Kameleoon.Internals.configuration.track)Kameleoon.Internals.runtime.RequestManager.addRequest(t);Kameleoon.Internals.runtime.storedData.save(this.visitEvent.urgent)};if(!Kameleoon.Internals.runtime.Visitor.currentVisit.isVisitFinished())t();else if(this.eventType==VisitEvent_Activity.type&&Kameleoon.Internals.runtime.Gatherer.active){Kameleoon.Internals.runtime.Visitor=new Visitor;Kameleoon.Gatherer.track(VisitEvent_Page);Kameleoon.Gatherer.track(VisitEvent_StaticData);Kameleoon.Gatherer.CustomData.run();Kameleoon.Internals.runtime.gathererRun=!0;t()}}}class VisitEvent_Main{constructor(t){this.obtainRequestData=()=>{let t="eventType="+this.eventType;for(let e in this){if("function"==typeof this[e]||VisitEvent_Main.NOT_TRACK_FIELD[e])continue;t+=`&${e}=${this.addValueParameter(this[e])}`}return t};this.addValueParameter=t=>{if("object"==typeof t)return encodeURIComponent(JSON.stringify(t));else if("string"==typeof t)return encodeURIComponent(t);return t};this.time=(new Date).getTime();this.nonce=Kameleoon.Utils.obtainRandomString(VisitEvent_Main.NONCE_LENGTH,VisitEvent_Main.HEXADECIMAL_ALPHABET)}}VisitEvent_Main.HEXADECIMAL_ALPHABET="0123456789ABCDEF";VisitEvent_Main.NONCE_LENGTH=16;VisitEvent_Main.NOT_TRACK_FIELD={eventType:1,time:1,notTrack:1,type:1,urgent:1};class VisitEvent_Activity extends VisitEvent_Main{constructor(){super();this.eventType=VisitEvent_Activity.type;this.clicks=Kameleoon.Internals.runtime.Gatherer.clicks;Kameleoon.Internals.runtime.Visitor.currentVisit.addActivity(this.time,Kameleoon.Internals.runtime.Gatherer.active);Kameleoon.Internals.runtime.Visitor.currentVisit.addNumberClicks(this.clicks);Kameleoon.Internals.runtime.Gatherer.active=!1;Kameleoon.Internals.runtime.Gatherer.clicks=0}static initialize(){let e=()=>{Kameleoon.Internals.runtime.Gatherer.active=!0};let t=()=>{e();Kameleoon.Internals.runtime.Gatherer.clicks++};Kameleoon.Utils.addEventListener(document,"mousemove",e,!1);Kameleoon.Utils.addEventListener(document,"scroll",e,!1);Kameleoon.Utils.addEventListener(document,"click",t,!1);Kameleoon.Utils.setInterval((()=>{if(Kameleoon.Internals.runtime.Gatherer.active)Kameleoon.Gatherer.track(this)}),this.ACTIVITY_TRACKING_INTERVAL,!0)}}VisitEvent_Activity.ACTIVITY_TRACKING_INTERVAL=15*1e3;VisitEvent_Activity.type="activity";VisitEvent_Activity.urgent=!1;class VisitEvent_AdBlocker extends VisitEvent_Main{constructor(){super();this.eventType=VisitEvent_AdBlocker.type;Kameleoon.Internals.runtime.Visitor.currentVisit.addAdBlocker()}}VisitEvent_AdBlocker.type="adBlocker";VisitEvent_AdBlocker.urgent=!1;class VisitEvent_Experiment extends VisitEvent_Main{constructor(t){super();this.eventType=VisitEvent_Experiment.type;this.id=t.id;this.variationId=t.variationId;this.notTrack=t.notTrack;if(null==this.variationId)this.notTrack=!0;Kameleoon.Internals.runtime.Visitor.currentVisit.addExperiment(this.time,this.id,this.variationId)}}VisitEvent_Experiment.type="experiment";VisitEvent_Experiment.urgent=!0;class VisitEvent_Personalization extends VisitEvent_Main{constructor(i){super();this.eventType=VisitEvent_Personalization.type;this.id=i.id;this.variationId=i.variationId;this.notTrack=i.notTrack;if(0==this.variationId&&i.unexpositionCause)this.unexpositionCause=i.unexpositionCause;Kameleoon.Internals.runtime.Visitor.currentVisit.addPersonalization(this.time,this.id,i.originalVariationId)}}VisitEvent_Personalization.type="personalization";VisitEvent_Personalization.urgent=!0;class VisitEvent_Conversions extends VisitEvent_Main{constructor(e){super();this.eventType=VisitEvent_Conversions.type;this.goalId=e.goalId;this.negative=!0===e.negative;let i,t=!1;let n=Kameleoon.Internals.runtime.storedData.obtainField("Gatherer","revenuesByGoalId",{});let s=n[this.goalId];if(this.negative)if(s&&s.length>0){i=s.splice(-1)[0];if(0==s.length)delete n[this.goalId]}else t=!0;else{i=e.revenue;if(isNaN(i))i=0;if(!s)s=[];s.push(i);n[this.goalId]=s.splice(-10)}this.revenue=i;if(!t){Kameleoon.Internals.runtime.storedData.saveField("Gatherer","revenuesByGoalId",n);Kameleoon.Internals.runtime.Visitor.currentVisit.addConversions(this.goalId,1,this.revenue,this.negative);}}}VisitEvent_Conversions.type="conversion";VisitEvent_Conversions.urgent=!0;class VisitEvent_CustomData extends VisitEvent_Main{constructor(t){super();this.eventType=VisitEvent_CustomData.type;this.index=t.index;this.overwrite=t.overwrite||!1;this.notTrack=t.value.length>VisitEvent_CustomData.MAX_SUM_CUSTOM_DATA_VALUES_LENGTHES_IN_A_REQUEST||t.customData.localOnly;this.valuesCountMap=t.valueToAdd;this.mappingIdentifier=1==t.customData.mappingIdentifier?"true":"false";Kameleoon.Internals.runtime.Visitor.currentVisit.addCustomData(this.index,this.valuesCountMap,this.overwrite);if("PAGE"===t.customData.scope)this.overwrite=t.overwriteDefault||!1}}VisitEvent_CustomData.MAX_SUM_CUSTOM_DATA_VALUES_LENGTHES_IN_A_REQUEST=1e3;VisitEvent_CustomData.type="customData";VisitEvent_CustomData.urgent=!0;class VisitEvent_Geolocation extends VisitEvent_Main{constructor(t){super();this.eventType=VisitEvent_Geolocation.type;this.city=t.city;this.country=t.country;this.latitude=t.latitude;this.longitude=t.longitude;this.postalCode=t.postalCode;this.region=t.region;Kameleoon.Internals.runtime.Visitor.currentVisit.addGeolocation(this.country,this.region,this.city,this.postalCode,this.latitude,this.longitude)}}VisitEvent_Geolocation.type="geolocation";VisitEvent_Geolocation.urgent=!1;class VisitEvent_Page extends VisitEvent_Main{constructor(){super();this.eventType=VisitEvent_Page.type;const e=Kameleoon.Utils.computeCurrentPageCleanAbsoluteURL();const t=document.title;const r=Kameleoon.Utils.computeCurrentPageCanonicalURL();const i=Kameleoon.Gatherer.Referrer.obtainCorrected(Kameleoon.Internals.runtime.Gatherer.startOfVisit);this.href=e&&e.slice(0,Kameleoon.Gatherer.MAX_HREF_LENGTH_IN_A_REQUEST);this.title=t.slice(0,Kameleoon.Gatherer.MAX_PAGE_TITLE_LENGTH_IN_A_REQUEST);this.keyPagesIndices=Kameleoon.Gatherer.KeyPage.obtainIndexes();this.referrersIndices=Kameleoon.Gatherer.Referrer.obtainIndexes(Kameleoon.Internals.runtime.Gatherer.startOfVisit);if(r)this.canonicalHref=r;if(null!=i)this.referrerHref=i;if(Kameleoon.Internals.configuration.cleanHrefTracking){if(this.href)this.href=this.href.replace(/(\?|\#)(.*)/gi,"");if(this.referrerHref)this.referrerHref=this.referrerHref.replace(/(\?|\#)(.*)/gi,"")}Kameleoon.Internals.runtime.Visitor.currentVisit.addPage(this.time,e,this.keyPagesIndices,this.referrersIndices);Kameleoon.Internals.runtime.Visitor.currentVisit.addActivity(this.time,!0)}}VisitEvent_Page.type="page";VisitEvent_Page.urgent=!0;class VisitEvent_Product extends VisitEvent_Main{constructor(t){super();this.eventType=VisitEvent_Product.type;this.ean=t.ean;Kameleoon.Internals.runtime.Visitor.currentVisit.addProduct(this.ean)}}VisitEvent_Product.type="productPage";VisitEvent_Product.urgent=!1;class VisitEvent_StaticData extends VisitEvent_Main{constructor(){super();this.eventType=VisitEvent_StaticData.type;this.obtainInfluences=()=>{let e=Kameleoon.Internals.runtime.Visitor.visits;let t=Kameleoon.Internals.runtime.Visitor.currentVisit.startDate;let i={experiments:{},personalizations:{}};let n=e=>{for(let t in e)if(e[t][1]<0||"-1"==t||null==e[t][0]||"null"==e[t][0])delete e[t];return e};e.forEach((e=>{for(let n in e.ExperimentActivations){let s=e.ExperimentActivations[n];if(s.influence){let e=s.influence-(t-s.times.slice(-1)[0]);i.experiments[n]=[parseInt(s.associatedVariationID),e]}}for(let n in e.PersonalizationActivations){let s=e.PersonalizationActivations[n];if(s.influence){let e=s.influence-(t-s.times.slice(-1)[0]);i.personalizations[n]=[1,e]}}}));this.experimentInfluences=n(i.experiments);this.personalizationInfluences=n(i.personalizations)};this.timeSincePreviousVisit=Kameleoon.Internals.runtime.Visitor.obtainTimeSincePreviousVisit();this.browser=Kameleoon.Gatherer.Browser.obtain();this.browserIndex=Kameleoon.Gatherer.Browser.obtainIndex();this.browserVersion=Kameleoon.Internals.runtime.Device.browserVersion;this.os=Kameleoon.Gatherer.OperatingSystem.obtain();this.osIndex=Kameleoon.Gatherer.OperatingSystem.obtainIndex();this.windowWidth=Kameleoon.Internals.runtime.Device.windowWidth;this.windowHeight=Kameleoon.Internals.runtime.Device.windowHeight;this.screenWidth=Kameleoon.Internals.runtime.Device.screenWidth;this.screenHeight=Kameleoon.Internals.runtime.Device.screenHeight;this.timeZoneId=Kameleoon.Gatherer.TimeZone.obtainId();this.localeLanguageTag=Kameleoon.Gatherer.Language.obtainLocaleTag();this.deviceType=Kameleoon.Internals.runtime.Device.type.toLocaleUpperCase();this.visitNumber=Kameleoon.Internals.runtime.Visitor.currentVisit.visitNumber;this.obtainInfluences()}}VisitEvent_StaticData.type="staticData";VisitEvent_StaticData.urgent=!0;class VisitEvent_TargetingSegments extends VisitEvent_Main{constructor(t){super();this.eventType=VisitEvent_TargetingSegments.type;this.id=t.id;Kameleoon.Internals.runtime.Visitor.currentVisit.addTargetingSegment(this.time,this.id)}}VisitEvent_TargetingSegments.type="targetingSegment";VisitEvent_TargetingSegments.urgent=!1;class CommandQueue{constructor(e,o){this.executeCommand=e=>{try{if(e.command)e=e.command;if("function"===typeof e)e();else{let o=e[0];let s=o.split(".");let m;let t;if("Kameleoon"!=s[0]){m=Kameleoon.API;t=Kameleoon.API[s[0]]}else t=Kameleoon.API[s[2]];s.forEach((e=>{if(null==m)m=window[e];else m=m[e]}));m.apply(t,Array.prototype.slice.call(e,1))}}catch(e){console.log(e)}};this.commands=e&&e.forEach?e:[];this.commands.push=e=>{if("IMMEDIATE"==o)e.level==o?this.executeCommand(e):this.commands.unshift(e);else this.executeCommand(e)};let s=[];if("IMMEDIATE"==o)this.commands.forEach(((e,o)=>{if("IMMEDIATE"==e.level){s.push(e);this.commands.splice(o,1)}}));else{this.commands.forEach((e=>{s.push(e)}));this.commands.splice(0,this.commands.length)}s.forEach(this.executeCommand);return this.commands}}class Actions{constructor(){this.associateActionAndVariation=(e,n,i)=>{let o=!0;let t=!0;if("REGISTERED_VARIATION"==i)t=!1;if("DISPLAYED_VARIATION"==i)o=!1;if(null===n)e.trackingPerformed=!0;const a=Kameleoon.Internals.runtime.variations.filter((e=>e.id==n))[0];let s="Reference";if(e&&e.variations)e.variations.forEach((function(e,i){if(e.id&&e.name&&e.id==n)s=e.name}));const r=e.associatedVariation;if(e&&r&&n==r.id)s=r.name;if(e&&o)e.associatedVariation={id:n,name:s};if(e&&t&&!e.displayedVariation)e.associationMade=!1;if(a){if(e&&(Kameleoon.Internals.runtime.simulationMode&&-1==e.id||!e.associationMade)){if(o){e.associatedVariation=a;e.associationMade=!0}a.actionId=e.id;if(t)e.displayedVariation=new Variation(a)}}else{e.displayedVariation={id:n,name:s};}}}checkCapping(e,n,i,o,t){if(null!=o.expositionFrequencySameVisit&&Kameleoon.Internals.runtime.Visitor.obtainActionNumberActivations(n,i,null,t,!0,!1,!1,e)>=o.expositionFrequencySameVisit||null!=o.expositionFrequencySameVisitor&&null!=o.expositionFrequencySameVisitorDelaySeconds&&Kameleoon.Internals.runtime.Visitor.obtainActionNumberActivations(n,i,t-1e3*o.expositionFrequencySameVisitorDelaySeconds,t,!0,!0,!1,e)>=o.expositionFrequencySameVisitor||o.cappingPerVisitorNumberExpositions&&Kameleoon.Internals.runtime.Visitor.obtainActionNumberActivations(n,i,null,t,!0,!0,!1,e)>=o.expositionFrequencySameVisitorMax||o.cappingPerVisitorNumberExposedVisits&&Kameleoon.Internals.runtime.Visitor.obtainActionNumberActivations(n,i,null,null,!0,!0,!0,e)>=o.exposedVisitsSameVisitorMax||o.cappingPerVisitorConvertGoal&&Kameleoon.Internals.runtime.Visitor.obtainNumberConversions(o.cappingPerVisitorGoalId)>0||null!=o.expositionFrequencyDelaySecondsBetweenTwoExpositions&&Kameleoon.Internals.runtime.Visitor.obtainActionNumberActivations(n,i,t-1e3*o.expositionFrequencyDelaySecondsBetweenTwoExpositions,t,!0,!0,!1,e)>=1)return!1;return!0}checkActionConsent(e){if(e.experimentAction){if(!Kameleoon.Internals.runtime.Consent.AB_TESTING){if(null==Kameleoon.Internals.runtime.Consent.AB_TESTING){if("ALL"==Kameleoon.Internals.configuration.beforeAbtestConsent)return!0;if("PARTIALLY"==Kameleoon.Internals.configuration.beforeAbtestConsent&&e.technical)return!0}else if(e.technical&&"RUN"==Kameleoon.Internals.configuration.abtestConsentOptout)return!0;return!1}}else if(!Kameleoon.Internals.runtime.Consent.PERSONALIZATION){if(null==Kameleoon.Internals.runtime.Consent.PERSONALIZATION){if("ALL"==Kameleoon.Internals.configuration.beforePersonalizationConsent)return!0;if("PARTIALLY"==Kameleoon.Internals.configuration.beforePersonalizationConsent&&e.technical)return!0}else if(e.technical&&"RUN"==Kameleoon.Internals.configuration.personalizationConsentOptout)return!0;return!1}return!0}checkActionsTargeting(e){Kameleoon.Internals.runtime.Campaigns.obtainCampaignsList("personalizations").forEach((e=>{e.previousExposition=e.exposition}));const n=[];for(let i=0,o=e.length;i<o;++i){const o=e[i];if(!this.checkActionConsent(o)||o.blocked||o.featureFlag)continue;if(null==o.numberTargetingCheckings)o.numberTargetingCheckings=0;if(Kameleoon.Targeting.checkIfTargetingMustBeComputed(o.targeting,o.rescheduleTargeting||0==o.numberTargetingCheckings,!o.experimentAction&&"CUMULATIVE_WEIGHT"==o.checkConditionsRule))n.push(o)}e=n;for(let n=0,i=e.length;n<i;++n){const i=e[n];if(!0===i.forceTargeting)i.targeting=!0;else{const e=!i.experimentAction&&"CUMULATIVE_WEIGHT"==i.personalizationCheckConditionsRule;const n=Kameleoon.Targeting.checkTree(i,i.targetingSegment?i.targetingSegment.tree:null,e,i.targetingSegment||null);if(e)switch(i.microtargetingMatchType){case"GREATER":i.targeting=n.weight>(i.cumulativeWeightOfConditions||0);break;case"EQUAL":i.targeting=n.weight==(i.cumulativeWeightOfConditions||0);break;case"LOWER":i.targeting=n.weight<i.cumulativeWeightOfConditions;break}else i.targeting=n.targeting;i.rescheduleTargeting=n.rescheduleTargeting;i.numberTargetingCheckings++}}const i=[];for(let n=0,o=e.length;n<o;++n){const o=e[n];if(!o.experimentAction)if(!0===o.targeting)i.push(o);else o.exposition=!1}const o=new Date;const t=o.getTime();for(let e=0,n=i.length;e<n;++e){const n=i[e];if(void 0!==n.forceExposition){n.exposition=n.forceExposition;if(!1===n.exposition)n.notExposedReason="SIMULATION"}else{n.exposition=!0;if(!0===n.exposition&&(!Kameleoon.Internals.runtime.simulationMode||null!=Kameleoon.Internals.runtime.simulationModeData&&null!=Kameleoon.Internals.runtime.simulationModeData.experiments)&&!Kameleoon.Internals.runtime.personalizationsActive){n.exposition=!1;n.notExposedReason="GLOBAL_EXCLUSION"}if(!0===n.exposition&&n.globalCappingNumberVisitors&&n.numberVisitorsExposed>=n.maxNumberVisitorsExposed){n.exposition=!1;n.notExposedReason="PERSONALIZATION_CAPPING"}if(!0===n.exposition&&!Kameleoon.Internals.runtime.simulationMode){n.exposition=n.checkCustomExpositionRate();if(!1===n.exposition)n.notExposedReason="PERSONALIZATION_EXCLUSION"}if(!0===n.exposition&&!this.checkCapping(!1,n.id,1,n,t)){n.exposition=!1;n.notExposedReason="VISITOR_CAPPING"}const i=n.personalizationsInteractionConditions;const a=function(e){const n=[];Kameleoon.Internals.runtime.Campaigns.obtainCampaignsList("personalizations").forEach((i=>{if(e!=i.id)n.push(i)}));return n};if(!0===n.exposition&&null!=i&&0<i.length)for(let e=0,o=i.length;e<o;++e){const o=i[e];if("SAME_PAGE"!=o.personalizationsInteractionVisitsConfiguration&&!Kameleoon.Internals.runtime.gathererRun)continue;let t;let s;let r;switch(o.personalizationsInteractionConfiguration){case"NO_OTHER_PERSO":t=a(n.id);s=0;r=0;break;case"AT_LEAST_ONE_OTHER_PERSO":t=a(n.id);s=1;r=t.length;break;case"NUMBER_OF_OTHER_PERSOS":t=a(n.id);switch(o.personalizationsInteractionNumberOtherPersosMatchType){case"GREATER":s=o.personalizationsInteractionNumberOtherPersos+1;r=t.length;break;case"LOWER":s=0;r=o.personalizationsInteractionNumberOtherPersos-1;break;case"GREATER_THAN_EQUAL":s=o.personalizationsInteractionNumberOtherPersos;r=t.length;break;case"LOWER_THAN_EQUAL":s=0;r=o.personalizationsInteractionNumberOtherPersos;break;case"EQUAL":default:s=o.personalizationsInteractionNumberOtherPersos;r=o.personalizationsInteractionNumberOtherPersos;break}break;case"ALL_OTHER_PERSOS":t=a(n.id);s=t.length;r=t.length;break;case"ID_PERSO":t=[];for(const e in Kameleoon.Internals.runtime.Campaigns.personalizations){const n=Kameleoon.Internals.runtime.Campaigns.personalizations[e];if(n.id==o.personalizationsInteractionIdPerso){t.push(n);break}}if(0==t.length)t.push({id:o.personalizationsInteractionIdPerso,previousExposition:!1});s=1;r=1;break;default:t=[];s=1;r=1;break}let l=0;for(let e=0,n=t.length;e<n;++e){const n=t[e];let i;switch(o.personalizationsInteractionVisitsConfiguration){case"SAME_PAGE":i=!0===n.previousExposition;break;case"CURRENT_VISIT":i=Kameleoon.Internals.runtime.Visitor.obtainActionNumberActivations(n.id,1,null,null,!0,!1,!1,!1)>0;break;case"PREVIOUS_VISIT":i=Kameleoon.Internals.runtime.Visitor.obtainActionNumberActivations(n.id,1,null,null,!1,!0,!1,!1)>0;break;case"ALL_VISITS":i=Kameleoon.Internals.runtime.Visitor.obtainActionNumberActivations(n.id,1,null,null,!0,!0,!1,!1)>0;break;default:i=!1;break}if(!o.personalizationsInteractionDisplayOthersPersos)i=!i;if(i)l++}const c=l>=s&&l<=r;if(c&&!o.personalizationsInteractionDisplayPerso||!c&&o.personalizationsInteractionDisplayPerso){n.exposition=!1;n.notExposedReason="SCENARIO";break}}}}let a={};Kameleoon.Internals.runtime.Campaigns.obtainCampaignsList("personalizations").forEach((function(e){if(e.exposition){const n=e.configuration;const i=a[n];const o=e.priority;if(null==i||o>i)a[n]=o}}));let s={};for(let n=0,i=e.length;n<i;++n){const i=e[n];if(!i.experimentAction&&!0===i.exposition){const e=i.configuration;const n=a[e];const o=i.priority;if(null==n||o>=n){if(null==s[e]||o>n)s[e]=[];s[e].push(i.id)}}}a=null;for(let e=0,n=i.length;e<n;++e){const n=i[e];if(!0===n.exposition&&!0!==n.forceExposition)if(s[n.configuration]&&-1==s[n.configuration].indexOf(n.id)){n.exposition=!1;n.notExposedReason="PRIORITY"}}s=null;const r=[];for(let n=0,i=e.length;n<i;++n){const i=e[n];if(!1===i.targeting||!i.experimentAction&&!0===i.targeting&&!1===i.exposition){this.associateActionAndVariation(i,0,"DISPLAYED_VARIATION");Kameleoon.Utils.removeCSSStyleSheet(i)}if(Kameleoon.Targeting.checkIfTargetingMustBeComputed(i.targeting,i.rescheduleTargeting,!i.experimentAction&&"CUMULATIVE_WEIGHT"==i.personalizationCheckConditionsRule))r.push(i)}if(r.length>0){const e=Kameleoon.Utils.setTimeout((()=>{Kameleoon.Utils.clearTimeout(e);this.process(r)}),Kameleoon.Internals.runtime.PAGE_LOADING_POLL_DELAY)}if(e.length>0&&Kameleoon.Internals.runtime.targetingsEvent)Kameleoon.Internals.runtime.targetingsEvent.emit(e)}performActionsTracking(e){const n=[];for(let i=0,o=e.length;i<o;++i){const o=e[i];if(o.trackingPerformed||!o.associatedVariation||null==o.associatedVariation.id)continue;n.push(o)}e=n;for(let n=0,i=e.length;n<i;++n){const i=e[n];let o=i.collectingDataDisabled?!1:!0;if(!i.experimentAction)if("PERSONALIZATION_CAPPING"==i.notExposedReason||"SCHEDULE"==i.notExposedReason||"SCENARIO"==i.notExposedReason||"PRIORITY"==i.notExposedReason||"VISITOR_CAPPING"==i.notExposedReason)o=!1;const t=i.associatedVariation;if(i.mentalistEnabled)t.name+=" (Predicteo)";if(i.experimentAction)Kameleoon.Gatherer.track(VisitEvent_Experiment,{id:i.id,variationId:t.id,notTrack:!(i.kameleoonTracking&&o)});else Kameleoon.Gatherer.track(VisitEvent_Personalization,{id:i.id,variationId:0==t.id?0:1,notTrack:!(i.kameleoonTracking&&o),originalVariationId:t.id,unexpositionCause:i.notExposedReason});if(o&&(i.experimentAction||i.exposition||!i.exposition&&"PERSONALIZATION_EXCLUSION"==i.notExposedReason)){if(i.googleAnalytics4Tracking)Kameleoon.Tracking.processGoogleAnalytics4(i);if(i.universalAnalyticsTracking)Kameleoon.Tracking.processUniversalAnalytics(i);if(i.contentSquareTracking)Kameleoon.Tracking.processContentSquare(i);}i.trackingPerformed=!0}}performDeferredVariations(e,n,i){}process(e,n){const i=(new Date).getTime();this.checkActionsTargeting(e);const o=[];for(let t=0,a=e.length;t<a;++t){const a=e[t];if(a.treated||a.blocked)continue;if(!0===a.targeting){Kameleoon.Internals.runtime.Visitor.currentVisit.addActionTriggered(a.id,a.experimentAction);Kameleoon.Utils.sendKameleoonCustomEvent.call(window,"SegmentTriggered",{segment:{id:a.targetingSegmentId,name:a.targetingSegment?a.targetingSegment.name:null}});if(a.experimentAction){const e=new APIAction(a,"experiments");Kameleoon.Utils.sendKameleoonCustomEvent.call(window,"ExperimentTriggered",{experiment:e},"experiment/triggered");a.performVariationAssignment(!1);if(null!=a.associatedVariation)if(!this.checkCapping(!0,a.id,a.associatedVariation.id,a.associatedVariation,i))a.targeting=!1}else{this.associateActionAndVariation(a,a.exposition?a.associatedVariation.id:0,"BOTH");Kameleoon.Utils.sendKameleoonCustomEvent.call(window,"PersonalizationTriggered",{personalization:new APIAction(a,"personalizations")},"personalization/triggered")}}if(!0===a.targeting){a.treated=!0;this.currentAction=a;if(a.displayedVariation){if(a.experimentAction)if(0!=a.displayedVariation.id&&"reference"!=a.displayedVariation.id||a.executeCodeForReference){if(a.cssCode&&!a.cssCodeEvaluated){a.cssCodeEvaluated=!0;Kameleoon.Utils.addCSSStyleSheet(a.cssCode,a,null)}if(a.javaScriptCode&&!a.javaScriptCodeEvaluated){a.javaScriptCodeEvaluated=!0;Kameleoon.Utils.runProtectedScript(a.javaScriptCode,"kameleoonActionJavaScriptCode-"+a.id+".js")}}if(!n&&a.displayedVariation.process)a.displayedVariation.process();if(a.targeting&&(a.experimentAction||a.exposition)){const e={};if(a.experimentAction)e.experiment=new APIAction(a,"experiments");else e.personalization=new APIAction(a,"personalizations");Kameleoon.Utils.sendKameleoonCustomEvent.call(window,a.experimentAction?"ExperimentActivated":"PersonalizationActivated",e,"action/activated")}o.push(a)}}}this.performActionsTracking(o)}processAllActions(){let e=[];e=e.concat(Kameleoon.Internals.runtime.Campaigns.obtainCampaignsList("experiments"));e=e.concat(Kameleoon.Internals.runtime.Campaigns.obtainCampaignsList("personalizations"));this.process(e);Kameleoon.Internals.runtime.Campaigns.obtainCampaignsList("experiments").forEach((e=>{e.handleSpecialCase()}))}}class Campaigns{constructor(){this.experiments={};this.personalizations={}}addCampaign(i){if(i.experimentAction)this.experiments[i.id.toString()]=i;else this.personalizations[i.id.toString()]=i}obtainCampaign(i,t){if(null!=i){if(t)return this[t+"s"][i.toString()];return this.experiments[i.toString()]||this.personalizations[i.toString()]}}obtainCampaignsList(i){return Object.values(this[i])}}class Consent{constructor(){this.disable=(e,n)=>{Kameleoon.Utils.sendKameleoonCustomEvent("Internals",{type:"consent/disable",consentType:e});if(e&&"BOTH"!=e)this[e]=!1;else{this.AB_TESTING=!1;this.PERSONALIZATION=!1}if(1!=n)this.write();Kameleoon.Utils.sendKameleoonCustomEvent.call(window,"LegalConsentUpdated",{legalConsentUpdate:this.getConsent()})};this.enable=(e,n)=>{Kameleoon.Utils.sendKameleoonCustomEvent("Internals",{type:"consent/enable",consentType:e});if(e&&"BOTH"!=e)this[e]=!0;else{this.AB_TESTING=!0;this.PERSONALIZATION=!0}if(Kameleoon.Internals.runtime&&Kameleoon.Internals.runtime.RequestManager){if(Kameleoon.Internals.configuration.requestsAfterConsent)Kameleoon.Internals.runtime.loadExternalRequests();Kameleoon.Internals.runtime.RequestManager.processRequests();this.purge()}if(1!=n)this.write();Kameleoon.Utils.sendKameleoonCustomEvent.call(window,"LegalConsentUpdated",{legalConsentUpdate:this.getConsent()})};this.getConfiguredConsent=()=>({AB_TESTING:Kameleoon.Internals.configuration.abtestConsent,PERSONALIZATION:Kameleoon.Internals.configuration.personalizationConsent});this.getConsent=()=>({AB_TESTING:this.AB_TESTING,PERSONALIZATION:this.PERSONALIZATION});this.hasGlobalConsent=()=>this.AB_TESTING||this.PERSONALIZATION||Kameleoon.Internals.runtime&&Kameleoon.Internals.runtime.kameleoonFull;this.initialize=e=>{Kameleoon.Utils.sendKameleoonCustomEvent("Internals",{type:"consent/initialize",consent:e});this.AB_TESTING=e.AB_TESTING;this.PERSONALIZATION=e.PERSONALIZATION;this.initializeIAB()};this.initializeIAB=()=>{};this.purge=()=>{if(Kameleoon.Internals.runtime){let e=e=>{if(null!=e)for(let n in e)Kameleoon.Utils.createLocalData(e[n].name,e[n].value,e[n].days,e[n].domain,e[n].forceLocalAccess,e[n].jsonFormat,null,!0)};e(Kameleoon.Internals.runtime.localDataMap&&Kameleoon.Internals.runtime.localDataMap["LS"]);e(Kameleoon.Internals.runtime.localDataMap&&Kameleoon.Internals.runtime.localDataMap["COOKIE"]);Kameleoon.Internals.runtime.localDataMap=null;Kameleoon.Analyst.Actions.processAllActions();}};this.setup=()=>{let e={AB_TESTING:!1,PERSONALIZATION:!1};let n=Kameleoon.Internals.runtime.readFromStorageOrExternal("kameleoonLegalConsent","LS");if(null!=n)if(1==n)e={AB_TESTING:!0,PERSONALIZATION:!0};else e=n;else{e={AB_TESTING:"OFF"==Kameleoon.Internals.configuration.abtestConsent?!0:null,PERSONALIZATION:"OFF"==Kameleoon.Internals.configuration.personalizationConsent?!0:null};if(!Kameleoon.Internals.configuration.abtestingSetup)e.AB_TESTING=null;if(!Kameleoon.Internals.configuration.personalizationSetup)e.PERSONALIZATION=null;}this.initialize(e)};this.write=()=>{Kameleoon.Utils.createLocalData("kameleoonLegalConsent",this.getConsent(),Utils.MAX_STORAGE_DAYS,null,"LS",!0,null,!0)};this.AB_TESTING=!1;this.PERSONALIZATION=!1}}class Device{constructor(){const e=Kameleoon.Utils.bowser.parse(navigator.userAgent);let t=e.browser.version;try{if(t.split(".").length>1)t=t.split(".")[0]+"."+t.split(".")[1]}catch(e){}this.browser=e.browser.name||"Other";this.browserVersion=t?parseFloat(t):null;this.type="tablet"==e.platform.type?"Tablet":"mobile"==e.platform.type?"Phone":"Desktop";if("Safari"==this.browser&&"Desktop"==this.type&&"ontouchend"in document.documentElement)this.type="Tablet"}get adBlocker(){return Kameleoon.Internals.runtime.adBlocker}get os(){return Kameleoon.Gatherer.OperatingSystem.obtain()}get screenHeight(){return window.screen.height}get screenWidth(){return window.screen.width}get timeZone(){return Kameleoon.Gatherer.TimeZone.obtainId()}get windowHeight(){return window.innerHeight}get windowWidth(){return window.innerWidth}}class Experiment{constructor(i,t){this.handleSpecialCase=()=>{if(!0!==this.targeting&&this.redirectProcessed){this.performVariationAssignment(!0);Kameleoon.Analyst.Actions.performActionsTracking([this])}else if(this.preAssignVariation)this.performVariationAssignment(!0)};this.obtainVariationAssignmentRandomNumber=()=>{let i=null;if(Kameleoon.Internals.runtime.gathererRun)for(let t in Kameleoon.Internals.runtime.Gatherer.configuration.customData)if(Kameleoon.Internals.runtime.Gatherer.configuration.customData[t].mappingIdentifier){const e=Kameleoon.Internals.runtime.Visitor.currentVisit.customData[t];if(null!=e)i=Object.keys(e)[0];break}let t="";this.variations.forEach((function(i){if(i.respoolTime)t+=i.respoolTime}));const e=i||Kameleoon.Internals.runtime.Visitor.currentVisit.visitorCode;return Kameleoon.Utils.seededRandom(e+this.id+t,!0)};this.performVariationAssignment=i=>{if(this.displayedVariation&&!i&&!this.deferredLoading)return;if(void 0!==this.registeredVariationId&&this.assignmentTime)this.variations.forEach((i=>{if(this.registeredVariationId==i.id&&i.respoolTime>this.assignmentTime||null===this.registeredVariationId&&this.untrackedRespoolTime>this.assignmentTime)this.registeredVariationId=void 0}));if(void 0===this.registeredVariationId&&!Kameleoon.Internals.runtime.simulationMode&&0==this.variations.filter((i=>i.id==this.registeredVariationId)).length)this.registeredVariationId=void 0;if(this.mentalistEnabled&&this.mentalistVariationReassignationPermission)this.registeredVariationId=void 0;if(void 0===this.registeredVariationId){if(this.mentalistEnabled){}else if(Kameleoon.Internals.runtime.customVariationSelectionFunction){this.registeredVariationId=Kameleoon.Internals.runtime.customVariationSelectionFunction(this);if(null!=this.registeredVariationId)if("reference"==this.registeredVariationId.toString())this.registeredVariationId=0;else if("none"==this.registeredVariationId.toString())this.registeredVariationId=null}else{let i=this.obtainVariationAssignmentRandomNumber();let t=0;this.registeredVariationId=null;for(let e=0,n=this.variations.length;e<n;++e){t+=this.variations[e].deviation;if(i<=t){this.registeredVariationId=this.variations[e].id;break}}}this.assignmentTime=(new Date).getTime();this.writeLocalData()}Kameleoon.Analyst.Actions.associateActionAndVariation(this,this.registeredVariationId,i?"REGISTERED_VARIATION":"BOTH")};this.setTargetingSegment=i=>{this.targetingSegment=Kameleoon.Internals.runtime.targetingSegments.filter((i=>i.id==this.targetingSegmentId))[0]||{};if(!i||i==this.targetingSegmentId){this.targeting=void 0;this.rescheduleTargeting=null;this.numberTargetingCheckings=0;this.displayedVariation=null}};this.trigger=()=>{if(!this.targeting){this.targeting=!0;this.displayedVariation=null}};this.writeLocalData=()=>{let i=this.registeredVariationId+(this.mentalistEnabled?"-mentalist":"")+"/"+this.assignmentTime+"/"+this.counterActive;if(!this.simulationMode)Kameleoon.Utils.createLocalData("kameleoonExperiment-"+this.id,i,this.cookieDuration?this.cookieDuration:30,this.cookieDomain,"LS",!1)};for(let t in i)this[t]=i[t];let e="kameleoonRedirect-"+this.id;let n=t?t[e]:Kameleoon.Utils.readLocalData(e,"LS",!1);n=n?n:Kameleoon.Internals.runtime.parameters[e];this.previousRequestRedirected=n?!0:!1;if(n){this.registeredVariationId=n;this.assignmentTime=(new Date).getTime()}if(this.previousRequestRedirected){this.redirectProcessed=!0;Kameleoon.Utils.eraseLocalData("kameleoonRedirect-"+this.id,null,null)}let a="kameleoonExperiment-"+this.id;let r=t?t[a]:Kameleoon.Utils.readLocalData(a,"LS",!1);for(let i in Kameleoon.Internals.runtime.parameters)if(0==i.indexOf("kameleoonRedirect-"+this.id)){r=Kameleoon.Internals.runtime.parameters[i]+"/"+(new Date).getTime()+"/"+!1;this.writeLocalData()}if(r&&-1!=this.id){let i=r.split("/");this.registeredVariationId="null"==i[0]?null:i[0];this.assignmentTime=parseInt(i[1]);this.counterActive="true"==i[2]&&(new Date).getTime()-this.assignmentTime<2592e6?!0:!1;if(this.registeredVariationId){if("reference"==this.registeredVariationId.toString()){this.registeredVariationId=0;this.writeLocalData()}if("none"==this.registeredVariationId.toString()){this.registeredVariationId=null;this.writeLocalData()}}}else this.counterActive=!1;if(this.registeredVariationId&&-1!=this.registeredVariationId.toString().indexOf("-mentalist")){this.registeredVariationId=parseInt(this.registeredVariationId.toString().replace("-mentalist",""));this.mentalistEnabled=!0}if(this.registeredVariationId>0&&r&&null==this.deviation[this.registeredVariationId])this.registeredVariationId=void 0;this.setTargetingSegment();if(this.redirectProcessed&&this.registeredVariationId)this.writeLocalData();let s=Kameleoon.Internals.runtime.storedData.obtainField("Runtime","blockedExperiments",[]);if(s.length>0&&-1!=s.indexOf(this.id))this.blocked=!0}}class Goals{constructor(){this.checkKameleoonGoals=()=>{const e=[];const n=[];const o=[];const s=[];Kameleoon.Internals.runtime.goals.forEach((t=>{switch(t.type){case"URL":{const n=new RegExp(t.url);if(n.test(Kameleoon.Utils.computeCurrentPageCleanAbsoluteURL()))e.push({goal:t});break}case"PAGE_VIEWS":if(Kameleoon.Internals.runtime.gathererRun){const n=Kameleoon.Internals.runtime.Visitor.currentVisit.obtainPageNumberViews();if((null==t.minPageViews||n>=t.minPageViews)&&(null==t.maxPageViews||n<=t.maxPageViews))e.push({goal:t})}break;case"ENGAGEMENT":n.push({goal:t});break;case"TIME_SPENT":o.push(t);break;case"SCROLL":s.push(t);break}}));if(e.length>0)this.processConversions(e);Kameleoon.Utils.addEventListener(document,Kameleoon.Internals.runtime.mouseDownEvent,(e=>{this.processConversions(n)}),!0);Kameleoon.Utils.addEventListener(document,"scroll",(e=>{if(document.body){const e=[];s.forEach((n=>{if(!n.sent){let o=null,s=null;switch(n.scrollTrackingType){case"PIXELS_HEIGHT":o=Math.ceil(document.documentElement.scrollTop||document.body.scrollTop)+window.innerHeight;s=n.scrollTrackingValue;break;case"PERCENTAGE":o=(Math.ceil(document.documentElement.scrollTop||document.body.scrollTop)+window.innerHeight)/document.body.scrollHeight*100;s=n.scrollTrackingValue;break;case"ELEMENT":o=window.innerHeight;const e=Kameleoon.Utils.querySelectorAll(n.selector);if(e.length>0)s=e[0].getBoundingClientRect().top+e[0].offsetHeight;break}if(null!==o&&null!==s&&s<=o){e.push({goal:n});n.sent=!0}}}));if(e.length>0)this.processConversions(e)}}),!0);};this.processConversions=e=>{if(Kameleoon.Internals.runtime.gathererRun)for(let n=0,o=e.length;n<o;++n){const o=e[n];const s=o.goal;const t=!0===o.negative;if(t||"PAGE_VIEWS"!=s.type&&"TIME_SPENT"!=s.type&&"ENGAGEMENT"!=s.type||0==Kameleoon.Internals.runtime.Visitor.currentVisit.obtainNumberConversions(s.id)){Kameleoon.Utils.sendKameleoonCustomEvent.call(window,"ConversionTriggered",new APIGoal(s),"goal/process");Kameleoon.Gatherer.track(VisitEvent_Conversions,{goalId:s.id,revenue:o.revenue?o.revenue:0,negative:t});}}}}}class KGeolocation{constructor(){let e=Kameleoon.Internals.runtime.storedData.obtainField("Runtime","geolocation");if(null==e)Kameleoon.Utils.performBeaconServerCall(Kameleoon.Internals.runtime.RequestManager.obtainGeolocationUrl(),(e=>{if(4==e.readyState&&(200==e.status||204==e.status)){let t=e.getResponseHeader("geoip_country_name")||e.getResponseHeader("geoip_city_country_name");let o=e.getResponseHeader("geoip_region_name");let n=e.getResponseHeader("geoip_city");this.country=t?Kameleoon.Utils.decodeUTF8(t):null;this.city=n?Kameleoon.Utils.decodeUTF8(n):null;this.latitude=e.getResponseHeader("geoip_latitude");this.longitude=e.getResponseHeader("geoip_longitude");this.postalCode=e.getResponseHeader("geoip_postal_code");this.region=o?Kameleoon.Utils.decodeUTF8(o):null;this.loaded=!0;Kameleoon.Gatherer.track(VisitEvent_Geolocation,this);Kameleoon.Internals.runtime.storedData.saveField("Runtime","geolocation",this);this.loadWeather()}}),null);else{this.loaded=!0;this.country=e.country;this.city=e.city;this.latitude=e.latitude;this.longitude=e.longitude;this.postalCode=e.postalCode;this.region=e.region;this.loadWeather()}}loadWeather(){}}class KMutationObserver{static addMutationElementsToInternalObjects(e){for(let t=0;t<e.length;++t){const n=e[t];if(n&&n.id)Kameleoon.Internals.runtime.addedIDs["#"+n.id]=!0;if(n&&n.className&&"string"===typeof n.className){const e=n.className.split(" ");for(let t=0;t<e.length;++t)Kameleoon.Internals.runtime.addedClasses["."+e[t]]=!0}}}static checkSelectorInDomTree(e){if(!e.selectors)KMutationObserver.fillClassesAndIdsForSelector(e);if(0===e.selectorClasses.length&&0===e.selectorIDs.length)return!0;let t=!1;for(let n=0;n<e.selectors.length;++n){if(t)break;if(KMutationObserver.checkIDsForSelector(e.selectorIDs[n],e)&&KMutationObserver.checkClassesForSelector(e.selectorClasses[n],e))t=!0}return t}static fillClassesAndIdsForSelector(e){const t=[];const n=[];const o=e.selector&&e.selector.split(",")||[];if(e.currentQuery&&e.selector!=e.currentQuery)o.push(e.currentQuery);o.forEach((e=>{if(-1!==e.indexOf(".")||-1!==e.indexOf("#")){let o;let r;if(-1!==e.indexOf("\\")||-1!==e.indexOf("contains")||-1!==e.indexOf(":not")){const t=e.replace(/(:[^:]+\(.+?\)|\\)/g,"").replace(/(\-)?(\[.*?\])/g,((e,t)=>t?e:""));o=t.match(/\.([^\s.]+)/g);r=t.match(/#([^\s:\[]+)/g)}else{o=e.match(/\.([^\s.:\[]+)/g);r=e.match(/#([^\s:\[>]+)/g)}n.push(o||[]);t.push(r||[])}}));e.selectors=o;e.selectorClasses=n;e.selectorIDs=t;return e}static checkClassesForSelector(e,t){if(null==e)return!0;for(let t=0,n=e.length;t<n;++t){const n=e[t];if(-1===n.indexOf("kameleoon")&&null==Kameleoon.Internals.runtime.addedClasses[n])return!1}return!0}static checkIDsForSelector(e,t){if(null==e)return!0;let n;if(t.options)n=t.options.domReference;for(let o=0,r=e.length;o<r;++o){const r=e[o];if(-1!==r.indexOf("kameleoonElement")){if(n){const e=KMutationObserver.fillClassesAndIdsForSelector({selector:n,checkDomReference:!0});if(!KMutationObserver.checkIDsForSelector(e.selectorIDs[0],e))return!1}if(t.checkDomReference)if(null==Kameleoon.Internals.runtime.addedIDs[r])return!1}else if(null==Kameleoon.Internals.runtime.addedIDs[r])return!1}return!0}static fillInternalObjectsForMutationObserver(e){if(!e)e=document;const t=e.getElementsByTagName("*");for(let e=0,n=t.length;e<n;++e){const n=t[e];if(n.id)Kameleoon.Internals.runtime.addedIDs["#"+n.id]=!0;if(n.className&&"string"===typeof n.className){const e=n.className.split(" ");for(let t=0;t<e.length;++t)Kameleoon.Internals.runtime.addedClasses["."+e[t]]=!0}}}static removeMutationElementsFromInternalObjects(e){for(let t=0;t<e.length;++t){const n=e[t];if(n&&n.id)if(1==Kameleoon.Internals.runtime.addedIDs["#"+n.id])delete Kameleoon.Internals.runtime.addedIDs["#"+n.id]}}static performWaitingElementPresentObject(){for(let e=Kameleoon.Internals.runtime.waitingElementPresentObjects.length-1;e>=0;e-=1){const t=Kameleoon.Internals.runtime.waitingElementPresentObjects[e];if(t&&t.useAntiFlicker)if(KMutationObserver.checkSelectorInDomTree(t)){const n=Kameleoon.Utils.querySelectorAll(t.selector);if(0<n.length){Kameleoon.Utils.runProtectedFunction((function(){t.callback(n)}),!0);Kameleoon.Internals.runtime.waitingElementPresentObjects.splice(e,1)}}}}static performVariationsElementSet(e){const t=Kameleoon.Internals.runtime.listenVariations||[];if(e)t.forEach((function(e){if(e.elementSets)e.elementSets.forEach((function(t){if(t.evaluated)return;if((!t.evaluated||!(t.options.autoGeneratedSelector||t.options.idSelector||t.options.domOperation))&&KMutationObserver.checkSelectorInDomTree(t)){const n=e.getAction();if(!n||n.targeting){t.evaluated=!0;Kameleoon.ElementSet.processElementSet(t,e,!1,e.permanentRefreshActive,e.editionMode,document)}}}))}));}static performAsyncMutations(){Kameleoon.Internals.runtime.domMutationThrottling=!0;if(!KMutationObserver.asyncMutationsTimeoutId)KMutationObserver.asyncMutationsTimeoutId=Kameleoon.Utils.setTimeout((()=>{if(KMutationObserver.mutationList.length>=KMutationObserver.MAX_MUTATIONS_LENGTH_FOR_ITERATION)KMutationObserver.fillInternalObjectsForMutationObserver();else KMutationObserver.mutationList.forEach((e=>{const t=e.addedNodes,n=e.removedNodes;const o=Array.prototype.slice.call(t);const r=Array.prototype.slice.call(n);const s=o.concat(r);KMutationObserver.removeMutationElementsFromInternalObjects(n);KMutationObserver.addMutationElementsToInternalObjects(t);for(let t=0;t<s.length;++t){const n=s[t];if(n&&n.innerHTML&&"childList"===e.type)KMutationObserver.fillInternalObjectsForMutationObserver(n)}}));KMutationObserver.mutationList=[];KMutationObserver.performWaitingElementPresentObject();KMutationObserver.performVariationsElementSet(!0);Kameleoon.Utils.clearTimeout(KMutationObserver.asyncMutationsTimeoutId);KMutationObserver.asyncMutationsTimeoutId=null}),250)}static setMutationObserver(){if(Kameleoon.Internals.runtime.cantUseMutationObserver)return;KMutationObserver.fillInternalObjectsForMutationObserver();const e=document.documentElement;const t={attributes:!0,childList:!0,characterData:!0,subtree:!0};if(!Kameleoon.Internals.runtime.mutationObserver)Kameleoon.Internals.runtime.mutationObserver=new MutationObserver((function(e){let t=!0;if(!Kameleoon.Internals.runtime.domReady&&e.length>=KMutationObserver.MAX_MUTATIONS_LENGTH){KMutationObserver.mutationList=KMutationObserver.mutationList.concat(e);KMutationObserver.performAsyncMutations();return}e.forEach((e=>{const n=e.addedNodes,o=e.removedNodes;const r=Array.prototype.slice.call(n);const s=Array.prototype.slice.call(o);const a=r.concat(s);KMutationObserver.removeMutationElementsFromInternalObjects(o);KMutationObserver.addMutationElementsToInternalObjects(n);for(let n=0;n<a.length;++n){const o=a[n];if((Kameleoon.Internals.runtime.editorMode||Kameleoon.Internals.runtime.kameleoonSelectionIframeMode)&&o&&o.id&&"string"==typeof o.id&&null!==o.id.match("kameleoon"))if(o.closest&&null!==o.closest(".KameleoonProtected"))t=!1;if(t&&o&&o.innerHTML&&"childList"===e.type)KMutationObserver.fillInternalObjectsForMutationObserver(o)}}));KMutationObserver.performWaitingElementPresentObject();KMutationObserver.performVariationsElementSet(t)}));if("function"===typeof Kameleoon.Internals.runtime.mutationObserver.observe)Kameleoon.Internals.runtime.mutationObserver.observe(e,t);if(Kameleoon.Internals.runtime.singlePageSupport)KMutationObserver.setMutationObserverSPA()}static setMutationObserverSPA(){if(Kameleoon.Internals.runtime.mutationObserverSpa)return;Kameleoon.API.Core.runWhenElementPresent("body",(e=>{Kameleoon.Internals.runtime.mutationObserverSpa=new MutationObserver((function(){Kameleoon.Internals.runtime.listenVariations=[];Kameleoon.Internals.runtime.mutationObserverSpa.disconnect();if(Kameleoon.ElementSet)KMutationObserver.checkElementSetIntegrity();KMutationObserver.checkDynamicElements();t()}));const t=()=>{Kameleoon.Internals.runtime.mutationObserverSpa.observe(e[0],{childList:!0,characterData:Kameleoon.ElementSet&&Kameleoon.ElementSet.pageElementSetsSpa.length>0,subtree:!0})};t()}))}}KMutationObserver.MAX_MUTATIONS_LENGTH=3e3;KMutationObserver.MAX_MUTATIONS_LENGTH_FOR_ITERATION=5e3;KMutationObserver.asyncMutationsTimeoutId=null;KMutationObserver.mutationList=[];KMutationObserver.checkDynamicElements=()=>{Kameleoon.Internals.runtime.waitingDynamicElements.forEach((e=>{const t=Kameleoon.Utils.querySelectorAll(e.selector).filter((t=>null==t.getAttribute(e.attribute)));t.length>0&&e.callback(t)}))};KMutationObserver.checkElementSetIntegrity=()=>{if(Kameleoon.Internals.runtime.editorEnabled)return;try{const e=[];(Kameleoon.ElementSet.pageElementSetsSpa||[]).forEach((t=>{const{elementSet:n,potentialElementsWithOptions:o}=t;const r=Kameleoon.Utils.querySelectorAll(n.selector);if(!r.length&&o&&!o.length)KMutationObserver.resetElementSet(n,null);r.forEach((t=>{if(n.options.domOperation){}else{if(n.options.autoGeneratedSelector&&n.options.kameleoonId){if(null==t.getAttribute("data-kameleoon-id"))t.setAttribute("data-kameleoon-id",n.options.kameleoonId);if(null==t.getAttribute("id"))t.setAttribute("id","kameleoonId"+n.options.kameleoonId)}if(n.options.customSelector&&n.options.kameleoonClass){if(null==t.getAttribute("data-kameleoon-class"))Kameleoon.ElementSet.addDuplicatedData(t,null,n.options.kameleoonClass);if(0==Kameleoon.ElementSet.checkClassName(t,"KameleoonClass"+n.options.kameleoonClass))Kameleoon.ElementSet.addClassName(t,"KameleoonClass"+n.options.kameleoonClass)}}}))}));}catch(e){}};KMutationObserver.resetElementSet=(e,t,n)=>{const o=t?[t]:[];if(n)o.push(n);o.forEach((e=>{if(e.id&&0==e.id.indexOf("kameleoon"))e.removeAttribute("id");e.removeAttribute("kameleoon");e.removeAttribute("data-kameleoon-id");delete e.kameleoonData;delete e.dataset.kameleoonEvaluated}));if(e.element&&!o.length)delete e.element;e.evaluated=!1;Kameleoon.ElementSet.processElementSet(e,null,!1,!1,!1);e.evaluated=!0;};KMutationObserver.containsDomOperationElements=e=>{const t=e&&e.querySelector("span.kameleoonDomOperation");return t&&t.parentElement==e;};class Logger{constructor(){this.MAX_REQUESTS_PER_VISIT=3;this.baseUrl="https://logger.kameleoon.com/api/2/store/?sentry_key=d8dc96c209184885ab9643cbaf1eb86f&sentry_version=7";this.canSend=()=>{if(Kameleoon.Internals.runtime&&Kameleoon.Internals.runtime.Consent.hasGlobalConsent())if(this.errorLoggerIds.length<this.MAX_REQUESTS_PER_VISIT){let e=Kameleoon.Internals.runtime.storedData.obtainField("Runtime","loggerPopulation");if(null==e){this.population=e=Math.random();Kameleoon.Internals.runtime.storedData.saveField("Runtime","loggerPopulation",e)}if(e<.01)return!0}return!1};this.generateRandomIdAsString=(e,t,n)=>Kameleoon.Utils.computeStringSha256(e+t+n).substr(0,32);this.generateRequestDataAsString=(e,t,n,r)=>{let o={tags:{siteCode:Kameleoon.Internals.configuration.siteCode},user:{},environment:Kameleoon.Internals.configuration.environment,platform:"javascript",event_id:t,request:{url:location.href,headers:{"User-Agent":navigator.userAgent}},exception:{values:[{type:e.name,value:e.stack?e.stack:e.message,stacktrace:{frames:[{filename:n}]},mechanism:{data:{mode:"stack",message:e.stack?e.stack:e.message,name:e.name},handled:!1,type:"onerror"}}]}};if(r){o.tags["action-id"]=r.id;o.tags["action-name"]=r.name;o.tags["action-type"]=r.experimentAction?"experiment":"personalization"}try{o.user={id:Kameleoon.Internals.runtime&&Kameleoon.Internals.runtime.Visitor&&Kameleoon.Internals.runtime.Visitor.currentVisit.visitorCode}}catch(e){o.user={id:"no_visitor_code"}}return JSON.stringify(o)};this.send=(e,t,n)=>{if("DEVELOPMENT"==Kameleoon.Internals.configuration.environment)console.error(e);try{this.errorLoggerIds=Kameleoon.Internals.runtime&&Kameleoon.Internals.runtime.storedData.obtainField("Runtime","loggerRequestsSend")||this.errorLoggerIds;let r=this.generateRandomIdAsString(e.message,Kameleoon.Internals.configuration.siteCode,Kameleoon.Internals.configuration.environment);if(-1==this.errorLoggerIds.indexOf(r)){this.errors.push(e);let o=e.stack?e.stack:e.message;if(this.canSend()&&o&&o.trim().length>0){let o=new XMLHttpRequest;o.open("POST",this.baseUrl,!0);o.timeout=2e3;o.send(this.generateRequestDataAsString(e,r,t,n));Kameleoon.Internals.runtime&&Kameleoon.Internals.runtime.storedData.saveField("Runtime","loggerRequestsSend",this.errorLoggerIds)}this.errorLoggerIds.push(r);if(Kameleoon.Internals.runtime.parameters.kameleoonDebug||localStorage.kameleoonExtensionIsAdmin)console.log(e)}}catch(t){this.errors.push(e)}};this.errorLoggerIds=[];this.errors=[]}}class OnlineMeanAndDeviation{constructor(e){this.dimension=e;this.mean=[];this.nbUpdates=[];this.m2=[];this.deviation=[];for(let t=0;t<e;++t){this.mean[t]=0;this.nbUpdates[t]=0;this.m2[t]=0;this.deviation[t]=0}this.update=(e,t=1)=>{if(t>0)for(let n=0;n<this.dimension;++n)if(!isNaN(e[n])&&isFinite(e[n])){let i=this.mean[n]-e[n];let a=this.nbUpdates[n]+t;this.m2[n]=this.m2[n]+i/a*i*this.nbUpdates[n]*t;this.deviation[n]=Math.sqrt(this.m2[n]/a);this.mean[n]=this.mean[n]/a*this.nbUpdates[n]+e[n]/a*t;this.nbUpdates[n]=a}}}}OnlineMeanAndDeviation.createFromDifferences=(e,t,n,i)=>{let a=new OnlineMeanAndDeviation(1);let s=e.length;let l=0;if(l<s){let h=e[l];l++;while(l<s){let s=e[l];l++;let o=s-h;if(o<0&&t||0==o&&n||o>0&&i)a.update([o]);h=s}}return a};OnlineMeanAndDeviation.createFromValues=e=>{let t=new OnlineMeanAndDeviation(1);for(let n=0,i=e.length;n<i;n++)t.update([e[n]]);return t};OnlineMeanAndDeviation.createFromBooleanValues=e=>{let t=new OnlineMeanAndDeviation(1);for(let n=0,i=e.length;n<i;n++)t.update([e[n]?1:0]);return t};class Personalization{constructor(t,e){this.checkCustomExpositionRate=()=>{let t=!0;switch(this.customExpositionRate){case 1:break;case 0:t=!1;break;default:const e="kameleoonPersonalization-"+this.id;const i=Kameleoon.Internals.runtime.incomingStoredData&&Kameleoon.Internals.runtime.incomingStoredData[e]||Kameleoon.Utils.readLocalData(e,"LS",!1);if(null!=i){const e=i.split("/");t="true"==e[0]}else{t=Kameleoon.Utils.seededRandom(this.id+Kameleoon.Internals.runtime.Visitor.currentVisit.visitorCode,!0)<this.customExpositionRate;Kameleoon.Utils.createLocalData(e,t+"/"+(new Date).getTime(),-1==this.id?1/24:30,null,"LS",!1)}break}return t};this.setTargetingSegment=t=>{this.targetingSegment=Kameleoon.Internals.runtime.targetingSegments.filter((t=>t.id==this.targetingSegmentId))[0]||{};if(!t||t==this.targetingSegmentId){this.targeting=void 0;this.rescheduleTargeting=null;this.numberTargetingCheckings=0;this.displayedVariation=null}};this.trigger=()=>{if(!this.targeting){this.blocked=!1;this.targeting=!0;this.displayedVariation=null}};for(const e in t)this[e]=t[e];if(Kameleoon.Internals.runtime.simulationMode){const t="kameleoonPersonalizationStatus-"+this.id;const i=e?e[t]:Kameleoon.Utils.readLocalData(t,"LS",!0);if(i){this.forceTargeting=Kameleoon.Utils.runProtectedScript("return "+i["targetingStringAndExpositionString"][0]);this.forceExposition=Kameleoon.Utils.runProtectedScript("return "+i["targetingStringAndExpositionString"][1])}}if(t.autopromo&&Kameleoon.Internals.configuration.forceAutopromoTargetingToFalse)this.blocked=!0;const i=Kameleoon.Internals.runtime.storedData.obtainField("Runtime","blockedPersonalizations",[]);if(i.length>0&&-1!=i.indexOf(this.id))this.blocked=!0;Kameleoon.Analyst.Actions.associateActionAndVariation(this,0,"DISPLAYED_VARIATION");this.setTargetingSegment()}static executeEmailingScript(){}static setGlobalPersonalizationDeviation(){const t="kameleoonGlobalPersonalizationExposition";const e=Kameleoon.Internals.configuration.personalizationsDeviation;let i=Kameleoon.Internals.runtime.readFromStorageOrExternal(t,"LS");const n=i&&i.split("/");let o;if(null!=i&&n[2]!=e)i=null;if(i)o="true"==n[0]?!0:!1;else{o=1==e||Kameleoon.Utils.seededRandom(Kameleoon.Internals.runtime.Visitor.currentVisit.visitorCode,!0)<e;i=o+"/"+(new Date).getTime()+"/"+e;Kameleoon.Utils.createLocalData(t,i,Utils.MAX_STORAGE_DAYS,null,"LS",!1)}Kameleoon.Internals.runtime.personalizationsActive=o}}class RequestManager{constructor(){this.processRequests=()=>{if(this.callbacksToExecute.length>0&&Kameleoon.Internals.runtime.Consent.hasGlobalConsent()){const e=this.callbacksToExecute.splice(0,1e3);e.forEach((e=>e()))}if(this.eventsToSend.length>0)if(this.validateTrackingRequest())if((!Kameleoon.Internals.runtime.simulationMode||Kameleoon.Internals.runtime.enableRemoteVisitorSynchronization)&&!Kameleoon.Internals.runtime.proxyMode&&!Kameleoon.Internals.runtime.kameleoonSelectionIframeMode){const e=this.eventsToSend.splice(0,1e3);const t=this.obtainRequestBody(e);this.send(this.obtainVisitUrl(),"POST",t,(()=>{}),(()=>{this.createErrorEventsQueue(t)}));if(this.eventsToSend.length>0)this.processRequests()}};this.obtainRequestBody=e=>{let t="";t+=e.reduce(((e,t)=>{if(!t.notTrack)e+=t.obtainRequestData()+"\n";return e}),"");if(sessionStorage.getItem("kameleoonRequestEvents")){t+=sessionStorage.getItem("kameleoonRequestEvents");sessionStorage.removeItem("kameleoonRequestEvents")}return t};this.obtainVisitUrl=()=>{const e=Kameleoon.Internals.runtime.Visitor.currentVisit.visitorCode;return`${this.url}/visit/events?siteCode=${this.siteCode}&visitorCode=${e}&itp=${"Safari"===Kameleoon.Internals.runtime.Device.browser}`};this.obtainIpUrl=()=>this.url+"/ip";this.obtainGeolocationUrl=()=>this.url+"/geolocation";this.send=(e,t,s,n,o,i)=>{const r=new XMLHttpRequest;r.open(t,e,!0);if(n)r.onreadystatechange=function(e){n.bind(r)(e.target)};if(o){r.onabort=function(e){o.bind(r)(e.target)};r.onerror=function(e){o.bind(r)(e.target)};r.ontimeout=function(e){o.bind(r)(e.target)}}r.timeout=i||15*60*1e3;r.send("POST"==t&&s?s:null);};this.sendActiveScript=()=>{this.send(`${this.url}/active-script/event?siteCode=${this.siteCode}`,"POST")};this.sendProduct=(e,t)=>{this.send(`${this.url}/product/events?siteCode=${this.siteCode}&ean=${encodeURIComponent(e.toString())}`,"POST",t)};this.eventsToSend=[];this.callbacksToExecute=[];this.url=Kameleoon.Internals.runtime.DATA_URL;this.siteCode=Kameleoon.Internals.configuration.siteCode;Kameleoon.Utils.setInterval(this.processRequests.bind(this),500);Kameleoon.Utils.addEventListener(window,Kameleoon.Internals.runtime.beforeUnloadEvent,"Safari"===Kameleoon.Internals.runtime.Device.browser?()=>this.eventsToSend.length&&this.createErrorEventsQueue(this.obtainRequestBody(this.eventsToSend)):this.processRequests.bind(this))}addCallback(e){if(Kameleoon.Internals.runtime.Consent.hasGlobalConsent())e();else this.callbacksToExecute.push(e)}addRequest(e){this.eventsToSend.push(e);if("page"===e.eventType)this.processRequests()}createErrorEventsQueue(e){if(e)sessionStorage.setItem("kameleoonRequestEvents",(sessionStorage.getItem("kameleoonRequestEvents")||"")+e)}validateTrackingRequest(){const e=Kameleoon.Internals.runtime.ipIsTrackerAccepted;const t=Kameleoon.Internals.configuration.trackerExcludedIPRanges.length>0;if(t&&!e||!Kameleoon.Internals.runtime.Consent.hasGlobalConsent())return!1;else return!0}}class Segment{}class Targeting{constructor(){this.segments={};this.obtainSegment=e=>e&&this.segments[e];this.checkTargetingCondition=(e,t,i)=>{let n;if(null==t.numberTargetingCheckings)t.numberTargetingCheckings=0;if(!this.checkIfTargetingMustBeComputed(t.targeting,t.rescheduleTargeting||0==t.numberTargetingCheckings,void 0))n={targeting:t.targeting,rescheduleTargeting:!1};else{let r=Kameleoon.Targeting["evaluate_"+t.type];let a;if(null!=r)a=r.bind(this)(t,e,i);else a=null;if(null==a)a={targeting:void 0,rescheduleTargeting:!1};let g=a.targeting;if(!0!==t.include)if(void 0===g){if(!0===a.excludedUndefinedIsTargeted)g=!0}else g=!g;n={targeting:g,rescheduleTargeting:this.checkIfTargetingMustBeComputed(g,a.rescheduleTargeting,void 0)};t.targeting=n.targeting;t.rescheduleTargeting=n.rescheduleTargeting;t.numberTargetingCheckings++}if(!0===n.targeting)n.weight=t.weight;else n.weight=0;return n};this.checkTargetingSegmentsTargeting=e=>{let t=[];for(let i=0,n=e.length;i<n;++i){let n=e[i];if(null==n.numberTargetingCheckings)n.numberTargetingCheckings=0;if(this.checkIfTargetingMustBeComputed(n.targeting,n.rescheduleTargeting||0==n.numberTargetingCheckings,!1))t.push(n)}e=t;for(let t=0,i=e.length;t<i;++t){let i=e[t];let n=this.checkTree(null,i?i.tree:null,!1,i);i.targeting=n.targeting;i.rescheduleTargeting=n.rescheduleTargeting;i.numberTargetingCheckings++}let i=[];for(let t=0,n=e.length;t<n;++t){let n=e[t];if(this.checkIfTargetingMustBeComputed(n.targeting,n.rescheduleTargeting,!1))i.push(n)}if(i.length>0){let e=Kameleoon.Utils.setTimeout((()=>{Kameleoon.Utils.clearTimeout(e);this.processTargetingSegments(i)}),Kameleoon.Internals.runtime.domReady?Kameleoon.Internals.runtime.PAGE_LOADED_POLL_DELAY:Kameleoon.Internals.runtime.PAGE_LOADING_POLL_DELAY)}};this.checkTree=(e,t,i,n)=>{let r;if(null==t){r={targeting:!0,rescheduleTargeting:!1};if(i)r.weight=0}else{if(null==t.numberTargetingCheckings)t.numberTargetingCheckings=0;if(!this.checkIfTargetingMustBeComputed(t.targeting,t.rescheduleTargeting||0==t.numberTargetingCheckings,i)){r={targeting:t.targeting,rescheduleTargeting:!1};if(i)r.weight=t.weight}else{if(null!=t.targetingCondition)r=this.checkTargetingCondition(e,t.targetingCondition,n);else{let a=this.checkTree(e,t.leftChild,i,n);let g=Kameleoon.Internals.runtime.simulationMode||i;if(!g)switch(a.targeting){case!0:if(!t.orOperator)g=!0;break;case!1:if(t.orOperator)g=!0;break;case void 0:default:g=!0;break}let l=null;if(g)l=this.checkTree(e,t.rightChild,i,n);let s;switch(a.targeting){case!0:if(t.orOperator)s=!0;else switch(l.targeting){case!0:s=!0;break;case!1:s=!1;break;case void 0:default:s=void 0;break}break;case!1:if(t.orOperator)switch(l.targeting){case!0:s=!0;break;case!1:s=!1;break;case void 0:default:s=void 0;break}else s=!1;break;case void 0:default:if(t.orOperator)switch(l.targeting){case!0:s=!0;break;case!1:s=void 0;break;case void 0:default:s=void 0;break}else switch(l.targeting){case!0:s=void 0;break;case!1:s=!1;break;case void 0:default:s=void 0;break}break}r={targeting:s,rescheduleTargeting:this.checkIfTargetingMustBeComputed(s,a.rescheduleTargeting||g&&l.rescheduleTargeting,i)};if(i){let e;if(t.orOperator)e=Math.max(a.weight,l.weight);else e=a.weight+l.weight;r.weight=e}}t.targeting=r.targeting;t.rescheduleTargeting=r.rescheduleTargeting;if(i)t.weight=r.weight}t.numberTargetingCheckings++}return r};this.computeDisplayableTree=e=>{let t=new Array;let i=new Array;this.computeDisplayableTreeFirstLevelAddIn(e,t,i);if(i.length>0){let e=new Array;let n=new Array;let r=this.createIterator(t);let a=this.createIterator(i);while(a.hasNext()){let t=a.next();if(Kameleoon.Utils.testEmptyMap(t.conditions)){if(a.hasNext())r.next()}else{n.push(t);if(a.hasNext())e.push(r.next())}}t=n.length>0?e.slice(0,n.length-1):e;i=n}return{firstLevelOrOperators:t,secondLevel:i}};this.computeDisplayableTreeFirstLevelAddIn=(e,t,i)=>{if(null!=e)if(null==e.targetingCondition)if(0==e.orGuiLevel){this.computeDisplayableTreeFirstLevelAddIn(e.leftChild,t,i);t.push(e.orOperator);this.computeDisplayableTreeFirstLevelAddIn(e.rightChild,t,i)}else i.push(this.computeDisplayableTreeSecondLevel(e));else i.push(this.computeDisplayableTreeSecondLevel(e))};this.computeDisplayableTreeSecondLevel=e=>{let t=new Array;let i=new Array;this.computeDisplayableTreeSecondLevelAddIn(e,t,i);if(i.length>0){let e=new Array;let n=new Array;let r=this.createIterator(t);let a=this.createIterator(i);while(a.hasNext()){let t=a.next();if(t.disabled){if(a.hasNext())r.next()}else{n.push(t);if(a.hasNext())e.push(r.next())}}t=n.length>0?e.slice(0,n.length-1):e;i=n}return{orOperators:t,conditions:i}};this.computeDisplayableTreeSecondLevelAddIn=(e,t,i)=>{if(null!=e)if(null==e.targetingCondition){this.computeDisplayableTreeSecondLevelAddIn(e.leftChild,t,i);t.push(e.orOperator);this.computeDisplayableTreeSecondLevelAddIn(e.rightChild,t,i)}else i.push(e.targetingCondition)};this.flattenTree=e=>{let t=(e,i)=>{if(null!=e)if(null!=e.targetingCondition)return!1===e.targetingCondition.targeting?["!",e.targetingCondition]:e.targetingCondition;else{let n=e.orOperator?"OR":"AND";let r=[t(e.leftChild,n),n,t(e.rightChild,n)];return"AND"==i&&"OR"==n?["(",r,")"]:r}};return Kameleoon.Utils.flatten(t(e,"OR"))};this.processAllTargetingSegments=()=>{const e=Kameleoon.Internals.runtime.targetingSegments||[];e.forEach((e=>{this.segments[e.id]=e}));this.processTargetingSegments(e)};this.processTargetingSegments=e=>{this.checkTargetingSegmentsTargeting(e);let t=[];for(let i=0,n=e.length;i<n;++i){let n=e[i];if(!0===n.targeting)t.push(n)}this.performSegmentsTracking(t)}}checkIfTargetingMustBeComputed(e,t,i){let n=!0===t&&(void 0===e||!1===e&&!0===i);return n}createIterator(e){let t=0;return{hasNext:function(){return t<e.length},next:function(){return e[t++]}}}performSegmentsTracking(e){for(let t=0,i=e.length;t<i;++t){let i=e[t];Kameleoon.Utils.sendKameleoonCustomEvent.call(window,"SegmentTriggered",{segment:{id:i.id,name:i.name}});if(Kameleoon.Internals.configuration.useAudience||i.opportunityDetection||Kameleoon.Internals.runtime.mentalistRun&&(i.trackMentalistPrediction||i.mentalist))Kameleoon.Gatherer.track(VisitEvent_TargetingSegments,{id:i.id});}}}Targeting.prototype.evaluate_ACTIVE_SESSION=function(e){if(Kameleoon.Internals.runtime.gathererRun){let t=(new Date).getTime()-Kameleoon.Internals.runtime.Visitor.currentVisit.startDate;let r;switch(e.operator){case"EQUAL":r=t==e.time;break;case"LOWER":r=t<e.time;break;case"GREATER":r=t>e.time?!0:void 0;break;case"LOWER_OR_EQUAL":r=t<=e.time;break;case"GREATER_OR_EQUAL":r=t>=e.time?!0:void 0;break}return{targeting:r,rescheduleTargeting:void 0===r}}return null};Targeting.prototype.evaluate_PAGE_VIEWS=function(e){if(Kameleoon.Internals.runtime.gathererRun){let r;let t=Kameleoon.Internals.runtime.Visitor.currentVisit.obtainPageNumberViews();switch(e.operator){case"GREATER":r=t>e.value;break;case"LOWER":r=t<e.value;break;case"EQUAL":r=t==e.value;break}return{targeting:r,rescheduleTargeting:!1}}return null};Targeting.prototype.evaluate_ORIGIN_TYPE=function(e){let n=(e,n)=>{if(null!=n&&new RegExp(".*\\butm_medium=(email|newsletter)(\\b.*)?$").test(n))return"EMAIL";if(null!=n&&new RegExp(".*\\b(utm_medium=cpc|gclid)(\\b.*)?$").test(n))return"SEM";if(null==e||0==e.length)return"DIRECT";if(null!=e&&new RegExp("^https?://[^/]*(google|bing|yahoo|yandex|baidu)\\..*").test(e))return"SEO";if(null!=n&&null!=e)return"AFFILIATION";return null};if(Kameleoon.Internals.runtime.gathererRun){let t=n(Kameleoon.Internals.runtime.storedData.obtainField("Runtime","firstReferrerHref"),Kameleoon.Internals.runtime.Visitor.currentVisit.landingPageURL);return{targeting:null!=t&&e.value==t,rescheduleTargeting:!1}}return null};Targeting.prototype.evaluate_MOUSE_OUT=function(e){let n;if(Kameleoon.Internals.runtime.mouseOutEvent)n=!0;else if(!Kameleoon.Internals.runtime.mouseOutListener&&document.body){Kameleoon.Internals.runtime.mouseOutListener=!0;let e=Kameleoon.Internals.runtime.Visitor.currentVisit.Device.browser;if("Internet Explorer"==e)Kameleoon.Utils.addEventListener(document.body,"mouseout",(function(e){if(!e.relatedTarget)if(Math.abs(e.clientY-window.innerHeight)>e.clientY)Kameleoon.Internals.runtime.mouseOutEvent=!0}));else Kameleoon.Utils.addEventListener(document.body,"mouseleave",(function(e){if(e.clientY<0)Kameleoon.Internals.runtime.mouseOutEvent=!0}))}return{targeting:n,rescheduleTargeting:void 0===n}};Targeting.prototype.evaluate_NEW_VISITORS=function(e){if(Kameleoon.Internals.runtime.gathererRun){let t=1==Kameleoon.Internals.runtime.Visitor.visits.length;return{targeting:"NEW"==e.value?t:!t,rescheduleTargeting:!1}}return null};Targeting.prototype.evaluate_BROWSER=function(e){let r;let a=Kameleoon.Internals.runtime.Visitor.currentVisit.Device;let t=a.browserVersion;let s=Kameleoon.Utils.bowser.parse(navigator.userAgent).browser.name;switch(e.value){case"IE":case"EDGE":r="Internet Explorer"===s||"Microsoft Edge"===s;break;case"CHROME":r="Chrome"===s;break;case"FIREFOX":r="Firefox"===s;break;case"SAFARI":r="Safari"===s;break;case"OPERA":r="Opera"===s;break;default:r=!1;break}if(r&&null!=e.version)switch(e.operator){case"EQUAL":r=t==e.version;break;case"LOWER":r=t<e.version;break;case"GREATER":r=t>e.version;break}return{targeting:r,rescheduleTargeting:!1}};Targeting.prototype.evaluate_PAGE_URL=function(e){let t=new RegExp(Kameleoon.Utils.computeURLRegExpNoKameleoonParameters(e.value));let a;try{a=t.test(decodeURI(Kameleoon.Utils.computeCurrentPageCleanAbsoluteURL()))}catch(e){try{a=unescape?t.test(unescape(Kameleoon.Utils.computeCurrentPageCleanAbsoluteURL())):!1}catch(e){a=!1}}return{targeting:a,rescheduleTargeting:!1}};Targeting.prototype.evaluate_DOM_ELEMENT=function(e){let l;if(null!=e.value)l=Kameleoon.Utils.querySelectorAll(e.value).length>0?!0:void 0;else if(null!=e.elementSets);else l=!1;if(void 0===l&&Kameleoon.Internals.runtime.domReady)l=!1;return{targeting:l,rescheduleTargeting:void 0===l}};Targeting.prototype.evaluate_HEAT_SLICE=function(e){let t;if(Kameleoon.Mentalist){let o=Kameleoon.Internals.runtime.storedData.obtainField("Gatherer","savedScoresFromMoments");if(!Kameleoon.Internals.runtime.simulationMode){if(o&&o[e.keymoment]){let n=Kameleoon.Internals.configuration.targetingSegmentIdToGoalIdsToKcs[e.keymoment][e.goal];let a=o[e.keymoment][e.goal];if(a&&a>=n[e.start]&&a<n[e.end])t=!0;else t=!1}}else{if(!Kameleoon.Internals.runtime.targetingSegmentIdToGoalIdsToKcs)Kameleoon.Internals.runtime.targetingSegmentIdToGoalIdsToKcs={};let n=Kameleoon.Internals.runtime.targetingSegmentIdToGoalIdsToKcs;if(!n[e.keymoment]||!n[e.keymoment][e.goal]){if(!n[e.keymoment])n[e.keymoment]={};if(!n[e.keymoment][e.goal])n[e.keymoment][e.goal]={};let t=`${Kameleoon.Internals.runtime.DATA_URL}/predict/latestPredictionScoreHistograms`;let o={};o.siteCode=Kameleoon.Internals.configuration.siteCode;o.goalId=e.goal;o.targetingSegmentId=e.keymoment;Kameleoon.Utils.performBeaconServerCall(Kameleoon.Utils.addParameterToURL(t,Kameleoon.Utils.parseObjectToUrlParams(o),!1),(function(t){if(4==t.readyState&&200==t.status){let o=JSON.parse(t.responseText);n[e.keymoment][e.goal]=[0].concat(o.scoreBoundaries).concat([1])}}))}else{let a=n[e.keymoment][e.goal];if(Object.keys(a).length>0&&o[e.keymoment]){let n=o[e.keymoment][e.goal];if(n&&n>=a[e.start]&&n<a[e.end])t=!0;else t=!1}}}}else t=!1;return{targeting:t,rescheduleTargeting:void 0===t}};Targeting.prototype.evaluate_JS_CODE=function(targetingCondition,container,segment){let targeting;try{if(!targetingCondition.valueGeneratedCode)if(targetingCondition.async){targetingCondition.valueGeneratedCode="(function(setTargeting) {\n"+targetingCondition.value+"\n})(asyncCallback);";Kameleoon.Utils.runProtectedScript(targetingCondition.valueGeneratedCode,"",(()=>{var asyncCallback=e=>{targetingCondition.targeting=e};eval(targetingCondition.valueGeneratedCode)}))}else targetingCondition.valueGeneratedCode="(function() {\n"+targetingCondition.value+"\n})();";if(targetingCondition.async)targeting=targetingCondition.targeting||void 0;else if(!targetingCondition.domReady||Kameleoon.Internals.runtime.domReady){const value=Kameleoon.Utils.runProtectedScript(targetingCondition.valueGeneratedCode,"",(()=>eval(targetingCondition.valueGeneratedCode)));targeting="boolean"==typeof value?value:void 0}}catch(e){targeting=!1;const t=segment?segment.name:null;console.log(e,t)}return{targeting:targeting,rescheduleTargeting:void 0===targeting}};Targeting.prototype.evaluate_TIME_RANGE=function(e){let t=(new Date).getTime();return{targeting:t>=e.gte&&t<e.lt,rescheduleTargeting:!1}};Targeting.prototype.evaluate_SEGMENT=function(e){let n=Kameleoon.Targeting.obtainSegment(e.linkedSegmentId)||Kameleoon.Internals.runtime.targetingSegments.find((n=>n.id==e.linkedSegmentId));if(n){if(null==n.numberTargetingCheckings)Kameleoon.Targeting.processTargetingSegments([n]);e.value=n.name;e.targeting=n.targeting;e.rescheduleTargeting=void 0===n.targeting;return{targeting:n.targeting,rescheduleTargeting:void 0===n.targeting}}return{targeting:void 0,rescheduleTargeting:!0}};Targeting.prototype.evaluate_DEVICE_TYPE=function(e){return{targeting:e.value==Kameleoon.Internals.runtime.Device.type.toLocaleUpperCase(),rescheduleTargeting:!1}};Targeting.prototype.evaluate_CUSTOM_DATUM=function(t){if(Kameleoon.Internals.runtime.gathererRun){let a;const e=Kameleoon.Internals.runtime.Visitor.currentVisit.customData[t.index];const i={customDataValue:"",conditionValue:t.value,CONTAINS(){if(this.customDataValue.indexOf(this.conditionValue)>=0)return!0},EXACT(){if(this.customDataValue===this.conditionValue)return!0},REGULAR_EXPRESSION(){if(RegExp(this.conditionValue).test(this.customDataValue))return!0},LOWER(){this.customDataValue=parseFloat(this.customDataValue);if(!isNaN(this.conditionValue)&&!isNaN(this.customDataValue))return this.customDataValue<this.conditionValue},EQUAL(){this.customDataValue=parseFloat(this.customDataValue);if(!isNaN(this.conditionValue)&&!isNaN(this.customDataValue))return this.customDataValue==this.conditionValue},GREATER(){this.customDataValue=parseFloat(this.customDataValue);if(!isNaN(this.conditionValue)&&!isNaN(this.customDataValue))return this.customDataValue>this.conditionValue},TRUE(){if("true"===this.customDataValue)return!0},FALSE(){if("false"===this.customDataValue)return!0},AMONG_VALUES(){try{const t=JSON.parse(this.conditionValue);for(let a=0,e=t.length;a<e;a++)if(t[a]==this.customDataValue)return!0}catch(t){return!1}},RANGE(){try{const[t,a]=JSON.parse(this.conditionValue);this.customDataValue=parseFloat(this.customDataValue);if(!isNaN(this.customDataValue))return this.customDataValue>=t&&this.customDataValue<=a}catch(t){return!1}}};if(null==e)a="UNDEFINED"==t.operator?!0:void 0;else{a=!1;for(const u in e)if(i[t.operator]){i.customDataValue=u.toString();const e=i[t.operator]();if("boolean"==typeof e){a=e;break}}}return{targeting:a,rescheduleTargeting:void 0===a}}return null};class Tracking{constructor(){this.timeBeforeSendTracking=20*60*1e3;this.checkAndSetKameleoonTrackingTime=(t,e)=>{const n=Kameleoon.Utils.secureSessionStorage("getItem","kameleoonAnalyticsTrackingTimes");const i=null==n?{}:JSON.parse(n);const a="Experiment-"+t;if(null==i[e]||null==i[e][a]||(new Date).getTime()>=i[e][a]+this.timeBeforeSendTracking){if(null==i[e])i[e]={};i[e][a]=(new Date).getTime();Kameleoon.Utils.secureSessionStorage("setItem","kameleoonAnalyticsTrackingTimes",JSON.stringify(i));return!0}return!1};this.obtainTealiumData=()=>{};this.processCustomIntegration=t=>{}}}Tracking.prototype.processGoogleAnalytics4=function(e){let a=Kameleoon.Internals.configuration.googleAnalytics4Gtag;if(a&&window.gtag||0==a&&window.dataLayer||null==a&&window.dataLayer){let n=e.experimentAction?"kameleoon_experiment":"kameleoon_personalization";if((a||null==a)&&window.gtag){let a=`${e.id} - ${e.name} - ${e.associatedVariation.id} - ${e.associatedVariation.name}`;let i={experiment_variation:a,event_timeout:2e3};if(null!=Kameleoon.Internals.configuration.googleAnalytics4MeasurementId)i.send_to=Kameleoon.Internals.configuration.googleAnalytics4MeasurementId;window.gtag("event",n,i)}else if(1!=a&&window.dataLayer)window.dataLayer.push({event:n,campaign_name:e.name,campaign_id:e.id,variation_name:e.associatedVariation.name,variation_id:e.associatedVariation.id})}else Kameleoon.Utils.setTimeout((function(){Kameleoon.Tracking.processGoogleAnalytics4.apply(Kameleoon.Tracking,[e])}),150)};Tracking.prototype.processUniversalAnalytics=function(e){let n=Kameleoon.Tracking.findUniversalAnalyticsObject();let a=n&&n.answer&&42==n.answer;if(!a&&e.universalAnalyticsTracking.eventCallDelayed){let n=Kameleoon.Utils.setTimeout((function(){Kameleoon.Utils.clearTimeout(n);Kameleoon.Tracking.processUniversalAnalytics.apply(Kameleoon.Tracking,[e])}),150);return}let i=e.universalAnalyticsTracking.trackingId;if(a&&e.universalAnalyticsTracking.eventCallDelayed&&i)if(void 0==Kameleoon.Tracking.obtainUniversalAnalyticsTracker(e)){let n=Kameleoon.Utils.setTimeout((function(){Kameleoon.Utils.clearTimeout(n);Kameleoon.Tracking.processUniversalAnalytics.apply(Kameleoon.Tracking,[e])}),150);return}let l=Kameleoon.Tracking.obtainUniversalAnalyticsTrackerPrefix(e);if(null==n||n&&null==n.answer){let n=Kameleoon.Utils.setTimeout((function(){Kameleoon.Utils.clearTimeout(n);Kameleoon.Tracking.processUniversalAnalytics.apply(Kameleoon.Tracking,[e])}),150)}else{if(e.universalAnalyticsTracking.dimension&&e.universalAnalyticsTracking.dimension<201)n(l+"set","dimension"+e.universalAnalyticsTracking.dimension,e.name+"/"+e.associatedVariation.name.substring(0,80));if(Kameleoon.Tracking.checkAndSetKameleoonTrackingTime(e.id,"universalAnalytics"))if(e.universalAnalyticsTracking.pageViewTracking){let a=e.name.replace(/\//gi,"-");n(l+"send","pageview","/Kameleoon/"+a+"/"+encodeURIComponent(e.associatedVariation.name))}else if(a||e.universalAnalyticsTracking.eventTracking)n(l+"send","event","Kameleoon",e.name,e.associatedVariation.name,void 0,{nonInteraction:1})}};Tracking.prototype.findUniversalAnalyticsObject=()=>window.ga;Tracking.prototype.obtainUniversalAnalyticsTrackerPrefix=e=>{let n=Kameleoon.Tracking.obtainUniversalAnalyticsTracker(e);return n?n.get("name")+".":""};Tracking.prototype.obtainUniversalAnalyticsTrackerFromTrackingId=e=>{let n=Kameleoon.Tracking.findUniversalAnalyticsObject();if(void 0!==n&&null!=n.getAll){let a=n.getAll();if(e){for(let n=0;n<a.length;++n)if(e==a[n].get("trackingId"))return a[n]}else if(a.length>0)return a[0]}return};Tracking.prototype.obtainUniversalAnalyticsTracker=e=>{let n;if(e&&e.universalAnalyticsTracking&&e.universalAnalyticsTracking.trackingId)n=e.universalAnalyticsTracking.trackingId;return Kameleoon.Tracking.obtainUniversalAnalyticsTrackerFromTrackingId(n)};Tracking.prototype.processContentSquare=function(e){if(null!=window._uxa){let a=e.experimentAction?"AB":"PERSO";window._uxa.push(["trackDynamicVariable",{key:a+"_Kameleoon_"+e.id,value:(0===e.associatedVariation.id?"reference":e.associatedVariation.id).toString()}])}else Kameleoon.Utils.setTimeout((function(){Kameleoon.Tracking.processContentSquare.apply(Kameleoon.Tracking,[e])}),150)};class Variation{constructor(e){this.getAction=()=>Kameleoon.Internals.runtime.Campaigns.obtainCampaign(this.actionId);for(let t in e)this[t]=e[t]}applyJavascriptCode(e){if(this.javaScriptCode&&this.javaScriptCode.code&&(null==this.javaScriptCode.evaluated||e)){this.javaScriptCode.evaluated=!0;return Kameleoon.Utils.runProtectedScript(this.javaScriptCode.code,"kameleoonVariationJavaScriptCode-"+this.id+".js")}return null}preProcessRedirect(e){}process(){const e=Kameleoon.Internals.runtime.Campaigns.obtainCampaign(this.actionId);if(this.redirections&&!Kameleoon.Internals.runtime.editorEnabled)this.preProcessRedirect(e);if(this.forceNoFlicker&&!Kameleoon.Internals.runtime.domReady){var t="";for(var o=0,n=this.elementSets.length;o<n;++o)t+=(0!=o?", ":"")+this.elementSets[o].selector;Kameleoon.Utils.forceNoFlicker(t)}if(!this.styleSheetAdded){this.styleSheetAdded=!0;Kameleoon.Utils.addCSSStyleSheet(this.css,e,null)}if(this.javaScriptCode&&!this.permanentRefreshActive)if(!this.javaScriptCode.afterDOMReady)this.applyJavascriptCode(!1);else if(!this.permanentRefreshActive)Kameleoon.Utils.domReady((()=>{this.applyJavascriptCode(!1)}));if(this.elementSets&&(!e||e.targeting))this.elementSets.forEach((e=>{e.evaluated=!0;Kameleoon.ElementSet.processElementSet(e,this,!1,this.permanentRefreshActive,this.editionMode)}));if(this.forceNoFlicker&&!this.permanentRefreshActive)Kameleoon.Utils.removeBlockingStyleSheet();const r="enginePollerForVariation"+this.id;if(Kameleoon.Internals.runtime[r]&&!this.permanentRefreshActive){if(Kameleoon.Internals.runtime.cantUseMutationObserver)Kameleoon.Utils.clearInterval(Kameleoon.Internals.runtime[r]);Kameleoon.Internals.runtime[r]=null}if(!Kameleoon.Internals.runtime[r]&&!Kameleoon.Internals.runtime.editorMode&&!Kameleoon.Internals.runtime.kameleoonSelectionIframeMode){this.permanentRefreshActive=!0;Kameleoon.Internals.runtime.listenVariations.push(this);Kameleoon.Internals.runtime[r]=!0;if(Kameleoon.Internals.runtime.cantUseMutationObserver)Kameleoon.Internals.runtime[r]=Kameleoon.Utils.setInterval((()=>{this.process()}),10)}}processReplaceData(e){}}class Visit{constructor(t){this.addActionTriggered=(t,e)=>{if(e){let e=Kameleoon.Internals.runtime.storedData.obtainField("Gatherer","experimentsTriggered",{});e[t.toString()]=!0;Kameleoon.Internals.runtime.storedData.saveField("Gatherer","experimentsTriggered",e)}else{let e=Kameleoon.Internals.runtime.storedData.obtainField("Gatherer","personalizationsTriggered",{});e[t.toString()]=!0;Kameleoon.Internals.runtime.storedData.saveField("Gatherer","personalizationsTriggered",e)}};this.addActivity=(t,e)=>{if(e)this.lastActivityDate=t};this.addAdBlocker=()=>{this.Device.adBlocker=!0};this.addConversions=(t,e,i,s)=>{let n=s?-1:1;e*=n;i*=n;let a=this.conversions[t];let o=a?a.count:0;let r=a?a.revenue:0;let l=o+e;let u=r+i;if(l>0)if(u>=0)this.conversions[t]={count:l,revenue:u};else delete this.conversions[t];else delete this.conversions[t]};this.addCustomData=(t,e,i)=>{if(Kameleoon.Utils.testEmptyMap(e)){if(i)delete this.customData[t]}else{if(i||null==this.customData[t])this.customData[t]={};for(let i in e)this.customData[t][i]=(this.customData[t][i]||0)+e[i]}};this.addExperiment=(t,e,i)=>{if(null===i)return;if(void 0===this.ExperimentActivations[e])this.ExperimentActivations[e]={associatedVariationID:i,times:[]};this.ExperimentActivations[e].times.push(t);if(-1!=e){let t=Kameleoon.Internals.runtime.Campaigns.obtainCampaign(e,"experiment");let i=t?t.attributionWindow:Visitor.INFLUENCE_DELAY;if(i>0)this.ExperimentActivations[e].influence=i}};this.addGeolocation=(t,e,i,s,n,a)=>{this.Geolocation={country:t,region:e,city:i,postalCode:s,latitude:n,longitude:a}};this.addNumberClicks=t=>{if(t>0)this.clicks+=t};this.addPage=(t,e,i,s)=>{this.addActivity(t,!0);let n=s.filter((t=>null!=t));this.pages.push({timestamp:t,keyPagesMatched:i,referrersMatched:n.length>0?n:[]});let a=this.pageURLsVisited[e];if(null==a){a=[];this.pageURLsVisited[e]=a}a.push(t);for(let t in this.productEansLastPage)this.productEansAllButLastPages[t]=!0;this.productEansLastPage={}};this.addPersonalization=(t,e,i)=>{if(0==i)return null;if(void 0===this.PersonalizationActivations[e]||null!=i&&null==this.PersonalizationActivations[e].associatedVariationID)this.PersonalizationActivations[e]={associatedVariationID:i,times:[]};this.PersonalizationActivations[e].times.push(t);if(-1!=e){let t=Kameleoon.Internals.runtime.Campaigns.obtainCampaign(e,"personalization");let i=t?t.attributionWindow:Visitor.INFLUENCE_DELAY;if(i>0)this.PersonalizationActivations[e].influence=i}};this.addProduct=t=>{this.productEansLastPage[t]=!0};this.addTargetingSegment=(t,e)=>{let i=this.activatedSegments[e];if(null==i){i=[];this.activatedSegments[e]=i}i.push(t)};this.addWeather=t=>{this.Weather=t};this.clearCustomDataPage=()=>{for(let t in Kameleoon.Internals.runtime.Gatherer.configuration.customData){let e=Kameleoon.Internals.runtime.Gatherer.configuration.customData[t];if("PAGE"==e.scope)delete this.customData[t]}};this.computeActionNumberActivations=(t,e,i,s)=>{if(null==s[t])return 0;return this.computeObjectNumberPresence(e,i,s[t].times)};this.computeObjectNumberPresence=(t,e,i)=>{let s=0;for(let n=0,a=i.length;n<a;++n){let a=i[n];if((null==t||a>=t)&&(null==e||a<=e))s++}return s};this.convertVisitFromServer=()=>this;this.isVisitFinished=()=>this.lastActivityDate<(new Date).getTime()-Kameleoon.Internals.runtime.Gatherer.configuration.maxVisitIdleDuration;this.obtainKeyPageIsVisited=t=>{let e=this.pages.filter((e=>-1!=e.keyPagesMatched.indexOf(t)));return e.length>0};this.obtainMeanPageDuration=()=>{let t=new Date;let e=this.obtainTimesStartedPages();let i=OnlineMeanAndDeviation.createFromDifferences(e,!1,!0,!0);i.update([t.getTime()-e[e.length-1]]);return i.mean[0]};this.obtainNumberConversions=t=>{let e=this.conversions[t];return null==e?0:e.count};this.obtainPageNumberViews=(t,e,i,s)=>{let n=0;for(let a in this.pageURLsVisited)if(null!=a){let o=Kameleoon.Utils.computeRelativeURL(a);if((null==t||t.test(a)||t.test(o))&&(null==e||!e.test(a)&&!e.test(o)))n+=this.computeObjectNumberPresence(i,s,this.pageURLsVisited[a])}return n};this.obtainTimesStartedPages=()=>{let t=[];for(let e in this.pageURLsVisited)t.concat(this.pageURLsVisited[e]);return t.sort()};this.obtainPersonalizationNumberActivations=(t,e,i)=>this.computeActionNumberActivations(t,e,i,this.PersonalizationActivations);this.obtainReferrerIsPresent=t=>{let e=null==t?null:t+1;let i=this.pages.filter((t=>-1!=t.referrersMatched.indexOf(e)));return i.length>0};this.visitNumber=t.visitNumber||0;this.landingPageURL=t.landingPageURL||null;this.productEansAllButLastPages=t.productEansAllButLastPages||{};this.productEansLastPage=t.productEansLastPage||{};this.startDate=t.startDate||0;this.pageURLsVisited=t.pageURLsVisited||{};this.activatedSegments=t.activatedSegments||{};this.visitorCode=t.visitorCode||"";this.customData=t.customData||{};this.clicks=t.clicks||0;this.lastActivityDate=t.lastActivityDate||this.startDate;let e=t.Device||{};this.Device={adBlocker:e.adBlocker||!1,browser:e.browser||"Other",browserVersion:e.browserVersion||null,os:e.os||"Other",screenHeight:e.screenHeight||null,screenWidth:e.screenWidth||null,timeZone:e.timeZone||"UTC",type:e.type?e.type.toLocaleUpperCase():null,windowHeight:e.windowHeight||null,windowWidth:e.windowWidth||null};let i=t.Geolocation||{};this.Geolocation={city:i.city||null,country:i.country||null,latitude:i.latitude||null,longitude:i.longitude||null,postalCode:i.postalCode||null,region:i.region||null};let s=t.Weather||{};this.Weather={conditionCode:s.conditionCode||null,conditionDescription:s.conditionDescription||null,cloudiness:s.cloudiness||null,humidity:s.humidity||null,pressure:s.pressure||null,sunrise:s.sunrise||null,sunset:s.sunset||null,temperature:s.temperature||null,windSpeed:s.windSpeed||null};this.conversions=t.conversions||{};this.ExperimentActivations=t.ExperimentActivations||{};this.PersonalizationActivations=t.PersonalizationActivations||{};this.pages=t.pages||[]}obtainExperimentNumberActivations(t,e,i){return this.computeActionNumberActivations(t,e,i,this.ExperimentActivations)}}class Visitor{constructor(){this.addVisit=e=>{this.visits.push(e);this.currentVisit=e;this.totalVisits++;if(null==this.timeStartedEldestVisit)this.timeStartedEldestVisit=e.startDate;let t=this.visits.length;let i=Math.max(1,Kameleoon.Internals.configuration.maxNumberLocalVisits);if(t>i)this.visits=this.visits.slice(t-i)};this.addPreviousVisits=e=>{if(null!=this.currentVisit){let t=this.currentVisit;let i=[];for(let e=0,t=this.visits.length-1;e<t;++e)i.push(this.visits[e]);for(let t=0,s=e.length;t<s;++t)i.push(e[t]);i.sort(((e,t)=>{let i=e.startDate-t.startDate;if(0!=i)return i;i=e.visitNumber-t.visitNumber;return i}));let s=null;let o=null;for(let e=0,t=i.length;e<t;e++){let t=i[e];let n=t.visitorCode;let r=t.visitNumber;if(n!=s||r!=o)this.addVisit(t);s=n;o=r}this.addVisit(t)}};this.obtainKeyPageIsVisited=e=>{for(let t=0,i=this.visits.length;t<i;++t)if(this.visits[t].obtainKeyPageIsVisited(e))return!0;return!1};this.obtainReferrerIsPresent=e=>{for(let t=0,i=this.visits.length;t<i;++t)if(this.visits[t].obtainReferrerIsPresent(e))return!0;return!1};this.obtainNumberConversions=e=>{let t=0;for(let i=this.visits.length-1;i>=0;--i)t+=this.visits[i].obtainNumberConversions(e);return t};this.obtainActionNumberActivations=(e,t,i,s,o,n,r,a)=>{let l=a?"obtainExperimentNumberActivations":"obtainPersonalizationNumberActivations";let m=Kameleoon.Internals.runtime.Visitor.visits.length;let u=0;if(m>0){if(o){let t=Kameleoon.Internals.runtime.Visitor.visits[m-1][l](e,i,s);u+=r?t>0?1:0:t}if(n)for(let t=0,o=m-1;t<o;++t){let o=this.visits[t][l](e,i,s);u+=r?o>0?1:0:o}}return u};this.obtainPageNumberViews=(e,t,i,s,o,n)=>{let r=this.visits.length;let a=0;if(r>0){if(o)a+=this.visits[r-1].obtainPageNumberViews(e,t,i,s);if(n)for(let o=0,n=r-1;o<n;++o)a+=this.visits[o].obtainPageNumberViews(e,t,i,s)}return a};this.obtainTimeSincePreviousVisit=()=>{let e=0;if(this.visits.length>1){e=this.currentVisit.startDate-this.visits.slice(-2)[0].lastActivityDate;e=Math.max(e,Kameleoon.Internals.runtime.Gatherer.configuration.maxVisitIdleDuration)}return e};this.obtainVisitorCode=e=>{let t=!1;let i;let s=Kameleoon.Utils.readLocalData("kameleoonVisitorCode","COOKIE");const o=Kameleoon.Internals.runtime.storedData.obtainField("Gatherer","timeNextSynchronization",null);if(s)s=s.replace("_js_","");i=s;if(Kameleoon.Internals.configuration.useWideDomainSupport||Kameleoon.Internals.configuration.useVisitorCodeInLocalStorage){let e=Kameleoon.Internals.runtime.incomingStoredData?Kameleoon.Internals.runtime.incomingStoredData.kameleoonVisitorCode:Kameleoon.Utils.readLocalData("kameleoonVisitorCode","LS");if(e)i=e}if(e||null==i){i=Kameleoon.Utils.obtainRandomString(Visitor.VISITOR_CODE_LENGTH,Analyst.CODE_ALPHABET);t=!0}Kameleoon.Utils.saveVisitorCode(i,null==o);this.visitorCode=i;return t};this.obtainVisitorFromStoredData=()=>Kameleoon.Internals.runtime.storedData.Visitor;this.saveToStoredData=()=>{this.saveFieldToStoredData("visits",this.visits);this.saveFieldToStoredData("totalVisits",this.totalVisits);this.saveFieldToStoredData("timeStartedEldestVisit",this.timeStartedEldestVisit)};this.setVisitorCode=e=>{if(this.visitorCode!=e){Kameleoon.Internals.runtime.newVisitorCode=!0;Kameleoon.Utils.saveVisitorCode(e);this.visitorCode=e;Kameleoon.Internals.runtime.Visitor.currentVisit.visitorCode=e;if(this.visits)this.visits.forEach((t=>{t.visitorCode=e}));Kameleoon.Internals.runtime.Campaigns.obtainCampaignsList("experiments").forEach((e=>{if(void 0!==e.registeredVariationId){e.registeredVariationId=void 0;e.performVariationAssignment(!0)}}));Kameleoon.Internals.runtime.Campaigns.obtainCampaignsList("personalizations").forEach((e=>{if(e.customExpositionRate){if(Kameleoon.Internals.runtime.incomingStoredData)delete Kameleoon.Internals.runtime.incomingStoredData["kameleoonPersonalization-"+e.id];Kameleoon.Utils.eraseLocalData("kameleoonPersonalization-"+e.id,null,"LS")}}));this.saveToStoredData();Kameleoon.Gatherer.track(VisitEvent_Page);Kameleoon.Gatherer.track(VisitEvent_StaticData)}};this.updateCurrentVisit=()=>{};this.updateFromStoredData=(e,t,i)=>{let s=!1;let o=this.obtainVisitorFromStoredData();let n=o.visits;if(!this.visitorCode){let e=this.obtainVisitorCode(i);if(e)i=!0}if(n){let e=n.slice(-1)[0].visitorCode;if(e!=this.visitorCode){let t=Kameleoon.Utils.readLocalData("kameleoonVisitorCode","LS");if(t==e||!Kameleoon.Internals.runtime.Consent.hasGlobalConsent()){this.visitorCode=e;try{delete Kameleoon.Internals.runtime.localDataMap.COOKIE.kameleoonVisitorCode;delete Kameleoon.Internals.runtime.localDataMap.LS.kameleoonVisitorCode}catch(e){}}else if(t==this.visitorCode)i=!0}}if(i||e){t=!0;if(i)this.totalVisits=0}this.visits=[];if(!i&&n){n.forEach((e=>{this.addVisit(new Visit(e))}));this.totalVisits=o.totalVisits;this.timeStartedEldestVisit=o.timeStartedEldestVisit}let r=!1;if(t||!this.currentVisit||this.currentVisit.isVisitFinished()){let e=Kameleoon.Internals.runtime.storedData.obtainField("Gatherer","startsOfVisitForCurrentPage");Kameleoon.Internals.runtime.storedData.saveField("Gatherer","startsOfVisitForCurrentPage",e+1);Kameleoon.Internals.runtime.Gatherer.startOfVisit=s=!0;Kameleoon.Internals.runtime.storedData.resetForStartOfVisit();Kameleoon.Internals.runtime.storedData.saveField("Runtime","firstReferrerHref",Kameleoon.Gatherer.Referrer.obtainCorrected(!0)||null);Kameleoon.Internals.runtime.storedData.saveField("Runtime","firstReferrersIndices",Kameleoon.Gatherer.Referrer.obtainIndexes(!0)||[null]);Kameleoon.Internals.runtime.storedData.saveField("Runtime","landingKeyPagesIndices",Kameleoon.Gatherer.KeyPage.obtainIndexes()||[null]);let t;if(!this.currentVisit||i)t=0;else t=this.currentVisit.visitNumber+1;this.addVisit(new Visit({visitorCode:this.visitorCode,startDate:(new Date).getTime(),visitNumber:t,landingPageURL:Kameleoon.Utils.computeCurrentPageCleanAbsoluteURL(),Device:{browser:Kameleoon.Gatherer.Browser.obtain(),browserVersion:Kameleoon.Internals.runtime.Device.browserVersion,os:Kameleoon.Gatherer.OperatingSystem.obtain(),screenHeight:Kameleoon.Internals.runtime.Device.screenHeight,screenWidth:Kameleoon.Internals.runtime.Device.screenWidth,timeZone:Kameleoon.Gatherer.TimeZone.obtainId(),type:Kameleoon.Internals.runtime.Device.type,windowHeight:Kameleoon.Internals.runtime.Device.windowHeight,windowWidth:Kameleoon.Internals.runtime.Device.windowWidth}}));r=!0}this.saveToStoredData();Kameleoon.Internals.runtime.storedData.save(r)};this.trackInfluences=()=>{if(Kameleoon.Internals.runtime.Gatherer.startOfVisit&&this.visits.length>1)Kameleoon.Gatherer.track(VisitEvent_StaticData)};this.getCustomDataVisitor=()=>{let e={};let t=Kameleoon.Internals.runtime.Gatherer.configuration.customData;for(let i in Kameleoon.Internals.runtime.Visitor.currentVisit.customData){let s=t[i];if(null!=s&&!s.disabled)if("VISITOR"==s.scope){let t=Kameleoon.Internals.runtime.Visitor.currentVisit.customData[i];e[i]=t}}return e};this.registerVisitsRequestSuccessAndChangePreviousVisits=e=>{};this.compareCurrentVisitFromServer=e=>{};this.performRemoteVisitorSynchronization=()=>{};this.obtainProductData=(e,t,i,s)=>{let o=`${Kameleoon.Internals.runtime.DATA_URL}/product/${e}`;i.siteCode=Kameleoon.Internals.configuration.siteCode;i.eans=encodeURIComponent(JSON.stringify((t instanceof Array?t:[t]).map((e=>e.toString()))));Kameleoon.Utils.performBeaconServerCall(Kameleoon.Utils.addParameterToURL(o,Kameleoon.Utils.parseObjectToUrlParams(i),!1),(function(e){if(4===e.readyState&&200===e.status)s(JSON.parse(e.response||"{}"))}),(function(e){console.error(e)}));};this.visits=[];this.currentVisit=null;this.totalVisits=0;this.updateFromStoredData(!1);Object.defineProperty(this,"customData",{enumerable:!0,get:()=>this.getCustomDataVisitor()})}saveFieldToStoredData(e,t){Kameleoon.Internals.runtime.storedData.Visitor[e]=t}remoteSynchronisation(e,t,i,s){}}Visitor.VISITOR_CODE_LENGTH=16;Visitor.INFLUENCE_DELAY=1e3*60*60*24*7;try{window.Kameleoon=new KameleoonEngine}catch(o){console.log(o)}
Kameleoon.Internals = {"configuration":{"API_HOST_NAME":"api","APP_HOST_NAME":"app","BACK_OFFICE_HOST_NAME":"old","EDITOR_SRC":"src/main.ts","BASE_EDITOR_URL":"//static.kameleoon.com/js/editor/","NEW_EDITOR_URL":"//graphical-editor.kameleoon.com","EDITOR_HOST_NAME":"editor","DOMAIN":"kameleoon.com","WIDE_DOMAIN":"kameleoon.eu","GUI_ESTIMATED_LOADING_TIME":3000,"IMAGE_PATH":"https://m7ng7z5gag.kameleoon.eu/images/","PROXY_HOST_NAME":"proxy","QOOXDOO_ESTIMATED_LOADING_TIME":2000,"SERVER_CALL_ESTIMATED_LOADING_TIME":500,"STATIC_DIRECT_HOST_NAME":"static-direct","STATIC_HOST_NAME":"static","VISITOR_DOMAIN":"kameleoon.io","environment":"PRODUCTION","staticURL":"//static.kameleoon.eu/","maxNumberLocalVisits":25,"memberCode":"0","siteCode":"m7ng7z5gag","abtestConsent":"REQUIRED","abtestConsentOptout":"RUN","beforeAbtestConsent":"ALL","beforePersonalizationConsent":"ALL","personalizationConsent":"REQUIRED","personalizationConsentOptout":"RUN","personalizationsDeviation":1,"experiments":[{"id":222923,"name":"Layer de connexion Mobile","baseURL":"https://www.conforama.fr/?uiel=Mobile","experimentAction":true,"javaScriptCode":"Kameleoon.API.Core.runWhenElementPresent(\"#kameleoonElement-222923 .kam_tab_registration\",(([e])=>{Kameleoon.API.Utils.addEventListener(e,\"click\",(()=>{window.location.href.includes(\"/checkout/multi/cartOrder\")?Kameleoon.API.Goals.processConversion(322088):Kameleoon.API.Goals.processConversion(322092)}))}));","executeCodeForReference":true,"forcedTechnical":true,"dateModified":1708329886000,"dateStatusModified":1708329886000,"goals":[],"deviation":{"0":0.5,"905970":0.5},"variations":[{"name":"Reference","id":0,"deviation":0.5},{"name":"Variation 1","id":905970,"deviation":0.5}],"targetingSegmentId":240580,"attributionWindow":604800000,"googleAnalytics4Tracking":true,"contentSquareTracking":true,"kameleoonTracking":{"mainGoalId":287972}},{"id":223218,"name":"Layer de connexion Desktop","baseURL":"https://www.conforama.fr/","experimentAction":true,"javaScriptCode":"Kameleoon.API.Core.runWhenElementPresent(\"#kameleoonElement-222923 .kam_tab_registration\",(([e])=>{Kameleoon.API.Utils.addEventListener(e,\"click\",(()=>{window.location.href.includes(\"/checkout/multi/cartOrder\")?Kameleoon.API.Goals.processConversion(322088):Kameleoon.API.Goals.processConversion(322092)}))}));","executeCodeForReference":true,"forcedTechnical":true,"dateModified":1708329931000,"dateStatusModified":1708329931000,"goals":[],"deviation":{"0":0.5,"906721":0.5},"variations":[{"name":"Reference","id":0,"deviation":0.5},{"name":"Variation 1","id":906721,"deviation":0.5}],"targetingSegmentId":240579,"attributionWindow":604800000,"googleAnalytics4Tracking":true,"contentSquareTracking":true,"kameleoonTracking":{"mainGoalId":287972}}],"personalizations":[{"dateCreated":1693988465000,"dateModified":1708596716000,"dateStatusModified":1707813599000,"id":140377,"forcedTechnical":true,"goals":[],"name":"Perso Temps Fort Cuisine | PopIn Desktop VERSION FEV 2024","targetingSegmentId":231068,"mainGoalId":315895,"configuration":"CUSTOM","associatedVariation":{"id":934531,"name":"Variation 1"},"priority":1,"customExpositionRate":0.5,"personalizationCheckConditionsRule":"ALL_CONDITIONS","scheduleItem":[],"targetingSegment":null,"attributionWindow":604800000,"expositionFrequencySameVisit":1,"expositionFrequencySameVisitorDelaySeconds":21600,"personalizationsInteractionConditions":[{"personalizationsInteractionDisplayPerso":true,"personalizationsInteractionConfiguration":"ID_PERSO","personalizationsInteractionIdPerso":141638,"personalizationsInteractionNumberOtherPersosMatchType":"null","personalizationsInteractionNumberOtherPersos":null,"personalizationsInteractionDisplayOthersPersos":false,"personalizationsInteractionVisitsConfiguration":"CURRENT_VISIT"},{"personalizationsInteractionDisplayPerso":true,"personalizationsInteractionConfiguration":"ID_PERSO","personalizationsInteractionIdPerso":141639,"personalizationsInteractionNumberOtherPersosMatchType":"null","personalizationsInteractionNumberOtherPersos":null,"personalizationsInteractionDisplayOthersPersos":false,"personalizationsInteractionVisitsConfiguration":"CURRENT_VISIT"}],"googleAnalytics4Tracking":true,"universalAnalyticsTracking":{"dimension":181,"eventCallDelayed":true,"eventTracking":true},"contentSquareTracking":true,"kameleoonTracking":{"mainGoalId":null}},{"dateCreated":1693988465000,"dateModified":1708596802000,"dateStatusModified":1707813616000,"id":140378,"forcedTechnical":true,"goals":[],"name":"Perso Temps Fort Cuisine | PopIn Mobile VERSION FEV 2024","targetingSegmentId":231241,"mainGoalId":315895,"configuration":"CUSTOM","associatedVariation":{"id":934532,"name":"Variation 1"},"priority":1,"customExpositionRate":0.5,"personalizationCheckConditionsRule":"ALL_CONDITIONS","scheduleItem":[],"targetingSegment":null,"attributionWindow":604800000,"expositionFrequencySameVisit":1,"expositionFrequencySameVisitorDelaySeconds":21600,"personalizationsInteractionConditions":[{"personalizationsInteractionDisplayPerso":true,"personalizationsInteractionConfiguration":"ID_PERSO","personalizationsInteractionIdPerso":141640,"personalizationsInteractionNumberOtherPersosMatchType":"null","personalizationsInteractionNumberOtherPersos":null,"personalizationsInteractionDisplayOthersPersos":false,"personalizationsInteractionVisitsConfiguration":"CURRENT_VISIT"},{"personalizationsInteractionDisplayPerso":true,"personalizationsInteractionConfiguration":"ID_PERSO","personalizationsInteractionIdPerso":141641,"personalizationsInteractionNumberOtherPersosMatchType":"null","personalizationsInteractionNumberOtherPersos":null,"personalizationsInteractionDisplayOthersPersos":false,"personalizationsInteractionVisitsConfiguration":"CURRENT_VISIT"}],"googleAnalytics4Tracking":true,"universalAnalyticsTracking":{"dimension":181,"eventCallDelayed":true,"eventTracking":true},"contentSquareTracking":true,"kameleoonTracking":{"mainGoalId":null}},{"dateCreated":1708081836000,"dateModified":1708530290000,"dateStatusModified":1708530290000,"id":141638,"forcedTechnical":true,"goals":[],"name":"Widget Exit box - DESKTOP ABANDONISTES","targetingSegmentId":251417,"mainGoalId":331101,"configuration":"TEMPLATE","associatedVariation":{"id":938491,"name":"Variation 1"},"priority":1,"customExpositionRate":1,"personalizationCheckConditionsRule":"ALL_CONDITIONS","scheduleItem":[],"targetingSegment":null,"attributionWindow":604800000,"expositionFrequencySameVisit":1,"expositionFrequencySameVisitorDelaySeconds":21600,"expositionFrequencySameVisitor":0,"personalizationsInteractionConditions":[{"personalizationsInteractionDisplayPerso":true,"personalizationsInteractionConfiguration":"ID_PERSO","personalizationsInteractionIdPerso":141639,"personalizationsInteractionNumberOtherPersosMatchType":"null","personalizationsInteractionNumberOtherPersos":null,"personalizationsInteractionDisplayOthersPersos":false,"personalizationsInteractionVisitsConfiguration":"CURRENT_VISIT"}],"kameleoonTracking":{"mainGoalId":null}},{"dateCreated":1708081903000,"dateModified":1708613004000,"dateStatusModified":1708530362000,"id":141639,"forcedTechnical":true,"goals":[],"name":"Widget Exit box - Desktop TOURISTES","targetingSegmentId":251420,"mainGoalId":331101,"configuration":"TEMPLATE","associatedVariation":{"id":938493,"name":"Variation 1"},"priority":1,"customExpositionRate":1,"personalizationCheckConditionsRule":"ALL_CONDITIONS","scheduleItem":[],"targetingSegment":null,"attributionWindow":604800000,"expositionFrequencySameVisit":1,"expositionFrequencySameVisitorDelaySeconds":21600,"personalizationsInteractionConditions":[{"personalizationsInteractionDisplayPerso":true,"personalizationsInteractionConfiguration":"ID_PERSO","personalizationsInteractionIdPerso":141638,"personalizationsInteractionNumberOtherPersosMatchType":"null","personalizationsInteractionNumberOtherPersos":null,"personalizationsInteractionDisplayOthersPersos":false,"personalizationsInteractionVisitsConfiguration":"CURRENT_VISIT"}],"kameleoonTracking":{"mainGoalId":null}},{"dateCreated":1708081948000,"dateModified":1708530324000,"dateStatusModified":1708530324000,"id":141640,"forcedTechnical":true,"goals":[],"name":"Widget Exit box - Mobile ABANDONISTES","targetingSegmentId":251674,"mainGoalId":331101,"configuration":"TEMPLATE","associatedVariation":{"id":938494,"name":"Variation 1"},"priority":1,"customExpositionRate":1,"personalizationCheckConditionsRule":"ALL_CONDITIONS","scheduleItem":[],"targetingSegment":null,"attributionWindow":604800000,"expositionFrequencySameVisit":1,"expositionFrequencySameVisitorDelaySeconds":21600,"personalizationsInteractionConditions":[{"personalizationsInteractionDisplayPerso":true,"personalizationsInteractionConfiguration":"ID_PERSO","personalizationsInteractionIdPerso":141641,"personalizationsInteractionNumberOtherPersosMatchType":"null","personalizationsInteractionNumberOtherPersos":null,"personalizationsInteractionDisplayOthersPersos":false,"personalizationsInteractionVisitsConfiguration":"CURRENT_VISIT"}],"kameleoonTracking":{"mainGoalId":null}},{"dateCreated":1708082004000,"dateModified":1708613195000,"dateStatusModified":1708530345000,"id":141641,"forcedTechnical":true,"goals":[],"name":"Widget Exit box - Mobile TOURISTES","targetingSegmentId":251423,"mainGoalId":331101,"configuration":"TEMPLATE","associatedVariation":{"id":938495,"name":"Variation 1"},"priority":1,"customExpositionRate":1,"personalizationCheckConditionsRule":"ALL_CONDITIONS","scheduleItem":[],"targetingSegment":null,"attributionWindow":604800000,"expositionFrequencySameVisit":1,"expositionFrequencySameVisitorDelaySeconds":21600,"personalizationsInteractionConditions":[{"personalizationsInteractionDisplayPerso":true,"personalizationsInteractionConfiguration":"ID_PERSO","personalizationsInteractionIdPerso":141640,"personalizationsInteractionNumberOtherPersosMatchType":"null","personalizationsInteractionNumberOtherPersos":null,"personalizationsInteractionDisplayOthersPersos":false,"personalizationsInteractionVisitsConfiguration":"CURRENT_VISIT"}],"kameleoonTracking":{"mainGoalId":null}}],"targetingSegments":[{"id":44710,"name":"bo.buyer.personas.segment.dissatisfied.name","tree":{"orOperator":false,"orGuiLevel":0,"leftChild":{"orOperator":false,"orGuiLevel":0,"leftChild":{"targetingCondition":{"type":"ACTIVE_SESSION","disabled":false,"weight":1,"include":true,"time":120000,"timeUnit":"SECOND","operator":"LOWER"}},"rightChild":{"targetingCondition":{"type":"PAGE_VIEWS","disabled":false,"weight":1,"operator":"LOWER","include":true,"value":4}}},"rightChild":{"orOperator":false,"orGuiLevel":0,"leftChild":{"orOperator":true,"orGuiLevel":1,"leftChild":{"targetingCondition":{"type":"ORIGIN_TYPE","disabled":false,"weight":1,"value":"SEO","include":true}},"rightChild":{"targetingCondition":{"type":"ORIGIN_TYPE","disabled":false,"weight":1,"value":"SEM","include":true}}},"rightChild":{"targetingCondition":{"type":"MOUSE_OUT","disabled":false,"weight":1,"include":true}}}}},{"id":44711,"name":"bo.buyer.personas.segment.snooper.name","tree":{"orOperator":false,"orGuiLevel":0,"leftChild":{"orOperator":false,"orGuiLevel":0,"leftChild":{"targetingCondition":{"type":"ACTIVE_SESSION","disabled":false,"weight":1,"include":true,"time":900000,"timeUnit":"SECOND","operator":"GREATER"}},"rightChild":{"targetingCondition":{"type":"PAGE_VIEWS","disabled":false,"weight":1,"operator":"GREATER","include":true,"value":8}}},"rightChild":{"orOperator":true,"orGuiLevel":1,"leftChild":{"targetingCondition":{"type":"ORIGIN_TYPE","disabled":false,"weight":1,"value":"SEO","include":true}},"rightChild":{"targetingCondition":{"type":"ORIGIN_TYPE","disabled":false,"weight":1,"value":"SEM","include":true}}}}},{"id":44712,"name":"bo.buyer.personas.segment.revenant.name","tree":{"orOperator":false,"orGuiLevel":0,"leftChild":{"targetingCondition":{"type":"NEW_VISITORS","disabled":false,"weight":1,"value":"RETURNING","include":true}},"rightChild":{"targetingCondition":{"type":"BROWSER","disabled":false,"weight":1,"value":"IE","version":null,"operator":"EQUAL","include":true}}}},{"id":143325,"name":"Segment IA targetted pages ","tree":{"orOperator":false,"orGuiLevel":0,"leftChild":{"orOperator":false,"orGuiLevel":0,"leftChild":{"orOperator":false,"orGuiLevel":1,"leftChild":{"targetingCondition":{"type":"PAGE_URL","disabled":false,"weight":1,"value":"(.*)www\\.conforama\\.fr(.*)","include":true}},"rightChild":{"targetingCondition":{"type":"DOM_ELEMENT","disabled":false,"weight":1,"value":".c-r_special-offer","include":true}}},"rightChild":{"targetingCondition":{"type":"HEAT_SLICE","disabled":false,"weight":1,"keymoment":138882,"goal":223933,"computationIsDone":"TRUE","include":true,"start":14,"end":19}}},"rightChild":{"orOperator":false,"orGuiLevel":0,"leftChild":{"targetingCondition":{"type":"JS_CODE","disabled":false,"weight":1,"value":"if(window.localStorage.getItem('kpop')) {\n    if(window.localStorage.getItem('kpop') === 'IA') {\n        return true;\n    } else {\n        return false;\n    }\n    return undefined;\n}","include":true}},"rightChild":{"targetingCondition":{"type":"TIME_RANGE","disabled":false,"weight":1,"gte":1608940800000,"lt":1609459199000,"include":true}}}}},{"id":147318,"name":"29/01/2021 - Segment IA targetted pages","tree":{"orOperator":false,"orGuiLevel":0,"leftChild":{"orOperator":false,"orGuiLevel":0,"leftChild":{"orOperator":false,"orGuiLevel":1,"leftChild":{"targetingCondition":{"type":"PAGE_URL","disabled":false,"weight":1,"value":"(.*)www\\.conforama\\.fr(.*)","include":true}},"rightChild":{"targetingCondition":{"type":"DOM_ELEMENT","disabled":false,"weight":1,"value":".c-r_special-offer","include":true}}},"rightChild":{"targetingCondition":{"type":"HEAT_SLICE","disabled":false,"weight":1,"keymoment":138882,"goal":223933,"computationIsDone":"TRUE","include":true,"start":14,"end":19}}},"rightChild":{"orOperator":false,"orGuiLevel":0,"leftChild":{"targetingCondition":{"type":"JS_CODE","disabled":false,"weight":1,"value":"if(window.localStorage.getItem('kpop')) {\n    if(window.localStorage.getItem('kpop') === 'VARIA') {\n        return true;\n    } else {\n        return false;\n    }\n    return undefined;\n}","include":true}},"rightChild":{"targetingCondition":{"type":"TIME_RANGE","disabled":false,"weight":1,"gte":1611878400000,"lt":1612223999000,"include":true}}}}},{"id":231068,"name":"Personnalisation Temps Fort Cuisine_PopIn Desktop","tree":{"orOperator":false,"orGuiLevel":0,"leftChild":{"orOperator":false,"orGuiLevel":0,"leftChild":{"targetingCondition":{"type":"SEGMENT","disabled":false,"weight":1,"include":true,"linkedSegmentId":231236}},"rightChild":{"targetingCondition":{"type":"DEVICE_TYPE","disabled":false,"weight":1,"value":"DESKTOP","include":true}}},"rightChild":{"orOperator":false,"orGuiLevel":0,"leftChild":{"orOperator":false,"orGuiLevel":0,"leftChild":{"orOperator":false,"orGuiLevel":1,"leftChild":{"orOperator":false,"orGuiLevel":1,"leftChild":{"targetingCondition":{"type":"PAGE_URL","disabled":false,"weight":1,"value":"^https\\://www\\.conforama\\.fr/cuisines$","include":false}},"rightChild":{"targetingCondition":{"type":"PAGE_URL","disabled":false,"weight":1,"value":"(.*)https\\://www\\.conforama\\.fr/checkout/multi/cartOrder(.*)","include":false}}},"rightChild":{"orOperator":false,"orGuiLevel":1,"leftChild":{"orOperator":false,"orGuiLevel":1,"leftChild":{"targetingCondition":{"type":"PAGE_URL","disabled":false,"weight":1,"value":"^https\\://www\\.conforama\\.fr/$","include":false}},"rightChild":{"targetingCondition":{"type":"PAGE_URL","disabled":false,"weight":1,"value":"^https\\://www\\.conforama\\.fr/checkout/choose-delivery-method$","include":false}}},"rightChild":{"orOperator":false,"orGuiLevel":1,"leftChild":{"orOperator":false,"orGuiLevel":1,"leftChild":{"targetingCondition":{"type":"PAGE_URL","disabled":false,"weight":1,"value":"(.*)https\\://www\\.conforama\\.fr/checkout/multi/add-payment-method\\?e\\=(.*)","include":false}},"rightChild":{"targetingCondition":{"type":"PAGE_URL","disabled":false,"weight":1,"value":"^https\\://www\\.conforama\\.fr/e-guide-cuisines-automne-2023$","include":false}}},"rightChild":{"orOperator":false,"orGuiLevel":1,"leftChild":{"orOperator":false,"orGuiLevel":1,"leftChild":{"targetingCondition":{"type":"PAGE_URL","disabled":false,"weight":1,"value":"(.*)https\\://www\\.conforama\\.fr/mon-projet-cuisine(.*)","include":false}},"rightChild":{"targetingCondition":{"type":"PAGE_URL","disabled":false,"weight":1,"value":"^https\\://www\\.conforama\\.fr/identification$","include":false}}},"rightChild":{"orOperator":false,"orGuiLevel":1,"leftChild":{"orOperator":false,"orGuiLevel":1,"leftChild":{"targetingCondition":{"type":"PAGE_URL","disabled":false,"weight":1,"value":"(.*)https\\://www\\.conforama\\.fr/compte/(.*)","include":false}},"rightChild":{"targetingCondition":{"type":"PAGE_URL","disabled":false,"weight":1,"value":"(.*)/login/checkout/(.*)","include":false}}},"rightChild":{"targetingCondition":{"type":"PAGE_URL","disabled":false,"weight":1,"value":"^https\\://www\\.conforama\\.fr/#_\\=_$","include":false}}}}}}},"rightChild":{"orOperator":true,"orGuiLevel":1,"leftChild":{"targetingCondition":{"type":"SEGMENT","disabled":false,"weight":1,"include":true,"linkedSegmentId":231239}},"rightChild":{"orOperator":true,"orGuiLevel":1,"leftChild":{"targetingCondition":{"type":"SEGMENT","disabled":false,"weight":1,"include":true,"linkedSegmentId":231238}},"rightChild":{"targetingCondition":{"type":"SEGMENT","disabled":false,"weight":1,"include":true,"linkedSegmentId":231240}}}}},"rightChild":{"targetingCondition":{"type":"ACTIVE_SESSION","disabled":false,"weight":1,"include":true,"time":10000,"timeUnit":"SECOND","operator":"GREATER"}}}}},{"id":231236,"name":"Kameleoon Segment (Achat cuisine)","tree":{"targetingCondition":{"type":"JS_CODE","disabled":false,"weight":1,"value":"Kameleoon.API.Core.runWhenConditionTrue(() => tc_vars, () => {\n    if (!tc_vars.user_idrcc) {\n        setTargeting(true);\n    } else {\n        fetch(`https://data.kameleoon.io/map/map?siteCode=m7ng7z5gag&key=${tc_vars.user_idrcc}`)\n            .then((response) => response.json())\n            .then((userData) => {\n                if (JSON.stringify(userData) == \"{}\" || userData?.Achat_Cuisine_12Mois === 0) {setTargeting(true)}\n            });\n    }\n})","include":true,"async":true}}},{"id":231238,"name":"Kameleoon Segment  (Demande de devis)","tree":{"orOperator":true,"orGuiLevel":0,"leftChild":{"targetingCondition":{"type":"JS_CODE","disabled":false,"weight":1,"value":"if (Kameleoon.API.Visitor.visits.find((visit) => visit.conversions['315895'])) {\n    setTargeting(true);\n}","include":true,"async":true}},"rightChild":{"targetingCondition":{"type":"JS_CODE","disabled":false,"weight":1,"value":"Kameleoon.API.Core.runWhenConditionTrue(() => tc_vars.user_idrcc, () => {\n    fetch(`https://data.kameleoon.io/map/map?siteCode=m7ng7z5gag&key=${tc_vars.user_idrcc}`)\n        .then((response) => response.json())\n        .then((userData) => {\n            Kameleoon.API.Core.runWhenConditionTrue(() => userData?.Dte_DevisCuisine, () => {\n                if (userData.Dte_DevisCuisine) {\n                    const visitedDate = userData.Dte_DevisCuisine;\n                    const userVisitedDate = new Date(visitedDate);\n                    const currentDate = new Date();\n                    const sixMonthsAgo = new Date();\n                    sixMonthsAgo.setMonth(sixMonthsAgo.getMonth() - 6);\n                    if (userVisitedDate >= sixMonthsAgo && userVisitedDate <= currentDate) {\n                        setTargeting(true);\n                    }\n                }\n            })\n        });\n})","include":true,"async":true}}}},{"id":231239,"name":"Kameleoon Segment  (Visite Page Cuisine ou encastrable)","tree":{"targetingCondition":{"type":"JS_CODE","disabled":false,"weight":1,"value":"const regex = /(\\/element-de-cuisine|\\/meuble-de-cuisine|\\/encastrable)/;\r\nconst foundVisit = Kameleoon.API.Visitor.visits.find((visit) => {\r\n    const timestamp = visit?.startDate;\r\n    const thirtyDaysAgo = new Date() - 30 * 24 * 60 * 60 * 1000;\r\n    if (timestamp > thirtyDaysAgo) {\r\n        return Object.keys(visit.pageURLsVisited).some((key) => regex.test(key));\r\n    } else {\r\n        return false;\r\n    }\r\n});\r\nif (foundVisit) {\r\n    setTargeting(true);\r\n}","include":true,"async":true}}},{"id":231240,"name":"Kameleoon Segment  (Demande de e-guide )","tree":{"targetingCondition":{"type":"JS_CODE","disabled":false,"weight":1,"value":"const regex = /\\/e-guide-cuisines-automne-2023/;\r\nconst foundVisit = Kameleoon.API.Visitor.visits.findLast((visit) => {\r\n    const timestamp = visit?.startDate;\r\n    const thirtyDaysAgo = new Date() - 30 * 24 * 60 * 60 * 1000;\r\n    if (timestamp > thirtyDaysAgo) {\r\n        return Object.keys(visit.pageURLsVisited).some((key) => regex.test(key));\r\n    } else {\r\n        return false;\r\n    }\r\n});\r\nif (foundVisit) {\r\n    setTargeting(true);\r\n}","include":true,"async":true}}},{"id":231241,"name":"Personnalisation Temps Fort Cuisine PopIn Mobile","tree":{"orOperator":false,"orGuiLevel":0,"leftChild":{"orOperator":false,"orGuiLevel":0,"leftChild":{"targetingCondition":{"type":"SEGMENT","disabled":false,"weight":1,"include":true,"linkedSegmentId":231236}},"rightChild":{"targetingCondition":{"type":"DEVICE_TYPE","disabled":false,"weight":1,"value":"PHONE","include":true}}},"rightChild":{"orOperator":false,"orGuiLevel":0,"leftChild":{"orOperator":false,"orGuiLevel":0,"leftChild":{"targetingCondition":{"type":"ACTIVE_SESSION","disabled":false,"weight":1,"include":true,"time":10000,"timeUnit":"SECOND","operator":"GREATER"}},"rightChild":{"orOperator":false,"orGuiLevel":1,"leftChild":{"orOperator":false,"orGuiLevel":1,"leftChild":{"targetingCondition":{"type":"PAGE_URL","disabled":false,"weight":1,"value":"^https\\://www\\.conforama\\.fr/cuisines$","include":false}},"rightChild":{"targetingCondition":{"type":"PAGE_URL","disabled":false,"weight":1,"value":"(.*)https\\://www\\.conforama\\.fr/checkout/multi/cartOrder(.*)","include":false}}},"rightChild":{"orOperator":false,"orGuiLevel":1,"leftChild":{"orOperator":false,"orGuiLevel":1,"leftChild":{"targetingCondition":{"type":"PAGE_URL","disabled":false,"weight":1,"value":"^https\\://www\\.conforama\\.fr/$","include":false}},"rightChild":{"targetingCondition":{"type":"PAGE_URL","disabled":false,"weight":1,"value":"^https\\://www\\.conforama\\.fr/checkout/choose-delivery-method$","include":false}}},"rightChild":{"orOperator":false,"orGuiLevel":1,"leftChild":{"orOperator":false,"orGuiLevel":1,"leftChild":{"targetingCondition":{"type":"PAGE_URL","disabled":false,"weight":1,"value":"^https\\://www\\.conforama\\.fr/checkout/multi/add-payment-method\\?e\\=$","include":false}},"rightChild":{"targetingCondition":{"type":"PAGE_URL","disabled":false,"weight":1,"value":"(.*)https\\://www\\.conforama\\.fr/mon-projet-cuisine(.*)","include":false}}},"rightChild":{"orOperator":false,"orGuiLevel":1,"leftChild":{"orOperator":false,"orGuiLevel":1,"leftChild":{"targetingCondition":{"type":"PAGE_URL","disabled":false,"weight":1,"value":"^https\\://www\\.conforama\\.fr/e-guide-cuisines-automne-2023$","include":false}},"rightChild":{"targetingCondition":{"type":"PAGE_URL","disabled":false,"weight":1,"value":"^https\\://www\\.conforama\\.fr/identification\\?prepareRegisterPage\\=true$","include":false}}},"rightChild":{"orOperator":false,"orGuiLevel":1,"leftChild":{"orOperator":false,"orGuiLevel":1,"leftChild":{"targetingCondition":{"type":"PAGE_URL","disabled":false,"weight":1,"value":"^https\\://www\\.conforama\\.fr/\\?uiel\\=Mobile$","include":false}},"rightChild":{"targetingCondition":{"type":"PAGE_URL","disabled":false,"weight":1,"value":"(.*)https\\://www\\.conforama\\.fr/compte/(.*)","include":false}}},"rightChild":{"orOperator":false,"orGuiLevel":1,"leftChild":{"targetingCondition":{"type":"PAGE_URL","disabled":false,"weight":1,"value":"(.*)/login/checkout/(.*)","include":false}},"rightChild":{"targetingCondition":{"type":"PAGE_URL","disabled":false,"weight":1,"value":"^https\\://www\\.conforama\\.fr/#_\\=_$","include":false}}}}}}}}},"rightChild":{"orOperator":true,"orGuiLevel":1,"leftChild":{"targetingCondition":{"type":"SEGMENT","disabled":false,"weight":1,"include":true,"linkedSegmentId":231238}},"rightChild":{"orOperator":true,"orGuiLevel":1,"leftChild":{"targetingCondition":{"type":"SEGMENT","disabled":false,"weight":1,"include":true,"linkedSegmentId":231239}},"rightChild":{"targetingCondition":{"type":"SEGMENT","disabled":false,"weight":1,"include":true,"linkedSegmentId":231240}}}}}}},{"id":240579,"name":"Layer de connexion Desktop ","tree":{"orOperator":false,"orGuiLevel":1,"leftChild":{"targetingCondition":{"type":"PAGE_URL","disabled":false,"weight":1,"value":"(.*)https\\://www\\.conforama\\.fr/(.*)","include":true}},"rightChild":{"targetingCondition":{"type":"DEVICE_TYPE","disabled":false,"weight":1,"value":"DESKTOP","include":true}}}},{"id":240580,"name":"Layer de connexion Mobile ","tree":{"orOperator":false,"orGuiLevel":0,"leftChild":{"targetingCondition":{"type":"PAGE_URL","disabled":false,"weight":1,"value":"(.*)https\\://www\\.conforama\\.fr/(.*)","include":true}},"rightChild":{"targetingCondition":{"type":"DEVICE_TYPE","disabled":false,"weight":1,"value":"PHONE","include":true}}}},{"id":251417,"name":"Toluna - Desktop ABANDONISTES","tree":{"orOperator":false,"orGuiLevel":0,"leftChild":{"orOperator":false,"orGuiLevel":1,"leftChild":{"targetingCondition":{"type":"DEVICE_TYPE","disabled":false,"weight":1,"value":"DESKTOP","include":true}},"rightChild":{"targetingCondition":{"type":"MOUSE_OUT","disabled":false,"weight":1,"include":true}}},"rightChild":{"orOperator":true,"orGuiLevel":1,"leftChild":{"targetingCondition":{"type":"PAGE_URL","disabled":false,"weight":1,"value":"(.*)https\\://www\\.conforama\\.fr/checkout/multi/add-payment-method\\?e\\=(.*)","include":true}},"rightChild":{"orOperator":true,"orGuiLevel":1,"leftChild":{"targetingCondition":{"type":"PAGE_URL","disabled":false,"weight":1,"value":"(.*)https\\://www\\.conforama\\.fr/checkout/choose-delivery-method(.*)","include":true}},"rightChild":{"targetingCondition":{"type":"CUSTOM_DATUM","disabled":false,"weight":1,"index":35,"operator":"CONTAINS","include":true,"value":"true"}}}}}},{"id":251420,"name":"Toluna - Desktop TOURISTES","tree":{"orOperator":false,"orGuiLevel":0,"leftChild":{"orOperator":false,"orGuiLevel":0,"leftChild":{"targetingCondition":{"type":"DEVICE_TYPE","disabled":false,"weight":1,"value":"DESKTOP","include":true}},"rightChild":{"targetingCondition":{"type":"PAGE_VIEWS","disabled":false,"weight":1,"operator":"GREATER","include":true,"value":10}}},"rightChild":{"orOperator":false,"orGuiLevel":0,"leftChild":{"targetingCondition":{"type":"MOUSE_OUT","disabled":false,"weight":1,"include":true}},"rightChild":{"targetingCondition":{"type":"DOM_ELEMENT","disabled":false,"weight":1,"value":".c-r_nbrProductCart","include":false}}}}},{"id":251423,"name":"Toluna Mobile TOURISTES","tree":{"orOperator":false,"orGuiLevel":0,"leftChild":{"orOperator":false,"orGuiLevel":0,"leftChild":{"targetingCondition":{"type":"DEVICE_TYPE","disabled":false,"weight":1,"value":"PHONE","include":true}},"rightChild":{"targetingCondition":{"type":"PAGE_VIEWS","disabled":false,"weight":1,"operator":"GREATER","include":true,"value":10}}},"rightChild":{"targetingCondition":{"type":"DOM_ELEMENT","disabled":false,"weight":1,"value":".c-r_pinCount.notEmpty","include":false}}}},{"id":251674,"name":"Toluna Mobile ABANDONISTES","tree":{"orOperator":false,"orGuiLevel":0,"leftChild":{"orOperator":false,"orGuiLevel":0,"leftChild":{"targetingCondition":{"type":"NEW_VISITORS","disabled":false,"weight":1,"value":"RETURNING","include":true}},"rightChild":{"targetingCondition":{"type":"DEVICE_TYPE","disabled":false,"weight":1,"value":"PHONE","include":true}}},"rightChild":{"orOperator":false,"orGuiLevel":1,"leftChild":{"targetingCondition":{"type":"PAGE_VIEWS","disabled":false,"weight":1,"operator":"GREATER","include":true,"value":5}},"rightChild":{"targetingCondition":{"type":"JS_CODE","disabled":false,"weight":1,"value":"let seg = 300215 in Kameleoon.API.Visitor.previousVisit.conversions;\r\nreturn seg;\r\n","include":true}}}}}],"variations":[{"name":"Variation 1","id":905970,"css":"#createAccoutButton{display:none!important}.loginWrap form#command .instruction{visibility:hidden}.loginWrap form#command .btn-primary{width:100%}.loginWrap form#command .btn-primary:hover{background-color:#a31620;border-color:#a31620}.loginWrap{display:flex;flex-direction:column}.loginWrap .social-login-bloc{order:1}.loginWrap .hr-text{order:0;text-transform:uppercase}.loginWrap a.btn-secondary{display:none}.loginWrap #fixed-area{position:unset;box-shadow:none}#kameleoonElement-222923.kam_tabs{display:flex;justify-content:center}#kameleoonElement-222923.kam_tabs .kam_tab_login,#kameleoonElement-222923.kam_tabs .kam_tab_registration{padding:8px;box-sizing:border-box;width:136px;text-align:center}#kameleoonElement-222923.kam_tabs .kam_tab_login{border-bottom:2px solid #db3832}#kameleoonElement-222923.kam_tabs .kam_tab_login span{color:#db3832;font-size:18px;font-family:Poppins;font-weight:500}#kameleoonElement-222923.kam_tabs .kam_tab_registration{font-size:18px;font-family:Poppins;font-weight:500}","elementSets":[{"selector":"#createAccoutButton","options":{"idSelector":true,"selector":"#createAccoutButton"},"currentQuery":null}],"javaScriptCode":{"code":"const registrationUrl=window.location.href.includes(\"/checkout/multi/cartOrder\")?\"https://www.conforama.fr/login/checkout/register\":\"https://www.conforama.fr/identification?prepareRegisterPage=true\",tabs=`\\n    <div class=\"kam_tabs\" id=\"kameleoonElement-222923\">\\n        <div class=\"kam_tab_login\">\\n            <span>Connexion</span>\\n        </div>\\n        <a class=\"kam_tab_registration\" href=${registrationUrl}>Inscription</a>\\n    </div>\\n`;Kameleoon.API.Core.runWhenElementPresent(\".loginWrap .formGroupCol\",(([e])=>{e.insertAdjacentHTML(\"beforebegin\",tabs)}),null,!0),Kameleoon.API.Core.runWhenElementPresent(\".loginWrap .social-login-title\",(([e])=>{e.innerText=\"Se connecter avec\"}),null,!0);","afterDOMReady":false}},{"name":"Variation 1","id":906721,"css":"#createAccoutButton{display:none!important}.loginWrap form#command .instruction{visibility:hidden}.loginWrap form#command .btn-primary{width:100%}.loginWrap form#command .btn-primary:hover{background-color:#a31620;border-color:#a31620}.loginWrap{display:flex;flex-direction:column}.loginWrap .social-login-bloc{order:1}.loginWrap .hr-text{order:0;text-transform:uppercase}.loginWrap a.btn-secondary{display:none}.loginWrap #fixed-area{position:unset;box-shadow:none}#kameleoonElement-222923.kam_tabs{display:flex;justify-content:center}#kameleoonElement-222923.kam_tabs .kam_tab_login,#kameleoonElement-222923.kam_tabs .kam_tab_registration{padding:8px;box-sizing:border-box;width:136px;text-align:center}#kameleoonElement-222923.kam_tabs .kam_tab_login{border-bottom:2px solid #db3832}#kameleoonElement-222923.kam_tabs .kam_tab_login span{color:#db3832;font-size:18px;font-family:Poppins;font-weight:500}#kameleoonElement-222923.kam_tabs .kam_tab_registration{font-size:18px;font-family:Poppins;font-weight:500}","elementSets":[{"selector":"#createAccoutButton","options":{"idSelector":true,"selector":"#createAccoutButton"},"currentQuery":null}],"javaScriptCode":{"code":"const registrationUrl=window.location.href.includes(\"/checkout/multi/cartOrder\")?\"https://www.conforama.fr/login/checkout\":\"https://www.conforama.fr/identification\",tabs=`\\n    <div class=\"kam_tabs\" id=\"kameleoonElement-222923\">\\n        <div class=\"kam_tab_login\">\\n            <span>Connexion</span>\\n        </div>\\n        <a class=\"kam_tab_registration\" href=${registrationUrl}>Inscription</a>\\n    </div>\\n`;Kameleoon.API.Core.runWhenElementPresent(\".loginWrap .formGroupCol\",(([n])=>{n.insertAdjacentHTML(\"beforebegin\",tabs)}),null,!0),Kameleoon.API.Core.runWhenElementPresent(\".loginWrap .social-login-title\",(([n])=>{n.innerText=\"Se connecter avec\"}),null,!0);","afterDOMReady":false}},{"name":"Variation 1","id":934531,"css":".kamT345_Confo_popin{overflow:hidden}.kamT345_Confo_popin .Kam_T345_popin_wrapper{display:flex;width:100%;height:100%;position:fixed;top:0;z-index:1000;background:0 0;left:0;justify-content:center;align-items:center}.kamT345_Confo_popin .Kam_T345_popin_wrapper img{width:100%;height:100%}.kamT345_Confo_popin .Kam_T345_popin_wrapper .popin-background{position:absolute;width:100%;height:100%;background:#000;opacity:30%;z-index:1}.kamT345_Confo_popin .Kam_T345_popin_wrapper .popin_content{z-index:2;position:relative}.kamT345_Confo_popin .Kam_T345_popin_wrapper .popin_content .close_popIn{position:absolute;top:20px;right:20px;color:#fff;width:30px;height:30px;display:flex;text-align:center;justify-content:center;align-items:center;font-size:35px;cursor:pointer}","elementSets":[],"javaScriptCode":{"code":"const KamT345ConfoPopinConfig={goals:{\"Clic pop in\":316916},customHtml:'<div class=\"Kam_T345_popin_wrapper\">\\n    <div class=\\'popin-background\\'></div>\\n        <div class=\"popin_content\">\\n            <div class=\"close_popIn\">x</div>\\n            <a href=\"https://www.conforama.fr/cuisines\">\\n                <img src=\\'https://m7ng7z5gag.kameleoon.eu/images/204672-169366c3-3c6d-4662-86d2-08a93e2daad1.png\\'>\\n            </a>\\n        </div>\\n    </div>',convertGoal:Kameleoon.API.Goals.processConversion};Kameleoon.API.Core.runWhenElementPresent(\"body\",(([o])=>{o.classList.add(\"kamT345_Confo_popin\"),o.insertAdjacentHTML(\"beforeend\",KamT345ConfoPopinConfig.customHtml),Kameleoon.API.Utils.addUniversalClickListener(o,(({target:n})=>{n.closest(\"img\")&&n.closest(\".Kam_T345_popin_wrapper\")&&n.closest(\".popin_content\")?KamT345ConfoPopinConfig.convertGoal(KamT345ConfoPopinConfig.goals[\"Clic pop in\"]):n.closest(\".Kam_T345_popin_wrapper\")&&(n.closest(\".popin-background\")||n.closest(\".close_popIn\"))&&(n.closest(\".Kam_T345_popin_wrapper\").remove(),o.classList.remove(\"kamT345_Confo_popin\"))}))}));","afterDOMReady":false}},{"name":"Variation 1","id":934532,"css":".kamT345_Confo_popin{overflow:hidden}.kamT345_Confo_popin .Kam_T345_popin_wrapper{display:flex;width:100%;height:100%;position:fixed;top:0;z-index:1000;background:0 0;left:0;justify-content:center;align-items:center}.kamT345_Confo_popin .Kam_T345_popin_wrapper img{width:100%;height:100%}.kamT345_Confo_popin .Kam_T345_popin_wrapper .popin_background{position:absolute;width:100%;height:100%;background:#000;opacity:30%;z-index:1}.kamT345_Confo_popin .Kam_T345_popin_wrapper .popin_content{z-index:2;position:relative}.kamT345_Confo_popin .Kam_T345_popin_wrapper .popin_content .close_popIn{position:absolute;top:3%;right:3%;color:#fff;width:30px;height:30px;display:flex;text-align:center;justify-content:center;align-items:center;font-size:30px;cursor:pointer}","elementSets":[],"javaScriptCode":{"code":"const KamT345ConfoPopinConfig={goals:{\"Clic pop in\":316916},customHtml:'<div class=\"Kam_T345_popin_wrapper\">\\n    <div class=\\'popin_background\\'></div>\\n        <div class=\"popin_content\">\\n            <div class=\"close_popIn\">x</div>\\n            <a href=\"https://www.conforama.fr/cuisines\">\\n                <img src=\\'https://m7ng7z5gag.kameleoon.eu/images/204672-169366c3-3c6d-4662-86d2-08a93e2daad1.png\\'> \\n            </a>\\n        </div>\\n    </div>',convertGoal:Kameleoon.API.Goals.processConversion};Kameleoon.API.Core.runWhenElementPresent(\"body\",(([o])=>{o.classList.add(\"kamT345_Confo_popin\");const n=document.createElement(\"div\");n.classList.add(\"Kam_T345_popin_wrapper\"),n.innerHTML=KamT345ConfoPopinConfig.customHtml,o.insertAdjacentElement(\"beforeend\",n),Kameleoon.API.Utils.addUniversalClickListener(n,(n=>{const{target:e}=n;e.closest(\"img\")&&e.closest(\".Kam_T345_popin_wrapper\")&&e.closest(\".popin_content\")?KamT345ConfoPopinConfig.convertGoal(KamT345ConfoPopinConfig.goals[\"Clic pop in\"]):e.closest(\".Kam_T345_popin_wrapper\")&&(e.closest(\".popin_background\")||e.closest(\".close_popIn\"))&&(n.preventDefault(),e.closest(\".Kam_T345_popin_wrapper\").remove(),o.classList.remove(\"kamT345_Confo_popin\"))}))}));","afterDOMReady":false}},{"name":"Variation 1","id":938491,"css":"@import url(https://fonts.googleapis.com/css2?family=Poppins:wght@400;500&display=swap);.widget_13415_938491 article,.widget_13415_938491 aside,.widget_13415_938491 details,.widget_13415_938491 figcaption,.widget_13415_938491 figure,.widget_13415_938491 footer,.widget_13415_938491 header,.widget_13415_938491 hgroup,.widget_13415_938491 nav,.widget_13415_938491 section,.widget_13415_938491 summary{display:block}.widget_13415_938491 audio,.widget_13415_938491 canvas,.widget_13415_938491 video{display:inline-block}.widget_13415_938491 audio:not([controls]){display:none;height:0}.widget_13415_938491 [hidden]{display:none}.widget_13415_938491 html{font-size:100%;-webkit-text-size-adjust:100%;-ms-text-size-adjust:100%}.widget_13415_938491 button,.widget_13415_938491 html,.widget_13415_938491 input,.widget_13415_938491 select,.widget_13415_938491 textarea{font-family:sans-serif}.widget_13415_938491 body{margin:0}.widget_13415_938491 a:focus{outline:thin dotted}.widget_13415_938491 a:active,.widget_13415_938491 a:hover{outline:0}.widget_13415_938491 h1{font-size:2em;margin:.67em 0}.widget_13415_938491 h2{font-size:1.5em;margin:.83em 0}.widget_13415_938491 h3{font-size:1.17em;margin:1em 0}.widget_13415_938491 h4{font-size:1em;margin:1.33em 0}.widget_13415_938491 h5{font-size:.83em;margin:1.67em 0}.widget_13415_938491 h6{font-size:.75em;margin:2.33em 0}.widget_13415_938491 abbr[title]{border-bottom:1px dotted}.widget_13415_938491 b,.widget_13415_938491 strong{font-weight:700}.widget_13415_938491 blockquote{margin:1em 40px}.widget_13415_938491 dfn{font-style:italic}.widget_13415_938491 mark{background:#ff0;color:#000}.widget_13415_938491 p,.widget_13415_938491 pre{margin:1em 0}.widget_13415_938491 code,.widget_13415_938491 kbd,.widget_13415_938491 pre,.widget_13415_938491 samp{font-family:monospace,serif;font-size:1em}.widget_13415_938491 pre{white-space:pre;white-space:pre-wrap;word-wrap:break-word}.widget_13415_938491 q{quotes:none}.widget_13415_938491 q:after,.widget_13415_938491 q:before{content:'';content:none}.widget_13415_938491 small{font-size:75%}.widget_13415_938491 sub,.widget_13415_938491 sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}.widget_13415_938491 sup{top:-.5em}.widget_13415_938491 sub{bottom:-.25em}.widget_13415_938491 dl,.widget_13415_938491 menu,.widget_13415_938491 ol,.widget_13415_938491 ul{margin:1em 0}.widget_13415_938491 dd{margin:0 0 0 40px}.widget_13415_938491 menu,.widget_13415_938491 ol,.widget_13415_938491 ul{padding:0 0 0 40px}.widget_13415_938491 nav ol,.widget_13415_938491 nav ul{list-style:none;list-style-image:none}.widget_13415_938491 img{border:0;-ms-interpolation-mode:bicubic}.widget_13415_938491 svg:not(:root){overflow:hidden}.widget_13415_938491 figure{margin:0}.widget_13415_938491 form{margin:0}.widget_13415_938491 fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}.widget_13415_938491 legend{border:0;padding:0;white-space:normal}.widget_13415_938491 button,.widget_13415_938491 input,.widget_13415_938491 select,.widget_13415_938491 textarea{font-size:100%;margin:0;vertical-align:baseline}.widget_13415_938491 button,.widget_13415_938491 input{line-height:normal}.widget_13415_938491 button,.widget_13415_938491 html input[type=button],.widget_13415_938491 input[type=reset],.widget_13415_938491 input[type=submit]{-webkit-appearance:button;cursor:pointer}.widget_13415_938491 button[disabled],.widget_13415_938491 input[disabled]{cursor:default}.widget_13415_938491 input[type=checkbox],.widget_13415_938491 input[type=radio]{box-sizing:border-box;padding:0}.widget_13415_938491 input[type=search]{-webkit-appearance:textfield;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;box-sizing:content-box}.widget_13415_938491 input[type=search]::-webkit-search-cancel-button,.widget_13415_938491 input[type=search]::-webkit-search-decoration{-webkit-appearance:none}.widget_13415_938491 button::-moz-focus-inner,.widget_13415_938491 input::-moz-focus-inner{border:0;padding:0}.widget_13415_938491 textarea{overflow:auto;vertical-align:top}.widget_13415_938491 table{border-collapse:collapse;border-spacing:0}.widget_13415_938491 a,.widget_13415_938491 p{margin:0}.widget_13415_938491 p{-webkit-hyphens:none!important;-ms-hyphens:none!important;hyphens:none!important;overflow-wrap:normal!important;word-wrap:normal!important;word-break:normal!important}.widget_13415_938491 button{cursor:pointer}.widget_13415_938491 input,.widget_13415_938491 textarea{outline:0}.widget_13415_938491 *,.widget_13415_938491 :after,.widget_13415_938491 :before{box-sizing:border-box}.widget_13415_938491 h1,.widget_13415_938491 h2,.widget_13415_938491 h3{font-weight:700}.widget_13415_938491 u{text-decoration:underline}.widget_13415_938491 em{font-style:italic}.widget_13415_938491 textarea{resize:none}.widget_13415_938491 .kn-hide_desktop,.widget_13415_938491 .kn-hide_mobile,.widget_13415_938491 .kn-hide_tablet{display:inherit}.widget_13415_938491 .hide{display:none!important}.widget_13415_938491 .unvisible{visibility:hidden}.widget_13415_938491.kameleoonWidget_preview .unvisible{visibility:visible}.widget_13415_938491 .kn-content_desktop,.widget_13415_938491 .kn-content_mobile,.widget_13415_938491 .kn-content_tablet{display:none}.widget_13415_938491 .template_knn3s4gaq8j{position:fixed;top:0;left:0;right:0;bottom:0;z-index:9999}.widget_13415_938491 .popup_wrapper_knqq4ocn8j6{inset:0px;z-index:9999}.widget_13415_938491 .popup_knqq4ocn8j6{top:auto;right:auto;bottom:auto;left:auto;transform:none;position:absolute;top:50%;left:50%;z-index:9999;background-color:#fff;width:469px;height:336px;transform:translateX(-50%) translateY(-50%);max-width:100%;border-radius:10px;border-width:0;box-shadow:0 0 20px 0 #000;bottom:auto;right:auto}.widget_13415_938491 .popup_knqq4ocn8j6_inpage{position:relative!important;transform:none;top:auto;left:auto;bottom:auto;right:auto}.widget_13415_938491 .overlay_knskbcl9puv{background-color:rgba(7,36,56,.6);position:absolute;z-index:9998;top:0;left:0;right:0;bottom:0}.widget_13415_938491 .container_knvhtv4tsao{position:absolute;top:30px;left:423px;z-index:6}.widget_13415_938491 .image_kn8r18h3y7l{object-fit:cover;width:16px;height:16px}.widget_13415_938491 .container_knsk29jntz4{position:absolute;top:46px;left:50%;z-index:5;transform:translateX(-50%)}.widget_13415_938491 .image_kn603gsm2sc{object-fit:cover;width:64px;height:64px}.widget_13415_938491 .container_knpj2yw3nn6{position:absolute;top:266px;left:50%;z-index:4;transform:translateX(-50%)}.widget_13415_938491 .button_knwn5zfhswa{width:150px;height:40px;font-size:14px;text-align:center;font-family:Poppins;color:#fff;background-color:#db3832;border-color:#c4c4c4;border-width:0;border-top-left-radius:8px;border-top-right-radius:8px;border-bottom-left-radius:8px;border-bottom-right-radius:8px;font-weight:500;padding-top:10px;padding-bottom:10px;padding-right:15px;padding-left:15px;border-style:solid}.widget_13415_938491 .button_knwn5zfhswa:hover{color:#adadad!important;border-color:#adadad!important}.widget_13415_938491 .button_knwn5zfhswa:disabled{color:#adadad!important;border-color:#d6d6d6!important;background-color:#d6d6d6!important;cursor:default!important}.widget_13415_938491 .container_knu6xpn7zvv{position:absolute;top:266px;left:50%;z-index:3;transform:translateX(-50%)}.widget_13415_938491 .link_kn3ab4e2vms{display:block;font-size:14px;font-family:arial;text-align:center;text-decoration:none;width:150px;height:40px;padding-top:10px;padding-bottom:10px;padding-right:15px;padding-left:15px;background-color:#db3832;color:#fff;border-top-left-radius:8px;border-top-right-radius:8px;border-bottom-right-radius:8px;border-bottom-left-radius:8px}.widget_13415_938491 .container_knh5u6alcwb{position:absolute;top:110px;left:50%;z-index:2;transform:translateX(-50%)}.widget_13415_938491 .heading_knap4rdf0o5{font-size:26px;line-height:32px;font-family:Poppins;text-align:center;margin-top:0;margin-bottom:0;width:242px;height:36px;font-weight:500}.widget_13415_938491 .container_knea4914wgq{position:absolute;top:166px;left:50%;z-index:1;transform:translateX(-50%)}.widget_13415_938491 .text_knpyicidrwo{font-size:14px;line-height:20px;text-align:center;font-family:Poppins;margin-top:0;margin-bottom:0;width:409px;height:60px;font-weight:400}.widget_13415_938491.desktop .kn-content_desktop{display:inherit}.widget_13415_938491.desktop .kn-hide_desktop{display:none!important}.widget_13415_938491.phone .template_knn3s4gaq8j{position:fixed;top:0;left:0;right:0;bottom:0;z-index:9999}.widget_13415_938491.phone .popup_wrapper_knqq4ocn8j6{inset:0px;z-index:9999}.widget_13415_938491.phone .popup_knqq4ocn8j6{width:355px;height:325px}.widget_13415_938491.phone .popup_knqq4ocn8j6_inpage{position:relative!important;transform:none;top:auto;left:auto;bottom:auto;right:auto}.widget_13415_938491.phone .container_knvhtv4tsao{top:30px;left:309px}.widget_13415_938491.phone .image_kn8r18h3y7l{width:16px;height:16px}.widget_13415_938491.phone .container_knsk29jntz4{top:46px;left:50%;transform:translateX(-50%)}.widget_13415_938491.phone .image_kn603gsm2sc{width:64px;height:64px}.widget_13415_938491.phone .container_knpj2yw3nn6{top:255px;left:50%}.widget_13415_938491.phone .button_knwn5zfhswa{width:150px;height:40px}.widget_13415_938491.phone .container_knh5u6alcwb{left:50%;transform:translateX(-50%);top:110px}.widget_13415_938491.phone .heading_knap4rdf0o5{width:167px;font-size:18px;line-height:28px;height:25px}.widget_13415_938491.phone .container_knea4914wgq{top:155px;left:50%}.widget_13415_938491.phone .text_knpyicidrwo{width:295px;height:80px}.widget_13415_938491.phone .kn-content_mobile{display:inherit}.widget_13415_938491.phone .kn-content_desktop{display:none}.widget_13415_938491.phone .kn-hide_mobile{display:none!important}.widget_13415_938491.tablet .template_knn3s4gaq8j{position:fixed;top:0;left:0;right:0;bottom:0;z-index:9999}.widget_13415_938491.tablet .popup_wrapper_knqq4ocn8j6{inset:0px;z-index:9999}.widget_13415_938491.tablet .popup_knqq4ocn8j6_inpage{position:relative!important;transform:none;top:auto;left:auto;bottom:auto;right:auto}.widget_13415_938491.tablet .kn-content_tablet{display:inherit}.widget_13415_938491.tablet .kn-content_desktop{display:none}.widget_13415_938491.tablet .kn-hide_tablet{display:none!important}","elementSets":[],"javaScriptCode":{"code":"!function(){if(document.getElementById(\"kameleoonWidget_938491\"))return null;Kameleoon.API.Core.runWhenElementPresent(\"body\",(([e])=>{e.insertAdjacentHTML(\"beforeend\",'<div class=\"widget_13415_938491 kameleoonWidget-13415 KameleoonJavaScriptAdded\" id=\"kameleoonWidget_938491\"><div class=\"template_knn3s4gaq8j hide\"><div class=\"overlay_knskbcl9puv\"></div><div class=\"popup_wrapper_knqq4ocn8j6\" data-popup-wrapper-id=\"knqq4ocn8j6\"><div class=\"popup_knqq4ocn8j6\"><div class=\"container_knvhtv4tsao container_element_kn8r18h3y7l\"><img data-iid=\"kn8r18h3y7l\" class=\"image_kn8r18h3y7l\" src=\"https://m7ng7z5gag.kameleoon.eu/images/205530-0a9fe31f-9b66-4488-907c-68dce246beb0.png\" alt=\"Close\"></div><div class=\"container_knsk29jntz4 container_element_kn603gsm2sc\"><img data-iid=\"kn603gsm2sc\" class=\"image_kn603gsm2sc\" src=\"https://m7ng7z5gag.kameleoon.eu/images/205529-daca4ef4-5130-497b-b65d-f01a189ea3eb.png\" alt=\"Image\"></div><div class=\"container_knpj2yw3nn6 container_element_knwn5zfhswa hide\"><button data-iid=\"knwn5zfhswa\" data-type=\"Button\" class=\"button_knwn5zfhswa\">Donner mon avis</button></div><div class=\"container_knu6xpn7zvv container_element_kn3ab4e2vms\"><a class=\"link_kn3ab4e2vms\" href=\"https://rtr.tolunastart.com/TrafficUI/MSCUI/Page.aspx?pgtid=19&amp;cid=6&amp;bid=13823&amp;golsoid=66d576f520cc465a913808b9f7f4a871&amp;\" target=\"_blank\" data-type=\"Link\" data-iid=\"kn3ab4e2vms\"><div><span>Donner mon avis</span></div></a></div><div class=\"container_knh5u6alcwb container_element_knap4rdf0o5\"><h1 class=\"heading_knap4rdf0o5\" data-iid=\"knap4rdf0o5\" data-type=\"Heading\"><div>Vous partez déjà ?</div><div><br></div></h1></div><div class=\"container_knea4914wgq container_element_knpyicidrwo\"><div class=\"text_knpyicidrwo\" data-iid=\"knpyicidrwo\" data-type=\"Text\"><div>​Faites-nous part de votre expérience en répondant à notre courte enquête.&nbsp;</div><div>3 minutes suffiront et nous aideront à nous améliorer !</div></div></div></div></div></div><form id=\"default_form_id\" class=\"hide\"></form></div>')})),Kameleoon.API.Core.runWhenElementPresent(\".widget_13415_938491\",(e=>{const a=e[0];a.classList.add(Kameleoon.API.CurrentVisit.device.type.toLowerCase()),a.querySelectorAll(\".widget_13415_938491 span[data-cd-name]\").forEach((e=>{const a=e.getAttribute(\"data-cd-name\"),n=e.getAttribute(\"data-cd-scope\");\"VISIT\"===n&&(e.innerHTML=Kameleoon.API.CurrentVisit.customData[a]||e.innerHTML),\"VISITOR\"===n&&(e.innerHTML=Kameleoon.API.Visitor.customData[a]||e.innerHTML)})),a.querySelectorAll(\".widget_13415_938491 a[data-cd-href]\").forEach((e=>{const a=e.getAttribute(\"data-cd-href\"),n=JSON.parse(a.replace(/&quot;/g,'\"'));let t=decodeURI(e.href);const i=t.match(/\\{\\{ [A-Za-z0-9 .,?!@\"'\\\\()#$%^&*-=+|_]+ \\}\\}/gim);i&&(i.forEach((e=>{const a=e.slice(2,-2).trim(),i=n.find((e=>e.name===a));i&&(\"VISIT\"===i.scope&&(t=t.replace(e,Kameleoon.API.CurrentVisit.customData[a]||i.defaultValue||\"\")),\"VISITOR\"===i.scope&&(t=t.replace(e,Kameleoon.API.Visitor.customData[a]||i.defaultValue||\"\")))})),e.href=encodeURI(t))})),a.querySelectorAll(\".widget_13415_938491 input\").forEach((e=>{e.addEventListener(\"keydown\",(e=>{13===e.keyCode&&e.preventDefault()}))})),a.querySelector(\".widget_13415_938491 .template_knn3s4gaq8j\").classList.remove(\"hide\"),Kameleoon.API.Utils.addUniversalClickListener(a.querySelector(\".widget_13415_938491 .image_kn8r18h3y7l\"),(e=>{e.stopPropagation(),e.preventDefault(),Kameleoon.API.Goals.processConversion(\"331102\"),a.querySelectorAll(\".widget_13415_938491 .popup_wrapper_knqq4ocn8j6 video\").forEach((e=>{e.pause(),e.currentTime=0})),a.querySelectorAll(\".widget_13415_938491 .popup_wrapper_knqq4ocn8j6 iframe\").forEach((e=>{e.src=e.src.replace(\"autoplay=1\",\"autoplay=0\")})),a.querySelector(\".widget_13415_938491 .template_knn3s4gaq8j\").classList.add(\"hide\")})),Kameleoon.API.Utils.addUniversalClickListener(a.querySelector(\".widget_13415_938491 .link_kn3ab4e2vms\"),(e=>{e.stopPropagation(),e.preventDefault(),Kameleoon.API.Goals.processConversion(\"331101\")}))}))}();","afterDOMReady":true},"widgetTemplateInputData":{"displayPluginConfiguration":"DISPLAY_ALL_DEVICES","positionPluginConfiguration":"ABOVE","positionSelectorRelative":"BEFORE","positionDefinition":null,"mainPageUrl":null,"domElementSelector":null},"widgetTemplateName":null},{"name":"Variation 1","id":938493,"css":"@import url(https://fonts.googleapis.com/css2?family=Poppins:wght@400;500&display=swap);.widget_13437_938493 article,.widget_13437_938493 aside,.widget_13437_938493 details,.widget_13437_938493 figcaption,.widget_13437_938493 figure,.widget_13437_938493 footer,.widget_13437_938493 header,.widget_13437_938493 hgroup,.widget_13437_938493 nav,.widget_13437_938493 section,.widget_13437_938493 summary{display:block}.widget_13437_938493 audio,.widget_13437_938493 canvas,.widget_13437_938493 video{display:inline-block}.widget_13437_938493 audio:not([controls]){display:none;height:0}.widget_13437_938493 [hidden]{display:none}.widget_13437_938493 html{font-size:100%;-webkit-text-size-adjust:100%;-ms-text-size-adjust:100%}.widget_13437_938493 button,.widget_13437_938493 html,.widget_13437_938493 input,.widget_13437_938493 select,.widget_13437_938493 textarea{font-family:sans-serif}.widget_13437_938493 body{margin:0}.widget_13437_938493 a:focus{outline:thin dotted}.widget_13437_938493 a:active,.widget_13437_938493 a:hover{outline:0}.widget_13437_938493 h1{font-size:2em;margin:.67em 0}.widget_13437_938493 h2{font-size:1.5em;margin:.83em 0}.widget_13437_938493 h3{font-size:1.17em;margin:1em 0}.widget_13437_938493 h4{font-size:1em;margin:1.33em 0}.widget_13437_938493 h5{font-size:.83em;margin:1.67em 0}.widget_13437_938493 h6{font-size:.75em;margin:2.33em 0}.widget_13437_938493 abbr[title]{border-bottom:1px dotted}.widget_13437_938493 b,.widget_13437_938493 strong{font-weight:700}.widget_13437_938493 blockquote{margin:1em 40px}.widget_13437_938493 dfn{font-style:italic}.widget_13437_938493 mark{background:#ff0;color:#000}.widget_13437_938493 p,.widget_13437_938493 pre{margin:1em 0}.widget_13437_938493 code,.widget_13437_938493 kbd,.widget_13437_938493 pre,.widget_13437_938493 samp{font-family:monospace,serif;font-size:1em}.widget_13437_938493 pre{white-space:pre;white-space:pre-wrap;word-wrap:break-word}.widget_13437_938493 q{quotes:none}.widget_13437_938493 q:after,.widget_13437_938493 q:before{content:'';content:none}.widget_13437_938493 small{font-size:75%}.widget_13437_938493 sub,.widget_13437_938493 sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}.widget_13437_938493 sup{top:-.5em}.widget_13437_938493 sub{bottom:-.25em}.widget_13437_938493 dl,.widget_13437_938493 menu,.widget_13437_938493 ol,.widget_13437_938493 ul{margin:1em 0}.widget_13437_938493 dd{margin:0 0 0 40px}.widget_13437_938493 menu,.widget_13437_938493 ol,.widget_13437_938493 ul{padding:0 0 0 40px}.widget_13437_938493 nav ol,.widget_13437_938493 nav ul{list-style:none;list-style-image:none}.widget_13437_938493 img{border:0;-ms-interpolation-mode:bicubic}.widget_13437_938493 svg:not(:root){overflow:hidden}.widget_13437_938493 figure{margin:0}.widget_13437_938493 form{margin:0}.widget_13437_938493 fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}.widget_13437_938493 legend{border:0;padding:0;white-space:normal}.widget_13437_938493 button,.widget_13437_938493 input,.widget_13437_938493 select,.widget_13437_938493 textarea{font-size:100%;margin:0;vertical-align:baseline}.widget_13437_938493 button,.widget_13437_938493 input{line-height:normal}.widget_13437_938493 button,.widget_13437_938493 html input[type=button],.widget_13437_938493 input[type=reset],.widget_13437_938493 input[type=submit]{-webkit-appearance:button;cursor:pointer}.widget_13437_938493 button[disabled],.widget_13437_938493 input[disabled]{cursor:default}.widget_13437_938493 input[type=checkbox],.widget_13437_938493 input[type=radio]{box-sizing:border-box;padding:0}.widget_13437_938493 input[type=search]{-webkit-appearance:textfield;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;box-sizing:content-box}.widget_13437_938493 input[type=search]::-webkit-search-cancel-button,.widget_13437_938493 input[type=search]::-webkit-search-decoration{-webkit-appearance:none}.widget_13437_938493 button::-moz-focus-inner,.widget_13437_938493 input::-moz-focus-inner{border:0;padding:0}.widget_13437_938493 textarea{overflow:auto;vertical-align:top}.widget_13437_938493 table{border-collapse:collapse;border-spacing:0}.widget_13437_938493 a,.widget_13437_938493 p{margin:0}.widget_13437_938493 p{-webkit-hyphens:none!important;-ms-hyphens:none!important;hyphens:none!important;overflow-wrap:normal!important;word-wrap:normal!important;word-break:normal!important}.widget_13437_938493 button{cursor:pointer}.widget_13437_938493 input,.widget_13437_938493 textarea{outline:0}.widget_13437_938493 *,.widget_13437_938493 :after,.widget_13437_938493 :before{box-sizing:border-box}.widget_13437_938493 h1,.widget_13437_938493 h2,.widget_13437_938493 h3{font-weight:700}.widget_13437_938493 u{text-decoration:underline}.widget_13437_938493 em{font-style:italic}.widget_13437_938493 textarea{resize:none}.widget_13437_938493 .kn-hide_desktop,.widget_13437_938493 .kn-hide_mobile,.widget_13437_938493 .kn-hide_tablet{display:inherit}.widget_13437_938493 .hide{display:none!important}.widget_13437_938493 .unvisible{visibility:hidden}.widget_13437_938493.kameleoonWidget_preview .unvisible{visibility:visible}.widget_13437_938493 .kn-content_desktop,.widget_13437_938493 .kn-content_mobile,.widget_13437_938493 .kn-content_tablet{display:none}.widget_13437_938493 .template_knn3s4gaq8j{position:fixed;top:0;left:0;right:0;bottom:0;z-index:9999}.widget_13437_938493 .popup_wrapper_knqq4ocn8j6{inset:0px;z-index:9999}.widget_13437_938493 .popup_knqq4ocn8j6{top:auto;right:auto;bottom:auto;left:auto;transform:none;position:absolute;top:50%;left:50%;z-index:9999;background-color:#fff;width:469px;height:336px;transform:translateX(-50%) translateY(-50%);max-width:100%;border-radius:10px;border-width:0;box-shadow:0 0 20px 0 #000;bottom:auto;right:auto}.widget_13437_938493 .popup_knqq4ocn8j6_inpage{position:relative!important;transform:none;top:auto;left:auto;bottom:auto;right:auto}.widget_13437_938493 .overlay_knskbcl9puv{background-color:rgba(7,36,56,.6);position:absolute;z-index:9998;top:0;left:0;right:0;bottom:0}.widget_13437_938493 .container_knlry6erz9n{position:absolute;top:266px;left:50%;z-index:6;transform:translateX(-50%)}.widget_13437_938493 .link_knxnjb15d3e{display:block;font-size:14px;font-family:arial;text-align:center;text-decoration:none;width:150px;height:40px;border-top-left-radius:8px;border-top-right-radius:8px;border-bottom-right-radius:8px;border-bottom-left-radius:8px;background-color:#db3832;color:#fff;padding-top:7%}.widget_13437_938493 .container_knvhtv4tsao{position:absolute;top:30px;left:423px;z-index:5}.widget_13437_938493 .image_kn8r18h3y7l{object-fit:cover;width:16px;height:16px}.widget_13437_938493 .container_knsk29jntz4{position:absolute;top:46px;left:50%;z-index:4;transform:translateX(-50%)}.widget_13437_938493 .image_kn603gsm2sc{object-fit:cover;width:64px;height:64px}.widget_13437_938493 .container_knpj2yw3nn6{position:absolute;top:266px;left:50%;z-index:3;transform:translateX(-50%)}.widget_13437_938493 .button_knwn5zfhswa{width:150px;height:40px;font-size:14px;text-align:center;font-family:Poppins;color:#fff;background-color:#db3832;border-color:#c4c4c4;border-width:0;border-top-left-radius:8px;border-top-right-radius:8px;border-bottom-left-radius:8px;border-bottom-right-radius:8px;font-weight:500;padding-top:10px;padding-bottom:10px;padding-right:15px;padding-left:15px;border-style:solid}.widget_13437_938493 .button_knwn5zfhswa:hover{color:#adadad!important;border-color:#adadad!important}.widget_13437_938493 .button_knwn5zfhswa:disabled{color:#adadad!important;border-color:#d6d6d6!important;background-color:#d6d6d6!important;cursor:default!important}.widget_13437_938493 .container_knh5u6alcwb{position:absolute;top:110px;left:50%;z-index:2;transform:translateX(-50%)}.widget_13437_938493 .heading_knap4rdf0o5{font-size:26px;line-height:32px;font-family:Poppins;text-align:center;margin-top:0;margin-bottom:0;width:188px;height:36px;font-weight:500}.widget_13437_938493 .container_knea4914wgq{position:absolute;top:166px;left:50%;z-index:1;transform:translateX(-50%)}.widget_13437_938493 .text_knpyicidrwo{font-size:14px;line-height:20px;text-align:center;font-family:Poppins;margin-top:0;margin-bottom:0;width:409px;height:60px;font-weight:400}.widget_13437_938493.desktop .kn-content_desktop{display:inherit}.widget_13437_938493.desktop .kn-hide_desktop{display:none!important}.widget_13437_938493.phone .template_knn3s4gaq8j{position:fixed;top:0;left:0;right:0;bottom:0;z-index:9999}.widget_13437_938493.phone .popup_wrapper_knqq4ocn8j6{inset:0px;z-index:9999}.widget_13437_938493.phone .popup_knqq4ocn8j6{width:355px;height:325px}.widget_13437_938493.phone .popup_knqq4ocn8j6_inpage{position:relative!important;transform:none;top:auto;left:auto;bottom:auto;right:auto}.widget_13437_938493.phone .container_knvhtv4tsao{top:30px;left:309px}.widget_13437_938493.phone .image_kn8r18h3y7l{width:16px;height:16px}.widget_13437_938493.phone .container_knsk29jntz4{top:46px;left:50%;transform:translateX(-50%)}.widget_13437_938493.phone .image_kn603gsm2sc{width:64px;height:64px}.widget_13437_938493.phone .container_knpj2yw3nn6{top:255px;left:50%}.widget_13437_938493.phone .button_knwn5zfhswa{width:150px;height:40px}.widget_13437_938493.phone .container_knh5u6alcwb{left:50%;transform:translateX(-50%);top:110px}.widget_13437_938493.phone .heading_knap4rdf0o5{width:128px;font-size:18px;line-height:28px;height:25px}.widget_13437_938493.phone .container_knea4914wgq{top:155px;left:50%}.widget_13437_938493.phone .text_knpyicidrwo{width:295px;height:80px}.widget_13437_938493.phone .kn-content_mobile{display:inherit}.widget_13437_938493.phone .kn-content_desktop{display:none}.widget_13437_938493.phone .kn-hide_mobile{display:none!important}.widget_13437_938493.tablet .template_knn3s4gaq8j{position:fixed;top:0;left:0;right:0;bottom:0;z-index:9999}.widget_13437_938493.tablet .popup_wrapper_knqq4ocn8j6{inset:0px;z-index:9999}.widget_13437_938493.tablet .popup_knqq4ocn8j6_inpage{position:relative!important;transform:none;top:auto;left:auto;bottom:auto;right:auto}.widget_13437_938493.tablet .kn-content_tablet{display:inherit}.widget_13437_938493.tablet .kn-content_desktop{display:none}.widget_13437_938493.tablet .kn-hide_tablet{display:none!important}","elementSets":[],"javaScriptCode":{"code":"!function(){if(document.getElementById(\"kameleoonWidget_938493\"))return null;Kameleoon.API.Core.runWhenElementPresent(\"body\",(([e])=>{e.insertAdjacentHTML(\"beforeend\",'<div class=\"widget_13437_938493 kameleoonWidget-13437 KameleoonJavaScriptAdded\" id=\"kameleoonWidget_938493\"><div class=\"template_knn3s4gaq8j hide\"><div class=\"overlay_knskbcl9puv\"></div><div class=\"popup_wrapper_knqq4ocn8j6\" data-popup-wrapper-id=\"knqq4ocn8j6\"><div class=\"popup_knqq4ocn8j6\"><div class=\"container_knlry6erz9n container_element_knxnjb15d3e\"><a class=\"link_knxnjb15d3e\" href=\"https://rtr.tolunastart.com/TrafficUI/MSCUI/Page.aspx?pgtid=19&amp;cid=6&amp;bid=13823&amp;golsoid=91284276fd3a42adac1db14bbfc669ad&amp;\" target=\"_blank\" data-type=\"Link\" data-iid=\"knxnjb15d3e\"><div><span>Donner mon avis</span></div></a></div><div class=\"container_knvhtv4tsao container_element_kn8r18h3y7l\"><img data-iid=\"kn8r18h3y7l\" class=\"image_kn8r18h3y7l\" src=\"https://m7ng7z5gag.kameleoon.eu/images/205530-0a9fe31f-9b66-4488-907c-68dce246beb0.png\" alt=\"Close\"></div><div class=\"container_knsk29jntz4 container_element_kn603gsm2sc\"><img data-iid=\"kn603gsm2sc\" class=\"image_kn603gsm2sc\" src=\"https://m7ng7z5gag.kameleoon.eu/images/205529-daca4ef4-5130-497b-b65d-f01a189ea3eb.png\" alt=\"Image\"></div><div class=\"container_knpj2yw3nn6 container_element_knwn5zfhswa hide\"><button data-iid=\"knwn5zfhswa\" data-type=\"Button\" class=\"button_knwn5zfhswa\">Donner mon avis</button></div><div class=\"container_knh5u6alcwb container_element_knap4rdf0o5\"><h1 class=\"heading_knap4rdf0o5\" data-iid=\"knap4rdf0o5\" data-type=\"Heading\"><div>Vous hésitez ?</div><div><br></div></h1></div><div class=\"container_knea4914wgq container_element_knpyicidrwo\"><div class=\"text_knpyicidrwo\" data-iid=\"knpyicidrwo\" data-type=\"Text\"><div>​Faites-nous part de votre expérience en répondant à notre courte enquête.&nbsp;</div><div>3 minutes suffiront et nous aideront à nous améliorer !</div></div></div></div></div></div><form id=\"default_form_id\" class=\"hide\"></form></div>')})),Kameleoon.API.Core.runWhenElementPresent(\".widget_13437_938493\",(e=>{const a=e[0];a.classList.add(Kameleoon.API.CurrentVisit.device.type.toLowerCase()),a.querySelectorAll(\".widget_13437_938493 span[data-cd-name]\").forEach((e=>{const a=e.getAttribute(\"data-cd-name\"),n=e.getAttribute(\"data-cd-scope\");\"VISIT\"===n&&(e.innerHTML=Kameleoon.API.CurrentVisit.customData[a]||e.innerHTML),\"VISITOR\"===n&&(e.innerHTML=Kameleoon.API.Visitor.customData[a]||e.innerHTML)})),a.querySelectorAll(\".widget_13437_938493 a[data-cd-href]\").forEach((e=>{const a=e.getAttribute(\"data-cd-href\"),n=JSON.parse(a.replace(/&quot;/g,'\"'));let t=decodeURI(e.href);const i=t.match(/\\{\\{ [A-Za-z0-9 .,?!@\"'\\\\()#$%^&*-=+|_]+ \\}\\}/gim);i&&(i.forEach((e=>{const a=e.slice(2,-2).trim(),i=n.find((e=>e.name===a));i&&(\"VISIT\"===i.scope&&(t=t.replace(e,Kameleoon.API.CurrentVisit.customData[a]||i.defaultValue||\"\")),\"VISITOR\"===i.scope&&(t=t.replace(e,Kameleoon.API.Visitor.customData[a]||i.defaultValue||\"\")))})),e.href=encodeURI(t))})),a.querySelectorAll(\".widget_13437_938493 input\").forEach((e=>{e.addEventListener(\"keydown\",(e=>{13===e.keyCode&&e.preventDefault()}))})),a.querySelector(\".widget_13437_938493 .template_knn3s4gaq8j\").classList.remove(\"hide\"),Kameleoon.API.Utils.addUniversalClickListener(a.querySelector(\".widget_13437_938493 .image_kn8r18h3y7l\"),(e=>{e.stopPropagation(),e.preventDefault(),Kameleoon.API.Goals.processConversion(\"331102\"),a.querySelectorAll(\".widget_13437_938493 .popup_wrapper_knqq4ocn8j6 video\").forEach((e=>{e.pause(),e.currentTime=0})),a.querySelectorAll(\".widget_13437_938493 .popup_wrapper_knqq4ocn8j6 iframe\").forEach((e=>{e.src=e.src.replace(\"autoplay=1\",\"autoplay=0\")})),a.querySelector(\".widget_13437_938493 .template_knn3s4gaq8j\").classList.add(\"hide\")})),Kameleoon.API.Utils.addUniversalClickListener(a.querySelector(\".widget_13437_938493 .link_knxnjb15d3e\"),(e=>{e.stopPropagation(),e.preventDefault(),Kameleoon.API.Goals.processConversion(\"331101\")}))}))}();","afterDOMReady":true},"widgetTemplateInputData":{"displayPluginConfiguration":"DISPLAY_ALL_DEVICES","positionPluginConfiguration":"ABOVE","positionSelectorRelative":"BEFORE","positionDefinition":null,"mainPageUrl":null,"domElementSelector":null},"widgetTemplateName":null},{"name":"Variation 1","id":938494,"css":"@import url(https://fonts.googleapis.com/css2?family=Poppins:wght@400;500&display=swap);.widget_13415_938494 article,.widget_13415_938494 aside,.widget_13415_938494 details,.widget_13415_938494 figcaption,.widget_13415_938494 figure,.widget_13415_938494 footer,.widget_13415_938494 header,.widget_13415_938494 hgroup,.widget_13415_938494 nav,.widget_13415_938494 section,.widget_13415_938494 summary{display:block}.widget_13415_938494 audio,.widget_13415_938494 canvas,.widget_13415_938494 video{display:inline-block}.widget_13415_938494 audio:not([controls]){display:none;height:0}.widget_13415_938494 [hidden]{display:none}.widget_13415_938494 html{font-size:100%;-webkit-text-size-adjust:100%;-ms-text-size-adjust:100%}.widget_13415_938494 button,.widget_13415_938494 html,.widget_13415_938494 input,.widget_13415_938494 select,.widget_13415_938494 textarea{font-family:sans-serif}.widget_13415_938494 body{margin:0}.widget_13415_938494 a:focus{outline:thin dotted}.widget_13415_938494 a:active,.widget_13415_938494 a:hover{outline:0}.widget_13415_938494 h1{font-size:2em;margin:.67em 0}.widget_13415_938494 h2{font-size:1.5em;margin:.83em 0}.widget_13415_938494 h3{font-size:1.17em;margin:1em 0}.widget_13415_938494 h4{font-size:1em;margin:1.33em 0}.widget_13415_938494 h5{font-size:.83em;margin:1.67em 0}.widget_13415_938494 h6{font-size:.75em;margin:2.33em 0}.widget_13415_938494 abbr[title]{border-bottom:1px dotted}.widget_13415_938494 b,.widget_13415_938494 strong{font-weight:700}.widget_13415_938494 blockquote{margin:1em 40px}.widget_13415_938494 dfn{font-style:italic}.widget_13415_938494 mark{background:#ff0;color:#000}.widget_13415_938494 p,.widget_13415_938494 pre{margin:1em 0}.widget_13415_938494 code,.widget_13415_938494 kbd,.widget_13415_938494 pre,.widget_13415_938494 samp{font-family:monospace,serif;font-size:1em}.widget_13415_938494 pre{white-space:pre;white-space:pre-wrap;word-wrap:break-word}.widget_13415_938494 q{quotes:none}.widget_13415_938494 q:after,.widget_13415_938494 q:before{content:'';content:none}.widget_13415_938494 small{font-size:75%}.widget_13415_938494 sub,.widget_13415_938494 sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}.widget_13415_938494 sup{top:-.5em}.widget_13415_938494 sub{bottom:-.25em}.widget_13415_938494 dl,.widget_13415_938494 menu,.widget_13415_938494 ol,.widget_13415_938494 ul{margin:1em 0}.widget_13415_938494 dd{margin:0 0 0 40px}.widget_13415_938494 menu,.widget_13415_938494 ol,.widget_13415_938494 ul{padding:0 0 0 40px}.widget_13415_938494 nav ol,.widget_13415_938494 nav ul{list-style:none;list-style-image:none}.widget_13415_938494 img{border:0;-ms-interpolation-mode:bicubic}.widget_13415_938494 svg:not(:root){overflow:hidden}.widget_13415_938494 figure{margin:0}.widget_13415_938494 form{margin:0}.widget_13415_938494 fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}.widget_13415_938494 legend{border:0;padding:0;white-space:normal}.widget_13415_938494 button,.widget_13415_938494 input,.widget_13415_938494 select,.widget_13415_938494 textarea{font-size:100%;margin:0;vertical-align:baseline}.widget_13415_938494 button,.widget_13415_938494 input{line-height:normal}.widget_13415_938494 button,.widget_13415_938494 html input[type=button],.widget_13415_938494 input[type=reset],.widget_13415_938494 input[type=submit]{-webkit-appearance:button;cursor:pointer}.widget_13415_938494 button[disabled],.widget_13415_938494 input[disabled]{cursor:default}.widget_13415_938494 input[type=checkbox],.widget_13415_938494 input[type=radio]{box-sizing:border-box;padding:0}.widget_13415_938494 input[type=search]{-webkit-appearance:textfield;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;box-sizing:content-box}.widget_13415_938494 input[type=search]::-webkit-search-cancel-button,.widget_13415_938494 input[type=search]::-webkit-search-decoration{-webkit-appearance:none}.widget_13415_938494 button::-moz-focus-inner,.widget_13415_938494 input::-moz-focus-inner{border:0;padding:0}.widget_13415_938494 textarea{overflow:auto;vertical-align:top}.widget_13415_938494 table{border-collapse:collapse;border-spacing:0}.widget_13415_938494 a,.widget_13415_938494 p{margin:0}.widget_13415_938494 p{-webkit-hyphens:none!important;-ms-hyphens:none!important;hyphens:none!important;overflow-wrap:normal!important;word-wrap:normal!important;word-break:normal!important}.widget_13415_938494 button{cursor:pointer}.widget_13415_938494 input,.widget_13415_938494 textarea{outline:0}.widget_13415_938494 *,.widget_13415_938494 :after,.widget_13415_938494 :before{box-sizing:border-box}.widget_13415_938494 h1,.widget_13415_938494 h2,.widget_13415_938494 h3{font-weight:700}.widget_13415_938494 u{text-decoration:underline}.widget_13415_938494 em{font-style:italic}.widget_13415_938494 textarea{resize:none}.widget_13415_938494 .kn-hide_desktop,.widget_13415_938494 .kn-hide_mobile,.widget_13415_938494 .kn-hide_tablet{display:inherit}.widget_13415_938494 .hide{display:none!important}.widget_13415_938494 .unvisible{visibility:hidden}.widget_13415_938494.kameleoonWidget_preview .unvisible{visibility:visible}.widget_13415_938494 .kn-content_desktop,.widget_13415_938494 .kn-content_mobile,.widget_13415_938494 .kn-content_tablet{display:none}.widget_13415_938494 .template_knn3s4gaq8j{position:fixed;top:0;left:0;right:0;bottom:0;z-index:9999}.widget_13415_938494 .popup_wrapper_knqq4ocn8j6{inset:0px;z-index:9999}.widget_13415_938494 .popup_knqq4ocn8j6{top:auto;right:auto;bottom:auto;left:auto;transform:none;position:absolute;top:50%;left:50%;z-index:9999;background-color:#fff;width:469px;height:336px;transform:translateX(-50%) translateY(-50%);max-width:100%;border-radius:10px;border-width:0;box-shadow:0 0 20px 0 #000;bottom:auto;right:auto}.widget_13415_938494 .popup_knqq4ocn8j6_inpage{position:relative!important;transform:none;top:auto;left:auto;bottom:auto;right:auto}.widget_13415_938494 .overlay_knskbcl9puv{background-color:rgba(7,36,56,.6);position:absolute;z-index:9998;top:0;left:0;right:0;bottom:0}.widget_13415_938494 .container_knvhtv4tsao{position:absolute;top:30px;left:423px;z-index:6}.widget_13415_938494 .image_kn8r18h3y7l{object-fit:cover;width:16px;height:16px}.widget_13415_938494 .container_knsk29jntz4{position:absolute;top:46px;left:50%;z-index:5;transform:translateX(-50%)}.widget_13415_938494 .image_kn603gsm2sc{object-fit:cover;width:64px;height:64px}.widget_13415_938494 .container_knpj2yw3nn6{position:absolute;top:266px;left:50%;z-index:4;transform:translateX(-50%)}.widget_13415_938494 .button_knwn5zfhswa{width:150px;height:40px;font-size:14px;text-align:center;font-family:Poppins;color:#fff;background-color:#db3832;border-color:#c4c4c4;border-width:0;border-top-left-radius:8px;border-top-right-radius:8px;border-bottom-left-radius:8px;border-bottom-right-radius:8px;font-weight:500;padding-top:10px;padding-bottom:10px;padding-right:15px;padding-left:15px;border-style:solid}.widget_13415_938494 .button_knwn5zfhswa:hover{color:#adadad!important;border-color:#adadad!important}.widget_13415_938494 .button_knwn5zfhswa:disabled{color:#adadad!important;border-color:#d6d6d6!important;background-color:#d6d6d6!important;cursor:default!important}.widget_13415_938494 .container_knu6xpn7zvv{position:absolute;top:266px;left:50%;z-index:3;transform:translateX(-50%)}.widget_13415_938494 .link_kn3ab4e2vms{display:block;font-size:14px;font-family:arial;text-align:center;text-decoration:none;width:150px;height:40px;padding-top:10px;padding-bottom:10px;padding-right:15px;padding-left:15px;background-color:#db3832;color:#fff;border-top-left-radius:8px;border-top-right-radius:8px;border-bottom-right-radius:8px;border-bottom-left-radius:8px}.widget_13415_938494 .container_knh5u6alcwb{position:absolute;top:110px;left:50%;z-index:2;transform:translateX(-50%)}.widget_13415_938494 .heading_knap4rdf0o5{font-size:26px;line-height:32px;font-family:Poppins;text-align:center;margin-top:0;margin-bottom:0;width:242px;height:36px;font-weight:500}.widget_13415_938494 .container_knea4914wgq{position:absolute;top:166px;left:50%;z-index:1;transform:translateX(-50%)}.widget_13415_938494 .text_knpyicidrwo{font-size:14px;line-height:20px;text-align:center;font-family:Poppins;margin-top:0;margin-bottom:0;width:409px;height:60px;font-weight:400}.widget_13415_938494.desktop .kn-content_desktop{display:inherit}.widget_13415_938494.desktop .kn-hide_desktop{display:none!important}.widget_13415_938494.phone .template_knn3s4gaq8j{position:fixed;top:0;left:0;right:0;bottom:0;z-index:9999}.widget_13415_938494.phone .popup_wrapper_knqq4ocn8j6{inset:0px;z-index:9999}.widget_13415_938494.phone .popup_knqq4ocn8j6{width:355px;height:325px}.widget_13415_938494.phone .popup_knqq4ocn8j6_inpage{position:relative!important;transform:none;top:auto;left:auto;bottom:auto;right:auto}.widget_13415_938494.phone .container_knvhtv4tsao{top:30px;left:309px}.widget_13415_938494.phone .image_kn8r18h3y7l{width:16px;height:16px}.widget_13415_938494.phone .container_knsk29jntz4{top:46px;left:50%;transform:translateX(-50%)}.widget_13415_938494.phone .image_kn603gsm2sc{width:64px;height:64px}.widget_13415_938494.phone .container_knpj2yw3nn6{top:255px;left:50%}.widget_13415_938494.phone .button_knwn5zfhswa{width:150px;height:40px}.widget_13415_938494.phone .container_knh5u6alcwb{left:50%;transform:translateX(-50%);top:110px}.widget_13415_938494.phone .heading_knap4rdf0o5{width:167px;font-size:18px;line-height:28px;height:25px}.widget_13415_938494.phone .container_knea4914wgq{top:155px;left:50%}.widget_13415_938494.phone .text_knpyicidrwo{width:295px;height:80px}.widget_13415_938494.phone .kn-content_mobile{display:inherit}.widget_13415_938494.phone .kn-content_desktop{display:none}.widget_13415_938494.phone .kn-hide_mobile{display:none!important}.widget_13415_938494.tablet .template_knn3s4gaq8j{position:fixed;top:0;left:0;right:0;bottom:0;z-index:9999}.widget_13415_938494.tablet .popup_wrapper_knqq4ocn8j6{inset:0px;z-index:9999}.widget_13415_938494.tablet .popup_knqq4ocn8j6_inpage{position:relative!important;transform:none;top:auto;left:auto;bottom:auto;right:auto}.widget_13415_938494.tablet .kn-content_tablet{display:inherit}.widget_13415_938494.tablet .kn-content_desktop{display:none}.widget_13415_938494.tablet .kn-hide_tablet{display:none!important}","elementSets":[],"javaScriptCode":{"code":"!function(){if(document.getElementById(\"kameleoonWidget_938494\"))return null;Kameleoon.API.Core.runWhenElementPresent(\"body\",(([e])=>{e.insertAdjacentHTML(\"beforeend\",'<div class=\"widget_13415_938494 kameleoonWidget-13415 KameleoonJavaScriptAdded\" id=\"kameleoonWidget_938494\"><div class=\"template_knn3s4gaq8j hide\"><div class=\"overlay_knskbcl9puv\"></div><div class=\"popup_wrapper_knqq4ocn8j6\" data-popup-wrapper-id=\"knqq4ocn8j6\"><div class=\"popup_knqq4ocn8j6\"><div class=\"container_knvhtv4tsao container_element_kn8r18h3y7l\"><img data-iid=\"kn8r18h3y7l\" class=\"image_kn8r18h3y7l\" src=\"https://m7ng7z5gag.kameleoon.eu/images/205530-0a9fe31f-9b66-4488-907c-68dce246beb0.png\" alt=\"Close\"></div><div class=\"container_knsk29jntz4 container_element_kn603gsm2sc\"><img data-iid=\"kn603gsm2sc\" class=\"image_kn603gsm2sc\" src=\"https://m7ng7z5gag.kameleoon.eu/images/205529-daca4ef4-5130-497b-b65d-f01a189ea3eb.png\" alt=\"Image\"></div><div class=\"container_knpj2yw3nn6 container_element_knwn5zfhswa hide\"><button data-iid=\"knwn5zfhswa\" data-type=\"Button\" class=\"button_knwn5zfhswa\">Donner mon avis</button></div><div class=\"container_knu6xpn7zvv container_element_kn3ab4e2vms\"><a class=\"link_kn3ab4e2vms\" href=\"https://rtr.tolunastart.com/TrafficUI/MSCUI/Page.aspx?pgtid=19&amp;cid=6&amp;bid=13823&amp;golsoid=66d576f520cc465a913808b9f7f4a871&amp;\" target=\"_blank\" data-type=\"Link\" data-iid=\"kn3ab4e2vms\"><div><span>Donner mon avis</span></div></a></div><div class=\"container_knh5u6alcwb container_element_knap4rdf0o5\"><h1 class=\"heading_knap4rdf0o5\" data-iid=\"knap4rdf0o5\" data-type=\"Heading\"><div>Vous partez déjà ?</div><div><br></div></h1></div><div class=\"container_knea4914wgq container_element_knpyicidrwo\"><div class=\"text_knpyicidrwo\" data-iid=\"knpyicidrwo\" data-type=\"Text\"><div>​Faites-nous part de votre expérience en répondant à notre courte enquête.&nbsp;</div><div>3 minutes suffiront et nous aideront à nous améliorer !</div></div></div></div></div></div><form id=\"default_form_id\" class=\"hide\"></form></div>')})),Kameleoon.API.Core.runWhenElementPresent(\".widget_13415_938494\",(e=>{const a=e[0];a.classList.add(Kameleoon.API.CurrentVisit.device.type.toLowerCase()),a.querySelectorAll(\".widget_13415_938494 span[data-cd-name]\").forEach((e=>{const a=e.getAttribute(\"data-cd-name\"),n=e.getAttribute(\"data-cd-scope\");\"VISIT\"===n&&(e.innerHTML=Kameleoon.API.CurrentVisit.customData[a]||e.innerHTML),\"VISITOR\"===n&&(e.innerHTML=Kameleoon.API.Visitor.customData[a]||e.innerHTML)})),a.querySelectorAll(\".widget_13415_938494 a[data-cd-href]\").forEach((e=>{const a=e.getAttribute(\"data-cd-href\"),n=JSON.parse(a.replace(/&quot;/g,'\"'));let t=decodeURI(e.href);const i=t.match(/\\{\\{ [A-Za-z0-9 .,?!@\"'\\\\()#$%^&*-=+|_]+ \\}\\}/gim);i&&(i.forEach((e=>{const a=e.slice(2,-2).trim(),i=n.find((e=>e.name===a));i&&(\"VISIT\"===i.scope&&(t=t.replace(e,Kameleoon.API.CurrentVisit.customData[a]||i.defaultValue||\"\")),\"VISITOR\"===i.scope&&(t=t.replace(e,Kameleoon.API.Visitor.customData[a]||i.defaultValue||\"\")))})),e.href=encodeURI(t))})),a.querySelectorAll(\".widget_13415_938494 input\").forEach((e=>{e.addEventListener(\"keydown\",(e=>{13===e.keyCode&&e.preventDefault()}))})),a.querySelector(\".widget_13415_938494 .template_knn3s4gaq8j\").classList.remove(\"hide\"),Kameleoon.API.Utils.addUniversalClickListener(a.querySelector(\".widget_13415_938494 .image_kn8r18h3y7l\"),(e=>{e.stopPropagation(),e.preventDefault(),Kameleoon.API.Goals.processConversion(\"331102\"),a.querySelectorAll(\".widget_13415_938494 .popup_wrapper_knqq4ocn8j6 video\").forEach((e=>{e.pause(),e.currentTime=0})),a.querySelectorAll(\".widget_13415_938494 .popup_wrapper_knqq4ocn8j6 iframe\").forEach((e=>{e.src=e.src.replace(\"autoplay=1\",\"autoplay=0\")})),a.querySelector(\".widget_13415_938494 .template_knn3s4gaq8j\").classList.add(\"hide\")})),Kameleoon.API.Utils.addUniversalClickListener(a.querySelector(\".widget_13415_938494 .link_kn3ab4e2vms\"),(e=>{e.stopPropagation(),e.preventDefault(),Kameleoon.API.Goals.processConversion(\"331101\")}))}))}();","afterDOMReady":true},"widgetTemplateInputData":{"displayPluginConfiguration":"DISPLAY_ALL_DEVICES","positionPluginConfiguration":"ABOVE","positionSelectorRelative":"BEFORE","positionDefinition":null,"mainPageUrl":null,"domElementSelector":null},"widgetTemplateName":null},{"name":"Variation 1","id":938495,"css":"@import url(https://fonts.googleapis.com/css2?family=Poppins:wght@400;500&display=swap);.widget_13437_938495 article,.widget_13437_938495 aside,.widget_13437_938495 details,.widget_13437_938495 figcaption,.widget_13437_938495 figure,.widget_13437_938495 footer,.widget_13437_938495 header,.widget_13437_938495 hgroup,.widget_13437_938495 nav,.widget_13437_938495 section,.widget_13437_938495 summary{display:block}.widget_13437_938495 audio,.widget_13437_938495 canvas,.widget_13437_938495 video{display:inline-block}.widget_13437_938495 audio:not([controls]){display:none;height:0}.widget_13437_938495 [hidden]{display:none}.widget_13437_938495 html{font-size:100%;-webkit-text-size-adjust:100%;-ms-text-size-adjust:100%}.widget_13437_938495 button,.widget_13437_938495 html,.widget_13437_938495 input,.widget_13437_938495 select,.widget_13437_938495 textarea{font-family:sans-serif}.widget_13437_938495 body{margin:0}.widget_13437_938495 a:focus{outline:thin dotted}.widget_13437_938495 a:active,.widget_13437_938495 a:hover{outline:0}.widget_13437_938495 h1{font-size:2em;margin:.67em 0}.widget_13437_938495 h2{font-size:1.5em;margin:.83em 0}.widget_13437_938495 h3{font-size:1.17em;margin:1em 0}.widget_13437_938495 h4{font-size:1em;margin:1.33em 0}.widget_13437_938495 h5{font-size:.83em;margin:1.67em 0}.widget_13437_938495 h6{font-size:.75em;margin:2.33em 0}.widget_13437_938495 abbr[title]{border-bottom:1px dotted}.widget_13437_938495 b,.widget_13437_938495 strong{font-weight:700}.widget_13437_938495 blockquote{margin:1em 40px}.widget_13437_938495 dfn{font-style:italic}.widget_13437_938495 mark{background:#ff0;color:#000}.widget_13437_938495 p,.widget_13437_938495 pre{margin:1em 0}.widget_13437_938495 code,.widget_13437_938495 kbd,.widget_13437_938495 pre,.widget_13437_938495 samp{font-family:monospace,serif;font-size:1em}.widget_13437_938495 pre{white-space:pre;white-space:pre-wrap;word-wrap:break-word}.widget_13437_938495 q{quotes:none}.widget_13437_938495 q:after,.widget_13437_938495 q:before{content:'';content:none}.widget_13437_938495 small{font-size:75%}.widget_13437_938495 sub,.widget_13437_938495 sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}.widget_13437_938495 sup{top:-.5em}.widget_13437_938495 sub{bottom:-.25em}.widget_13437_938495 dl,.widget_13437_938495 menu,.widget_13437_938495 ol,.widget_13437_938495 ul{margin:1em 0}.widget_13437_938495 dd{margin:0 0 0 40px}.widget_13437_938495 menu,.widget_13437_938495 ol,.widget_13437_938495 ul{padding:0 0 0 40px}.widget_13437_938495 nav ol,.widget_13437_938495 nav ul{list-style:none;list-style-image:none}.widget_13437_938495 img{border:0;-ms-interpolation-mode:bicubic}.widget_13437_938495 svg:not(:root){overflow:hidden}.widget_13437_938495 figure{margin:0}.widget_13437_938495 form{margin:0}.widget_13437_938495 fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}.widget_13437_938495 legend{border:0;padding:0;white-space:normal}.widget_13437_938495 button,.widget_13437_938495 input,.widget_13437_938495 select,.widget_13437_938495 textarea{font-size:100%;margin:0;vertical-align:baseline}.widget_13437_938495 button,.widget_13437_938495 input{line-height:normal}.widget_13437_938495 button,.widget_13437_938495 html input[type=button],.widget_13437_938495 input[type=reset],.widget_13437_938495 input[type=submit]{-webkit-appearance:button;cursor:pointer}.widget_13437_938495 button[disabled],.widget_13437_938495 input[disabled]{cursor:default}.widget_13437_938495 input[type=checkbox],.widget_13437_938495 input[type=radio]{box-sizing:border-box;padding:0}.widget_13437_938495 input[type=search]{-webkit-appearance:textfield;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;box-sizing:content-box}.widget_13437_938495 input[type=search]::-webkit-search-cancel-button,.widget_13437_938495 input[type=search]::-webkit-search-decoration{-webkit-appearance:none}.widget_13437_938495 button::-moz-focus-inner,.widget_13437_938495 input::-moz-focus-inner{border:0;padding:0}.widget_13437_938495 textarea{overflow:auto;vertical-align:top}.widget_13437_938495 table{border-collapse:collapse;border-spacing:0}.widget_13437_938495 a,.widget_13437_938495 p{margin:0}.widget_13437_938495 p{-webkit-hyphens:none!important;-ms-hyphens:none!important;hyphens:none!important;overflow-wrap:normal!important;word-wrap:normal!important;word-break:normal!important}.widget_13437_938495 button{cursor:pointer}.widget_13437_938495 input,.widget_13437_938495 textarea{outline:0}.widget_13437_938495 *,.widget_13437_938495 :after,.widget_13437_938495 :before{box-sizing:border-box}.widget_13437_938495 h1,.widget_13437_938495 h2,.widget_13437_938495 h3{font-weight:700}.widget_13437_938495 u{text-decoration:underline}.widget_13437_938495 em{font-style:italic}.widget_13437_938495 textarea{resize:none}.widget_13437_938495 .kn-hide_desktop,.widget_13437_938495 .kn-hide_mobile,.widget_13437_938495 .kn-hide_tablet{display:inherit}.widget_13437_938495 .hide{display:none!important}.widget_13437_938495 .unvisible{visibility:hidden}.widget_13437_938495.kameleoonWidget_preview .unvisible{visibility:visible}.widget_13437_938495 .kn-content_desktop,.widget_13437_938495 .kn-content_mobile,.widget_13437_938495 .kn-content_tablet{display:none}.widget_13437_938495 .template_knn3s4gaq8j{position:fixed;top:0;left:0;right:0;bottom:0;z-index:9999}.widget_13437_938495 .popup_wrapper_knqq4ocn8j6{inset:0px;z-index:9999}.widget_13437_938495 .popup_knqq4ocn8j6{top:auto;right:auto;bottom:auto;left:auto;transform:none;position:absolute;top:50%;left:50%;z-index:9999;background-color:#fff;width:469px;height:336px;transform:translateX(-50%) translateY(-50%);max-width:100%;border-radius:10px;border-width:0;box-shadow:0 0 20px 0 #000;bottom:auto;right:auto}.widget_13437_938495 .popup_knqq4ocn8j6_inpage{position:relative!important;transform:none;top:auto;left:auto;bottom:auto;right:auto}.widget_13437_938495 .overlay_knskbcl9puv{background-color:rgba(7,36,56,.6);position:absolute;z-index:9998;top:0;left:0;right:0;bottom:0}.widget_13437_938495 .container_knlry6erz9n{position:absolute;top:266px;left:50%;z-index:6;transform:translateX(-50%)}.widget_13437_938495 .link_knxnjb15d3e{display:block;font-size:14px;font-family:arial;text-align:center;text-decoration:none;width:150px;height:40px;border-top-left-radius:8px;border-top-right-radius:8px;border-bottom-right-radius:8px;border-bottom-left-radius:8px;background-color:#db3832;color:#fff;padding-top:7%}.widget_13437_938495 .container_knvhtv4tsao{position:absolute;top:30px;left:423px;z-index:5}.widget_13437_938495 .image_kn8r18h3y7l{object-fit:cover;width:16px;height:16px}.widget_13437_938495 .container_knsk29jntz4{position:absolute;top:46px;left:50%;z-index:4;transform:translateX(-50%)}.widget_13437_938495 .image_kn603gsm2sc{object-fit:cover;width:64px;height:64px}.widget_13437_938495 .container_knpj2yw3nn6{position:absolute;top:266px;left:50%;z-index:3;transform:translateX(-50%)}.widget_13437_938495 .button_knwn5zfhswa{width:150px;height:40px;font-size:14px;text-align:center;font-family:Poppins;color:#fff;background-color:#db3832;border-color:#c4c4c4;border-width:0;border-top-left-radius:8px;border-top-right-radius:8px;border-bottom-left-radius:8px;border-bottom-right-radius:8px;font-weight:500;padding-top:10px;padding-bottom:10px;padding-right:15px;padding-left:15px;border-style:solid}.widget_13437_938495 .button_knwn5zfhswa:hover{color:#adadad!important;border-color:#adadad!important}.widget_13437_938495 .button_knwn5zfhswa:disabled{color:#adadad!important;border-color:#d6d6d6!important;background-color:#d6d6d6!important;cursor:default!important}.widget_13437_938495 .container_knh5u6alcwb{position:absolute;top:110px;left:50%;z-index:2;transform:translateX(-50%)}.widget_13437_938495 .heading_knap4rdf0o5{font-size:26px;line-height:32px;font-family:Poppins;text-align:center;margin-top:0;margin-bottom:0;width:188px;height:36px;font-weight:500}.widget_13437_938495 .container_knea4914wgq{position:absolute;top:166px;left:50%;z-index:1;transform:translateX(-50%)}.widget_13437_938495 .text_knpyicidrwo{font-size:14px;line-height:20px;text-align:center;font-family:Poppins;margin-top:0;margin-bottom:0;width:409px;height:60px;font-weight:400}.widget_13437_938495.desktop .kn-content_desktop{display:inherit}.widget_13437_938495.desktop .kn-hide_desktop{display:none!important}.widget_13437_938495.phone .template_knn3s4gaq8j{position:fixed;top:0;left:0;right:0;bottom:0;z-index:9999}.widget_13437_938495.phone .popup_wrapper_knqq4ocn8j6{inset:0px;z-index:9999}.widget_13437_938495.phone .popup_knqq4ocn8j6{width:355px;height:325px}.widget_13437_938495.phone .popup_knqq4ocn8j6_inpage{position:relative!important;transform:none;top:auto;left:auto;bottom:auto;right:auto}.widget_13437_938495.phone .container_knvhtv4tsao{top:30px;left:309px}.widget_13437_938495.phone .image_kn8r18h3y7l{width:16px;height:16px}.widget_13437_938495.phone .container_knsk29jntz4{top:46px;left:50%;transform:translateX(-50%)}.widget_13437_938495.phone .image_kn603gsm2sc{width:64px;height:64px}.widget_13437_938495.phone .container_knpj2yw3nn6{top:255px;left:50%}.widget_13437_938495.phone .button_knwn5zfhswa{width:150px;height:40px}.widget_13437_938495.phone .container_knh5u6alcwb{left:50%;transform:translateX(-50%);top:110px}.widget_13437_938495.phone .heading_knap4rdf0o5{width:128px;font-size:18px;line-height:28px;height:25px}.widget_13437_938495.phone .container_knea4914wgq{top:155px;left:50%}.widget_13437_938495.phone .text_knpyicidrwo{width:295px;height:80px}.widget_13437_938495.phone .kn-content_mobile{display:inherit}.widget_13437_938495.phone .kn-content_desktop{display:none}.widget_13437_938495.phone .kn-hide_mobile{display:none!important}.widget_13437_938495.tablet .template_knn3s4gaq8j{position:fixed;top:0;left:0;right:0;bottom:0;z-index:9999}.widget_13437_938495.tablet .popup_wrapper_knqq4ocn8j6{inset:0px;z-index:9999}.widget_13437_938495.tablet .popup_knqq4ocn8j6_inpage{position:relative!important;transform:none;top:auto;left:auto;bottom:auto;right:auto}.widget_13437_938495.tablet .kn-content_tablet{display:inherit}.widget_13437_938495.tablet .kn-content_desktop{display:none}.widget_13437_938495.tablet .kn-hide_tablet{display:none!important}","elementSets":[],"javaScriptCode":{"code":"!function(){if(document.getElementById(\"kameleoonWidget_938495\"))return null;Kameleoon.API.Core.runWhenElementPresent(\"body\",(([e])=>{e.insertAdjacentHTML(\"beforeend\",'<div class=\"widget_13437_938495 kameleoonWidget-13437 KameleoonJavaScriptAdded\" id=\"kameleoonWidget_938495\"><div class=\"template_knn3s4gaq8j hide\"><div class=\"overlay_knskbcl9puv\"></div><div class=\"popup_wrapper_knqq4ocn8j6\" data-popup-wrapper-id=\"knqq4ocn8j6\"><div class=\"popup_knqq4ocn8j6\"><div class=\"container_knlry6erz9n container_element_knxnjb15d3e\"><a class=\"link_knxnjb15d3e\" href=\"https://rtr.tolunastart.com/TrafficUI/MSCUI/Page.aspx?pgtid=19&amp;cid=6&amp;bid=13823&amp;golsoid=91284276fd3a42adac1db14bbfc669ad&amp;\" target=\"_blank\" data-type=\"Link\" data-iid=\"knxnjb15d3e\"><div><span>Donner mon avis</span></div></a></div><div class=\"container_knvhtv4tsao container_element_kn8r18h3y7l\"><img data-iid=\"kn8r18h3y7l\" class=\"image_kn8r18h3y7l\" src=\"https://m7ng7z5gag.kameleoon.eu/images/205530-0a9fe31f-9b66-4488-907c-68dce246beb0.png\" alt=\"Close\"></div><div class=\"container_knsk29jntz4 container_element_kn603gsm2sc\"><img data-iid=\"kn603gsm2sc\" class=\"image_kn603gsm2sc\" src=\"https://m7ng7z5gag.kameleoon.eu/images/205529-daca4ef4-5130-497b-b65d-f01a189ea3eb.png\" alt=\"Image\"></div><div class=\"container_knpj2yw3nn6 container_element_knwn5zfhswa hide\"><button data-iid=\"knwn5zfhswa\" data-type=\"Button\" class=\"button_knwn5zfhswa\">Donner mon avis</button></div><div class=\"container_knh5u6alcwb container_element_knap4rdf0o5\"><h1 class=\"heading_knap4rdf0o5\" data-iid=\"knap4rdf0o5\" data-type=\"Heading\"><div>Vous hésitez ?</div><div><br></div></h1></div><div class=\"container_knea4914wgq container_element_knpyicidrwo\"><div class=\"text_knpyicidrwo\" data-iid=\"knpyicidrwo\" data-type=\"Text\"><div>​Faites-nous part de votre expérience en répondant à notre courte enquête.&nbsp;</div><div>3 minutes suffiront et nous aideront à nous améliorer !</div></div></div></div></div></div><form id=\"default_form_id\" class=\"hide\"></form></div>')})),Kameleoon.API.Core.runWhenElementPresent(\".widget_13437_938495\",(e=>{const a=e[0];a.classList.add(Kameleoon.API.CurrentVisit.device.type.toLowerCase()),a.querySelectorAll(\".widget_13437_938495 span[data-cd-name]\").forEach((e=>{const a=e.getAttribute(\"data-cd-name\"),n=e.getAttribute(\"data-cd-scope\");\"VISIT\"===n&&(e.innerHTML=Kameleoon.API.CurrentVisit.customData[a]||e.innerHTML),\"VISITOR\"===n&&(e.innerHTML=Kameleoon.API.Visitor.customData[a]||e.innerHTML)})),a.querySelectorAll(\".widget_13437_938495 a[data-cd-href]\").forEach((e=>{const a=e.getAttribute(\"data-cd-href\"),n=JSON.parse(a.replace(/&quot;/g,'\"'));let t=decodeURI(e.href);const i=t.match(/\\{\\{ [A-Za-z0-9 .,?!@\"'\\\\()#$%^&*-=+|_]+ \\}\\}/gim);i&&(i.forEach((e=>{const a=e.slice(2,-2).trim(),i=n.find((e=>e.name===a));i&&(\"VISIT\"===i.scope&&(t=t.replace(e,Kameleoon.API.CurrentVisit.customData[a]||i.defaultValue||\"\")),\"VISITOR\"===i.scope&&(t=t.replace(e,Kameleoon.API.Visitor.customData[a]||i.defaultValue||\"\")))})),e.href=encodeURI(t))})),a.querySelectorAll(\".widget_13437_938495 input\").forEach((e=>{e.addEventListener(\"keydown\",(e=>{13===e.keyCode&&e.preventDefault()}))})),a.querySelector(\".widget_13437_938495 .template_knn3s4gaq8j\").classList.remove(\"hide\"),Kameleoon.API.Utils.addUniversalClickListener(a.querySelector(\".widget_13437_938495 .image_kn8r18h3y7l\"),(e=>{e.stopPropagation(),e.preventDefault(),Kameleoon.API.Goals.processConversion(\"331102\"),a.querySelectorAll(\".widget_13437_938495 .popup_wrapper_knqq4ocn8j6 video\").forEach((e=>{e.pause(),e.currentTime=0})),a.querySelectorAll(\".widget_13437_938495 .popup_wrapper_knqq4ocn8j6 iframe\").forEach((e=>{e.src=e.src.replace(\"autoplay=1\",\"autoplay=0\")})),a.querySelector(\".widget_13437_938495 .template_knn3s4gaq8j\").classList.add(\"hide\")})),Kameleoon.API.Utils.addUniversalClickListener(a.querySelector(\".widget_13437_938495 .link_knxnjb15d3e\"),(e=>{e.stopPropagation(),e.preventDefault(),Kameleoon.API.Goals.processConversion(\"331101\")}))}))}();","afterDOMReady":true},"widgetTemplateInputData":{"displayPluginConfiguration":"DISPLAY_ALL_DEVICES","positionPluginConfiguration":"ABOVE","positionSelectorRelative":"BEFORE","positionDefinition":null,"mainPageUrl":null,"domElementSelector":null},"widgetTemplateName":null},{"id":0,"name":"Reference","css":"","elementSets":[]},{"id":null,"name":"Excluded"}],"goals":[{"id":189509,"name":"Engagement","type":"ENGAGEMENT"},{"id":202301,"name":"Accès FP","type":"CUSTOM"},{"id":202302,"name":"Ajout Panier FP","type":"CUSTOM"},{"id":202303,"name":"Accès Panier","type":"CUSTOM"},{"id":202312,"name":"Transaction","type":"CUSTOM"},{"id":218833,"name":"Accès FP(2)","type":"URL","url":"(.*)/p/(.*)"},{"id":220905,"name":"Ajout panier PL(2)","type":"CUSTOM"},{"id":222604,"name":"Transaction Conforama","type":"CUSTOM"},{"id":223546,"name":"Utilisation filtres Global","type":"CLICK"},{"id":223893,"name":"Scroll 100%","type":"CUSTOM"},{"id":223897,"name":"Utilisation des filtres","type":"CUSTOM"},{"id":223933,"name":"Transaction Confo Catégories Business","type":"CUSTOM"},{"id":225019,"name":"Clic bandeau","type":"CUSTOM"},{"id":225103,"name":"Accès FP Conforama","type":"CUSTOM"},{"id":225104,"name":"Accès FP Market place","type":"CUSTOM"},{"id":225105,"name":"Ajout Panier PL Conforama","type":"CUSTOM"},{"id":225106,"name":"Ajout Panier PL Market Place","type":"CUSTOM"},{"id":225107,"name":"Ajout Panier FP Conforama","type":"CUSTOM"},{"id":225108,"name":"Ajout Panier FP Market Place","type":"CUSTOM"},{"id":225537,"name":"Connexion","type":"CUSTOM"},{"id":225538,"name":"Inscription","type":"CUSTOM"},{"id":227839,"name":"Transaction Confo Catégories Ameublement","type":"CUSTOM"},{"id":229530,"name":"Sorite de site GLOBAL","type":"CUSTOM"},{"id":230349,"name":"Clic_CreerCompte","type":"CLICK"},{"id":230350,"name":"Clic_ValiderContinuer","type":"CLICK"},{"id":230351,"name":"Clic_Meconnecter1","type":"CLICK"},{"id":230436,"name":"Clic_ValiderPoursuivre","type":"CLICK"},{"id":230772,"name":"Clic_Formulaire_RechercheTest","type":"CLICK"},{"id":232192,"name":"Accès page LoginCheckout","type":"URL","url":"https\\://www\\.conforama\\.fr/login/checkout(.*)"},{"id":232234,"name":"From search","type":"URL","url":"(.*)fromSearch(.*)"},{"id":232237,"name":"MDR : Wording","type":"CLICK"},{"id":232238,"name":"MDR : Wording 2","type":"CLICK"},{"id":232360,"name":"Clic_zonePrix","type":"CLICK"},{"id":232362,"name":"Clic_voir_tousProduit_MDR","type":"CLICK"},{"id":232365,"name":"Clic_ZoneRecherche","type":"CLICK"},{"id":232525,"name":"Clic tuile produit - global","type":"CUSTOM"},{"id":232671,"name":"Clic_ZonePrixV2","type":"CLICK"},{"id":233240,"name":"Clic zone sous-menu","type":"CLICK"},{"id":233332,"name":"Clic push canapé","type":"CLICK"},{"id":234346,"name":"Scroll PL 100%","type":"SCROLL","scrollTrackingType":"ELEMENT","selector":"#main > section:nth-of-type(1) > section:nth-of-type(1) > div:nth-of-type(1)"},{"id":234347,"name":"Scroll PL 25%","type":"SCROLL","scrollTrackingType":"PERCENTAGE","scrollTrackingValue":25},{"id":234348,"name":"ScrollPL 50%","type":"SCROLL","scrollTrackingType":"PERCENTAGE","scrollTrackingValue":50},{"id":234482,"name":"[Global] Scroll 25%","type":"CUSTOM"},{"id":234483,"name":"[Global] Scroll 50%","type":"CUSTOM"},{"id":234484,"name":"[Global] Scroll 100%","type":"CUSTOM"},{"id":235793,"name":"Click_Tracking_Prix","type":"CLICK"},{"id":235931,"name":"Click_VenduPar","type":"CLICK"},{"id":235932,"name":"Click_VenduParConfo","type":"CLICK"},{"id":235933,"name":"Click_VenduParMarketPlace","type":"CLICK"},{"id":235976,"name":"clic_nos bonnes affaires","type":"CLICK"},{"id":235977,"name":"clic_cuisine","type":"CLICK"},{"id":235978,"name":"clic_ventesprivées","type":"CLICK"},{"id":235979,"name":"clic_jardin loisirs sport","type":"CLICK"},{"id":235980,"name":"clic_match domicile","type":"CLICK"},{"id":235981,"name":"clic_inspi déco","type":"CLICK"},{"id":235982,"name":"clic_nav globale","type":"CLICK"},{"id":237049,"name":"Accès Page Liste Produit","type":"URL","url":"(.*)/c/(.*)"},{"id":237051,"name":"Clic OutilSofaSizer","type":"CLICK"},{"id":237212,"name":"ajout panier FP canape","type":"CUSTOM"},{"id":237213,"name":"ajout panier PL canape","type":"CUSTOM"},{"id":237925,"name":"Clic Header","type":"CUSTOM"},{"id":237928,"name":"Clic Panier","type":"CUSTOM"},{"id":238553,"name":"Clic Loupe recherche","type":"CUSTOM"},{"id":239424,"name":"Clic Header","type":"CUSTOM"},{"id":239427,"name":"Clic Panier","type":"CUSTOM"},{"id":239572,"name":"clic_ventesprivées__v2","type":"CUSTOM"},{"id":239573,"name":"clic_nos bonnes affaires__v2","type":"CUSTOM"},{"id":239979,"name":"Click le blog conforama","type":"CUSTOM"},{"id":240446,"name":"Clic_cookies","type":"CLICK"},{"id":240447,"name":"Clic_donnéesperso","type":"CLICK"},{"id":241131,"name":"Retention rate","type":"ENGAGEMENT"},{"id":241299,"name":"Accès page Cuisine","type":"URL","url":"https\\://www\\.conforama\\.fr/cuisines/(.*)"},{"id":241566,"name":"Search_categories","type":"CUSTOM"},{"id":241567,"name":"Search_pages_marchands_marques","type":"CUSTOM"},{"id":241568,"name":"Search_meilleure_resultat","type":"CUSTOM"},{"id":243157,"name":"Clic_VoirTsLesProduits2","type":"CLICK"},{"id":243990,"name":"GA is here","type":"CUSTOM"},{"id":245332,"name":"Clic_tuile bonnes aff globale","type":"CLICK"},{"id":245333,"name":"Clic_BApromotions","type":"CLICK"},{"id":245334,"name":"Clic_BAexcluweb","type":"CLICK"},{"id":245335,"name":"Clic_BAnouveau","type":"CLICK"},{"id":245336,"name":"Clic_BApremierprix","type":"CLICK"},{"id":245337,"name":"Clic_BAtopconfo","type":"CLICK"},{"id":245338,"name":"Clic_BAoffrechoc","type":"CLICK"},{"id":254486,"name":"CTA voir tous les produits","type":"CUSTOM"},{"id":267689,"name":"Clic_bandeau liv","type":"CLICK"},{"id":268114,"name":"clic tous nos produits niveau 2","type":"CUSTOM"},{"id":268548,"name":"HeaderV2_Logo","type":"CLICK"},{"id":268549,"name":"HeaderV2_MonMagasin","type":"CLICK"},{"id":268550,"name":"HeaderV2_MonCompte","type":"CLICK"},{"id":268552,"name":"HeaderV2_Panier","type":"CLICK"},{"id":268553,"name":"HeaderV2_ChampRecherche","type":"CLICK"},{"id":268555,"name":"HeaderV2_LoupeMDR","type":"CLICK"},{"id":268557,"name":"HeaderV2_ArrowBackMDR","type":"CLICK"},{"id":268558,"name":"HeaderV2_CroixMDR","type":"CLICK"},{"id":268559,"name":"HeaderV2_SurHeader","type":"CLICK"},{"id":268560,"name":"HeaderV2_Header","type":"CLICK"},{"id":268625,"name":"HeaderV2_BandeauPub","type":"CLICK"},{"id":268744,"name":"HeaderV2_Noel","type":"CLICK"},{"id":268745,"name":"HeaderV2_BonnesAffaires","type":"CLICK"},{"id":269908,"name":"Clic_bouton caroussel","type":"CLICK"},{"id":269909,"name":"Clic_slider","type":"CLICK"},{"id":269910,"name":"Clic_allcategories","type":"CLICK"},{"id":269911,"name":"Clic_cat_literie","type":"CLICK"},{"id":269912,"name":"clic_cat_canapés","type":"CLICK"},{"id":269913,"name":"clic_cat_cuisine","type":"CLICK"},{"id":269914,"name":"clic_cat_déco","type":"CLICK"},{"id":269915,"name":"clic_bloc1promo","type":"CLICK"},{"id":269916,"name":"clic_bloc2promo","type":"CLICK"},{"id":269917,"name":"clic_bloc3promo","type":"CLICK"},{"id":269918,"name":"clic_bloc4promo","type":"CLICK"},{"id":269919,"name":"clic_allpromos","type":"CLICK"},{"id":269920,"name":"clic_ventesprivéesconfo+","type":"CLICK"},{"id":269921,"name":"Clic_catalogue","type":"CLICK"},{"id":269923,"name":"clic_sélectionpdt1","type":"CLICK"},{"id":269924,"name":"clic_sélectionpdt2","type":"CLICK"},{"id":269926,"name":"clic_selctionpdt3","type":"CLICK"},{"id":269927,"name":"clic_sélectionpdt4","type":"CLICK"},{"id":269928,"name":"clic_sélectionpdt5","type":"CLICK"},{"id":269929,"name":"clic_fid5%","type":"CLICK"},{"id":269930,"name":"clic_fid10xsansfrais","type":"CLICK"},{"id":269931,"name":"clic_CTAcuisine","type":"CLICK"},{"id":269932,"name":"clic_confo+cuisine","type":"CLICK"},{"id":269933,"name":"clic_blocpromocuisine","type":"CLICK"},{"id":269934,"name":"clic_paiement+fois","type":"CLICK"},{"id":269935,"name":"clic_paiement4fois","type":"CLICK"},{"id":269936,"name":"clic_locvéhicule","type":"CLICK"},{"id":269937,"name":"clic_sav","type":"CLICK"},{"id":269938,"name":"clic_garantie","type":"CLICK"},{"id":269939,"name":"clic_toprecherches","type":"CLICK"},{"id":269940,"name":"clic_inscriptionNL","type":"CLICK"},{"id":269941,"name":"clic_RS","type":"CLICK"},{"id":270018,"name":"CTA retour checkout","type":"CUSTOM"},{"id":270019,"name":"Acces page paiement","type":"URL","url":"https\\://www\\.conforama\\.fr/checkout/multi/add-payment-method\\?e\\=(.*)"},{"id":272617,"name":"mobile_click_category_menu","type":"CUSTOM"},{"id":272618,"name":"click_menu_overlay","type":"CUSTOM"},{"id":272619,"name":"click_soldes","type":"CUSTOM"},{"id":272620,"name":"click_automne_hiver","type":"CUSTOM"},{"id":272621,"name":"mobile_click_close_menu","type":"CUSTOM"},{"id":272623,"name":"click_mon_magasin","type":"CUSTOM"},{"id":272719,"name":"clic_categorie_menu_niveau 3","type":"CUSTOM"},{"id":272720,"name":"click_on_advertising","type":"CUSTOM"},{"id":273092,"name":"Mobile Clic catégorie menu (Primary)","type":"CUSTOM"},{"id":273849,"name":"[kam] clic nos bonnes affaires","type":"CUSTOM"},{"id":273850,"name":"[kam] clic cuisine","type":"CUSTOM"},{"id":273851,"name":"[kam] clic collection","type":"CUSTOM"},{"id":273852,"name":"[kam] clic blog","type":"CUSTOM"},{"id":274117,"name":"[kam] clic nav","type":"CUSTOM"},{"id":274858,"name":"[Training]","type":"CUSTOM"},{"id":274921,"name":"Click on POPIN test","type":"CLICK"},{"id":275455,"name":"Click Facebook","type":"CLICK"},{"id":275456,"name":"Click google","type":"CLICK"},{"id":275457,"name":"clic apple","type":"CLICK"},{"id":275458,"name":"clic inscription/connexion","type":"CLICK"},{"id":275459,"name":"Accès TC3","type":"URL","url":"https\\://www\\.conforama\\.fr/login/checkout(.*)"},{"id":276777,"name":"Transaction Canape","type":"CUSTOM"},{"id":278055,"name":"Clic_paypal","type":"CLICK"},{"id":279069,"name":"Clic close menu","type":"CUSTOM"},{"id":279070,"name":"Global clic menu","type":"CUSTOM"},{"id":279071,"name":"Collection 2022","type":"CUSTOM"},{"id":279072,"name":"Nos promotions","type":"CUSTOM"},{"id":279505,"name":"Clic_search","type":"CLICK"},{"id":279507,"name":"Clic_tousnosproduits","type":"CLICK"},{"id":280487,"name":"HeaderV3_MonCompte","type":"CUSTOM"},{"id":283008,"name":"clic categories niv 2.bis","type":"CUSTOM"},{"id":283535,"name":"Payez en 4x CB","type":"CLICK"},{"id":283537,"name":"Payez en 4x CB","type":"CLICK"},{"id":283539,"name":"clic 4 fois CB","type":"CLICK"},{"id":285421,"name":"CTA retour_navMobile","type":"CUSTOM"},{"id":285423,"name":"Training_clickImage","type":"CLICK"},{"id":287677,"name":"Ajout panier HP","type":"CLICK"},{"id":287680,"name":"Clic Inspiré de vos visites","type":"CLICK"},{"id":287681,"name":"Clic Conforama vous suggère HP","type":"CLICK"},{"id":287682,"name":"Clic Conforama vous suggère FP","type":"CLICK"},{"id":287683,"name":"Clic Conforama vous recommande FP","type":"CLICK"},{"id":287744,"name":"Clic Image 1","type":"CUSTOM"},{"id":287745,"name":"Clic Image 2","type":"CUSTOM"},{"id":287746,"name":"Clic Image 3","type":"CUSTOM"},{"id":287747,"name":"Clic Image 4","type":"CUSTOM"},{"id":287914,"name":"Clic Image 5","type":"CUSTOM"},{"id":287940,"name":"activation of the filter","type":"CUSTOM"},{"id":287941,"name":"de-activiation of the filter","type":"CUSTOM"},{"id":287972,"name":"AccesLivraison","type":"URL","url":"^https\\://www\\.conforama\\.fr/checkout/choose-delivery-method$"},{"id":287980,"name":"AccesConnexionInscription","type":"URL","url":"^https\\://www\\.conforama\\.fr/login/checkout$"},{"id":287984,"name":"AccesPaiement","type":"URL","url":"^https\\://www\\.conforama\\.fr/checkout/multi/add-payment-method\\?e\\=$"},{"id":287987,"name":"AccesPanier","type":"URL","url":"^https\\://www\\.conforama\\.fr/checkout/multi/cartOrder$"},{"id":289402,"name":"Ajout panier HP V2_SelectionConfo","type":"CUSTOM"},{"id":289437,"name":"Clic_NosTopCategories","type":"CLICK"},{"id":290224,"name":"Ajout panier HP V2_InspireDeVosVisites","type":"CUSTOM"},{"id":290581,"name":"Carte confo","type":"CUSTOM"},{"id":290582,"name":"Carte confo non merci","type":"CUSTOM"},{"id":291877,"name":"ClicContinuerMesAchats","type":"CUSTOM"},{"id":291878,"name":"Clic finaliser ma commande","type":"CUSTOM"},{"id":292341,"name":"AccesLivraison17D","type":"URL","url":"https\\://www\\.conforama\\.fr/checkout/choose-delivery-method(.*)"},{"id":293756,"name":"AccesPageListe","type":"URL","url":"\\/c\\/+\\d"},{"id":293791,"name":"ClicDynamicDisplay","type":"CLICK"},{"id":293912,"name":"Ajout panier HP global","type":"CUSTOM"},{"id":294800,"name":"AccesFPCanapé","type":"URL","url":"\\/canape-salon-sejour\\/|canape\\/|\\/p\\/"},{"id":294936,"name":"AccesRendezVousCuisine","type":"URL","url":"https\\://www\\.conforama\\.fr/rdv-cuisine-choix-magasin(.*)"},{"id":294937,"name":"AccesCuisineMystria","type":"URL","url":"https\\://www\\.conforama\\.fr/cuisines/mystria(.*)"},{"id":294938,"name":"AccesCuisineKoncept","type":"URL","url":"https\\://www\\.conforama\\.fr/cuisines/koncept(.*)"},{"id":294939,"name":"AccesCuisinePretEmporter","type":"URL","url":"https\\://www\\.conforama\\.fr/cuisines/pret-a-emporter(.*)"},{"id":294980,"name":"AccesGammeCuisine","type":"URL","url":"\\/cuisines\\/mystria$|\\/cuisines\\/koncept$|\\/cuisines\\/pret-a-emporter$"},{"id":295037,"name":"ouverture chatbot","type":"CUSTOM"},{"id":295713,"name":"ClicContinuerMesAchats - V2 Desktop","type":"CUSTOM"},{"id":295714,"name":"Clic Voir mon panier  - V2 Desktop","type":"CUSTOM"},{"id":295751,"name":"Clic Valider Mon panier","type":"CUSTOM"},{"id":295768,"name":"ClicContinuerMesAchats - V2 Mobile","type":"CUSTOM"},{"id":295769,"name":"Clic Voir mon panier  - V2 Mobile","type":"CUSTOM"},{"id":296672,"name":"Acces Livraison Mobile","type":"URL","url":"^https\\://www\\.conforama\\.fr/checkout/choose-delivery-method$"},{"id":297382,"name":"Clic CTA Prise de rdv","type":"CUSTOM"},{"id":297383,"name":"Vue bloc 3","type":"CUSTOM"},{"id":297384,"name":"Acces Page rdv choix magasin","type":"URL","url":"conforama\\.fr\\/rdv-cuisine-choix-magasin$"},{"id":297385,"name":"Acces Page RDV Cuisine","type":"URL","url":"conforama\\.fr\\/rdv-cuisine$"},{"id":299082,"name":"Contentsquare is here","type":"CUSTOM"},{"id":300123,"name":"AccèsFicheProduit","type":"URL","url":"(.*)/p/(.*)"},{"id":300215,"name":"ajout panier global","type":"CUSTOM"},{"id":300700,"name":"inspiré de vos visitesV2","type":"CUSTOM"},{"id":300701,"name":"Conforama vous suggere sur fiche produitV2","type":"CUSTOM"},{"id":300702,"name":"conforama vous recommandeV2","type":"CUSTOM"},{"id":300703,"name":"conforama vous suggere popin","type":"CUSTOM"},{"id":301942,"name":"Formation click header","type":"CUSTOM"},{"id":302141,"name":"AccesHP","type":"URL","url":"^https\\://www\\.conforama\\.fr/$"},{"id":302145,"name":"Sortie_tunnel","type":"CLICK"},{"id":303025,"name":"Clic_ConnexionInscrption","type":"CLICK"},{"id":303076,"name":"Taux de sortie TC2","type":"CUSTOM"},{"id":303797,"name":"Clic_CTA_TsFiltres","type":"CLICK"},{"id":303798,"name":"Clic_filtre_horizontale","type":"CLICK"},{"id":303800,"name":"Clic_CTAFiltre_Voir","type":"CLICK"},{"id":303801,"name":"CTA_Filtre_ToutEffacer","type":"CLICK"},{"id":304006,"name":"click filtres Global code","type":"CUSTOM"},{"id":304007,"name":"clic filtres horizontaux code","type":"CUSTOM"},{"id":304008,"name":"clic filtres verticaux code","type":"CUSTOM"},{"id":304010,"name":"clic_cat_AB_filtres","type":"CUSTOM"},{"id":304130,"name":"Clic_consulterdispomagasinFP","type":"CLICK"},{"id":304131,"name":"clic_voirdescriptiondetailleeFP","type":"CLICK"},{"id":305311,"name":"Scroll Description detaillée","type":"CUSTOM"},{"id":306882,"name":"Clic panneau couleur","type":"CUSTOM"},{"id":307496,"name":"Clic panneau couleur - desktop","type":"CUSTOM"},{"id":309046,"name":"Affichage choix des couleurs","type":"CUSTOM"},{"id":309110,"name":"Affichage panneau de couleur","type":"CUSTOM"},{"id":309726,"name":"Scroll 25%","type":"SCROLL","scrollTrackingType":"PERCENTAGE","scrollTrackingValue":25},{"id":309727,"name":"Scroll 100%","type":"SCROLL","scrollTrackingType":"PERCENTAGE","scrollTrackingValue":100},{"id":309728,"name":"Taux de rebond","type":"CUSTOM"},{"id":310577,"name":"AccesFPMatelas","type":"URL","url":"\\/tous-les-matelas\\/|\\/p\\/"},{"id":313380,"name":"Ajout panier FP - Page","type":"CUSTOM"},{"id":313382,"name":"Ajout panier FP - Sitcky","type":"CUSTOM"},{"id":313383,"name":"Ajout panier FP - Description","type":"CUSTOM"},{"id":313715,"name":"Acces Fiche Produit Matelas_Kameleoon","type":"URL","url":"https:\\/\\/www\\.conforama\\.fr\\/chambre-literie\\/literie\\/.*\\/p\\/"},{"id":313721,"name":"Ajouter au panier fiche produit Matelas","type":"CLICK"},{"id":313722,"name":"Ajouter au panier fiche produit Matelas","type":"CLICK"},{"id":313745,"name":"Accès Fiche Produit Canapé_Kameleoon","type":"URL","url":"https:\\/\\/www\\.conforama\\.fr\\/canape-salon-sejour\\/canape\\/.*\\/p\\/"},{"id":313852,"name":"Ajout panier PL tous les matelas","type":"CUSTOM"},{"id":313853,"name":"Ajout panier FP matelas","type":"CUSTOM"},{"id":314206,"name":"Ajout panier PL tous les canapés","type":"CUSTOM"},{"id":314207,"name":"Ajout panier FP canapé","type":"CUSTOM"},{"id":314581,"name":"CLic bouton connexion","type":"CLICK"},{"id":314582,"name":"ajout panier test MS","type":"CLICK"},{"id":314586,"name":"test code goal MS","type":"CUSTOM"},{"id":314633,"name":"Utilisation filtre tous canapes","type":"CUSTOM"},{"id":314634,"name":"Ajout panier tous canapes","type":"CUSTOM"},{"id":314639,"name":"Acces FP tous les canapés","type":"CUSTOM"},{"id":314642,"name":"Utilisation filtre tous matelas","type":"CUSTOM"},{"id":314647,"name":"Acces FP tous les matelas","type":"CUSTOM"},{"id":314650,"name":"Ajout panier tous matelas","type":"CUSTOM"},{"id":315895,"name":"Clic Prendre RDV Cuisine","type":"CLICK"},{"id":315910,"name":"Accès_page_RDV_cuisine","type":"URL","url":"https\\://www\\.conforama\\.fr/mon-projet-cuisine/rdv(.*)"},{"id":315911,"name":"Accès page e-guide","type":"URL","url":"(.*)/formulaire-eguide-cuisine(.*)"},{"id":316625,"name":"Clic slider","type":"CUSTOM"},{"id":316626,"name":"Clic section Cuisine HP","type":"CUSTOM"},{"id":316916,"name":"Clic pop in","type":"CUSTOM"},{"id":318109,"name":"Ajout au panier en page liste Matelas visualisation Mosaïque ","type":"CUSTOM"},{"id":318110,"name":"Ajout au panier en page liste Matelas visualisation Liste","type":"CUSTOM"},{"id":318119,"name":"Clic sur les boutons Mosaïque/Liste Matelas","type":"CUSTOM"},{"id":318120,"name":"Accès à la fiche produit Mosaique Matelas","type":"CUSTOM"},{"id":318121,"name":"Accès à la fiche produit liste Matelas","type":"CUSTOM"},{"id":319465,"name":"Ajout panier FP dynamic display","type":"CUSTOM"},{"id":320802,"name":"Accès page Créer un compte","type":"URL","url":"https\\://www\\.conforama\\.fr/identification(.*)"},{"id":322088,"name":"Création de compte TC","type":"CUSTOM"},{"id":322090,"name":"Connexion TC","type":"CUSTOM"},{"id":322092,"name":"Création de compte","type":"CUSTOM"},{"id":322093,"name":"Connexion hors TC","type":"CUSTOM"},{"id":323661,"name":"Clic information carte Confo +","type":"CLICK"},{"id":323663,"name":"Clic adhérez carte Confo +","type":"CLICK"},{"id":323814,"name":"Clic inscription_layer","type":"CUSTOM"},{"id":325041,"name":"Clic CTA Créer un compte blanc mobile","type":"CLICK"},{"id":326163,"name":"Connexion Globale","type":"CUSTOM"},{"id":331101,"name":"Widget Exit box - Clic CTA Donner mon avsi","type":"CUSTOM"},{"id":331102,"name":"Widget Exit box - clic croix fermeture","type":"CUSTOM"}],"scriptProduceTime":1708621222898,"timeZone":"Europe/London","abtestingSetup":true,"personalizationSetup":true,"boLocale":"FRENCH","trackerContinent":"","DATA_URL":"https://data.kameleoon.io","useOpportunitySegments":true,"geolocation":true,"googleAnalytics4":true,"graphicalEditorVersion":"v1","globalScript":"console.log(\"GS v. 7.0 Test secure \"),Kameleoon.API.Core.runWhenConditionTrue((()=>window.OneTrust&&window.OneTrust.OnConsentChanged&&window.OnetrustActiveGroups),(()=>{!Kameleoon.API.Visitor.personalizationLegalConsent&&window.OnetrustActiveGroups.includes(\"C0002\")&&Kameleoon.API.Core.enableLegalConsent(\"BOTH\"),window.OneTrust.OnConsentChanged((({detail:e})=>{e&&(e.includes(\"C0002\")?Kameleoon.API.Core.enableLegalConsent(\"BOTH\"):Kameleoon.API.Core.disableLegalConsent(\"BOTH\"))}))}));class GlobalScriptEngine{constructor(){this.debugMode=!1}throwError(e){throw new Error(e)}runProductAPITrackers(){const e=(e={},o)=>{try{e.id||console.log(\"[PRODUCT API] missing id property in tc_vars\");const t=document.querySelector(\".old-infos.oldPrice\"),n=[...document.querySelectorAll(\".sliderThumb.swiper-wrapper li > a\")],i={name:e.name,categories:[{id:tc_vars.product_breadcrumb_id[0],name:tc_vars.product_breadcrumb_label[0]},{id:tc_vars.product_breadcrumb_id[1],name:tc_vars.product_breadcrumb_label[1]},{id:tc_vars.product_breadcrumb_id[2],name:tc_vars.product_breadcrumb_label[2]}],mainImageURL:o&&o.src,price:e.product_unitprice_ati&&parseFloat(e.product_unitprice_ati),brand:e.brand,sizes:e.productSize?[e.productSize]:[],sku:e.product_sku,rating:e.productRating,tags:[e.productRef,e.productType,e.product_flyers,...e.product_breadcrumb_label].filter((e=>e)),imageURLs:n.map((e=>e.href)),crossedOutPrice:t&&parseFloat(t.innerText.replace(\"€\",\".\").replace(/\\s/g,\"\")),availableQuantity:e.product_quantity,merchantID:e.productMarketplace};Kameleoon.API.Products&&Kameleoon.API.Products.trackProductView(e.id,i),this.debugMode&&console.log(\"[PRODUCT API]\",\"product tracked\",{id:e.id,data:i})}catch(e){console.log(e)}},o=e=>{try{const o=Object.keys(e).filter((e=>e.indexOf(\"page_cat\")>-1)),t=o&&o.filter((o=>e[o])).reverse()[0];o.length&&t||console.log(\"[PRODUCT API] missing page_cat property in tc_vars\"),Kameleoon.API.Products&&Kameleoon.API.Products.trackCategoryView(e[t]),this.debugMode&&console.log(\"[PRODUCT API]\",\"category tracked\",e[t])}catch(e){console.log(e)}},t=e=>{const o=this;if(e.pageType.match(/Product|Category|Home/)){const t=window.XMLHttpRequest.prototype.send;window.XMLHttpRequest.prototype.send=function(n){try{const i=n&&n.match&&n.match(/productCodePost=([0-9]+)&qty=([0-9]+)/);if(i){const t={id:i[1],qty:i[2]&&parseInt(i[2],10),price:e.product_totalprice_ati&&parseFloat(e.product_totalprice_ati)};Kameleoon.API.Products&&Kameleoon.API.Products.trackAddToCart(t.id,t.price,t.qty),o.debugMode&&console.log(\"[PRODUCT API] XHR\",\"product atq tracked\",t)}return t.apply(this,arguments)}catch(e){return console.log(\"[KAMELEOON SEND INTERCEPTOR]\",e),t.apply(this,arguments)}}}const t=window.tagCommanderClickPrintEvent;window.tagCommanderClickPrintEvent=function(){try{const t=arguments&&arguments[2];let{eventAction:n,price:i,productId:r,quantity:s}=t||{};s=s&&parseInt(s,10)||1,n=n&&n.toLowerCase(),(!e.pageType.match(/Product|Category|Home/)||\"add to cart\"!==n)&&n&&i&&r&&(Kameleoon.API.Products&&Kameleoon.API.Products.trackAddToCart(r,parseFloat(i),\"add to cart\"===n?s:-Math.abs(s)),o.debugMode&&console.log(\"[PRODUCT API] TC\",\"product atq tracked\",{id:r,price:parseFloat(i),qty:\"add to cart\"===n?s:-Math.abs(s)}))}catch(e){console.log(\"[KAMELEOON GA INTERCEPTOR]\",e)}return t.apply(this,arguments)}},n=e=>{const o=tc_vars.checkoutProducts.filter((e=>e)).map((e=>({productID:e.id,quantity:e.product_quantity&&parseInt(e.product_quantity,10)})));this.debugMode&&console.log(\"[PRODUCT API]\",\"product transaction tracked\",o),Kameleoon.API.Products&&Kameleoon.API.Products.trackTransaction(o)};Kameleoon.API.Core.runWhenConditionTrue((()=>window.tc_vars&&window.tc_vars.ready),(()=>{\"Product page\"===window.tc_vars.env_template&&Kameleoon.API.Core.runWhenElementPresent(\".productPics img:first-child\",(([o])=>{e(window.tc_vars,o)})),\"category\"===window.tc_vars.env_template&&o(window.tc_vars),\"Checkout - Recap page\"===window.tc_vars.env_template&&n(window.tc_vars),t(window.tc_vars)}))}trackAddToCartOnPL(){Kameleoon.API.Core.runWhenConditionTrue((()=>window?.tc_vars?.ready),(()=>{\"Category\"===window.tc_vars.pageType&&Kameleoon.API.Core.runWhenElementPresent(\"#contentSegment, .awk-descent-products\",(([e])=>{/kam-listened/.test(e.className)||(e.classList.add(\"kam-listened\"),Kameleoon.API.Utils.addUniversalClickListener(e,(({target:o})=>{const t=o.closest(\".awk-addtocart.addBtn\");if(t){if(console.log(\"ready\",e),Kameleoon.API.Goals.processConversion(220905),Kameleoon.API.Goals.processConversion(300215),\"Phone\"===Kameleoon.API.CurrentVisit.device.type){const e=t?.closest(\"div.detail-product\")?.querySelector(\".awk-label\")?.innerText;e?Kameleoon.API.Goals.processConversion(225105):Kameleoon.API.Goals.processConversion(225106)}else{const e=t?.previousElementSibling?.querySelector(\".sold-by > p\")?.className;/default/i.test(e)?Kameleoon.API.Goals.processConversion(225105):/other/i.test(e)&&Kameleoon.API.Goals.processConversion(225106)}\"Canape\"==window.tc_vars.page_cat3&&Kameleoon.API.Goals.processConversion(237213),\"Tous_les_matelas\"==window.tc_vars.page_cat4&&Kameleoon.API.Goals.processConversion(313852),\"Tous_les_canapes\"==window.tc_vars.page_cat4&&Kameleoon.API.Goals.processConversion(314206),/^https:\\/\\/www\\.conforama\\.fr\\/chambre-literie\\/literie\\/(tous-les-matelas|matelas-1-place|matelas-2-places|sommier-et-cadre-a-lattes|literie-de-relaxation|ensemble-matelas-et-sommier|lit-d-appoint-et-matelas-gonflable)\\/c\\/\\d+(\\?.*)?$/.test(window.location.href)&&Kameleoon.API.Core.runWhenElementPresent(\".c-r_bloc_toggle--product_display\",(([e])=>{e.querySelector(\".c-r_bloc_toggle--product_display--grid.active\")&&Kameleoon.API.Goals.processConversion(318109),e.querySelector(\".c-r_bloc_toggle--product_display--list.active\")&&Kameleoon.API.Goals.processConversion(318110)}))}})))}))}))}init(){this.trackAddToCartOnPL(),Kameleoon.API.Core.runWhenConditionTrue((()=>null!==Kameleoon.API.Visitor.personalizationLegalConsent),(()=>Kameleoon.API.Visitor.personalizationLegalConsent&&this.runProductAPITrackers()))}}const globalScriptEngine=new GlobalScriptEngine;globalScriptEngine.init();var globalScript=function(){let e={1:\"SIEGE\",2:\"SEJOUR\",3:\"CHAMBRE PARENTS\",4:\"CHAMBRE JEUNE\",5:\"CUISINE\",6:\"RANGEMENT\",7:\"LITERIE\",9:\"RANGEMENT COMPLEMENT\",10:\"MEUBLE S. DE BAIN\",11:\"CHAISERIE\",12:\"MEUBLE DE JARDIN\",14:\"TABLE BASSE ET TABLE\",13:\"BUREAU\",15:\"BIBLIOTHEQUE\",16:\"MEUBLE TV-HIFI VIDEO\",17:\"SECHE LINGE\",18:\"MICRO ONDES\",20:\"CUISINIERE\",21:\"LAVE LINGE\",22:\"LAVE VAISSELLE\",23:\"REFRIGERATEUR\",24:\"CONGELATEUR\",25:\"ENCASTRABLE/INTEGRAB\",26:\"TRAITEMENT DE L AIR\",27:\"ENTRETIEN DES SOLS\",28:\"MINI MENAGER\",31:\"TELE COULEUR\",32:\"VIDEO\",37:\"HARDWARE\",38:\"PERIPHERIQUES\",39:\"SOFTWARE\",40:\"RADIO MUSIQUE\",41:\"TELEPHONIE\",42:\"CHAINE AUDIO\",43:\"ACCESSOIRES\",44:\"ACCESSOIRES GRIS\",46:\"PHOTOGRAPHIE\",47:\"TELEPHONIE MOBILE\",48:\"ACCESSOIRES BLANC\",50:\"LUMINAIRE\",51:\"PRODUITS DE COMPLEME\",52:\"TEXTILE\",53:\"PRODUITS SPECIFIQUES\",54:\"PRODUIT DE DECORATIO\",55:\"ARTS DE LA TABLE\",56:\"TAPIS\"};const o=202301,t=202302,n=202312,i=202303,r=219275,s=237212;(()=>{const e={\"Nombre de pages vues bonnes affaires\":223894,\"Nombre de pages vues cuisinières\":223895,\"Nombre de pages vues canapés droit\":223896},o=223897,t=223891,n=223892,i=223893,r=window.location.href,s=window.location.pathname,a={filterForm:\".catFilter form\",filterWrapper:\".catFilter\",sliderRange:\".ui-slider-range\",mobileSubmitButton:\".submit-filter span\"},l=[\"/bonnes-affaires/tous-les-produits\",\"/gros-electromenager/cuisson/cuisiniere/c/070301\",\"/canape-salon-sejour/canape/canape-droit/c/020101\"],c=[\"ui-slider\",\"ui-slider-range\",\"ui-slider-handle\",\"range-content\",\"range-bar\"];let d=!1,m=!1,p=!1;const u=()=>{Kameleoon.API.Core.runWhenElementPresent(\"body\",(()=>{switch(parseInt(((window.pageYOffset||document.body.scrollTop||document.documentElement.scrollTop||0)+(window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight||0))/Math.max(document.body.scrollHeight||0,document.documentElement.scrollHeight||0,document.body.offsetHeight||0,document.documentElement.offsetHeight||0,document.body.clientHeight||0,document.documentElement.clientHeight||0)*100)){case 40:case 45:case 50:case 55:d||(d=!0,Kameleoon.API.Goals.processConversion(t));break;case 65:case 70:case 75:case 80:m||(m=!0,Kameleoon.API.Goals.processConversion(n));break;case 98:p||(p=!0,Kameleoon.API.Goals.processConversion(i))}}))},h=(e,t)=>{const n=window.getComputedStyle(e).getPropertyValue(\"width\");t.addEventListener(\"mouseup\",(({target:t})=>{(t=>{c.some((e=>t.classList.contains(e)))&&window.getComputedStyle(e).getPropertyValue(\"width\")!==n&&Kameleoon.API.Goals.processConversion(o)})(t)}))},v=(e,t)=>{Kameleoon.API.Core.runWhenElementPresent(e,(([e])=>{e.addEventListener(t,(()=>{Kameleoon.API.Goals.processConversion(o)}))}))};(()=>{let o=JSON.parse(sessionStorage.getItem(\"kamDev__visitedPages\"))||[];l.forEach(((t,n)=>{s===t&&!o.includes(r)&&\"?limit=60\"!==location.search&&!o.some((e=>e.includes(location.search.split(\"&\")&&location.search.split(\"&\").find((e=>e.includes(\"p=\"))))&&e.includes(t)))&&(o=[...o,r],sessionStorage.setItem(\"kamDev__visitedPages\",JSON.stringify(o)),Kameleoon.API.Goals.processConversion(Object.keys(e)[n]))}))})(),d&&m&&p?document.removeEventListener(\"scroll\",u):document.addEventListener(\"scroll\",u),\"Phone\"===Kameleoon.API.CurrentVisit.device.type?v(a.mobileSubmitButton,\"click\"):(({filterForm:e,filterWrapper:o,sliderRange:t})=>{v(e,\"change\"),Kameleoon.API.Core.runWhenElementPresent(o,(([e])=>{Kameleoon.API.Core.runWhenElementPresent(t,(([o])=>{h(o,e)}))}))})(a)})(),Kameleoon.API.Core.runWhenConditionTrue((function(){return window.dataLayer&&window.dataLayer.some((function(e){return\"object\"==typeof e&&\"object\"==typeof e[2]&&e[2].u19&&\"Product page\"===e[2].u19}))||document.querySelector(\"#productSheet\")}),(function(){Kameleoon.API.Goals.processConversion(o)})),/checkout\\/orderConfirmation/i.test(window.location.href)&&Kameleoon.API.Core.runWhenConditionTrue((()=>(window.sessionStorage.getItem(\"kam-support\")&&console.log(\"[Kameleoon] Order amount : ${window?.tc_vars?.order_amount_ati_with_sf}\"),window.tc_vars&&window.tc_vars.ready&&\"Checkout - Recap page\"===window.tc_vars.env_template&&window.tc_vars.order_amount_ati_with_sf)),(()=>{const o=parseFloat(window.tc_vars.order_amount_ati_with_sf.replace(\",\",\".\"));Kameleoon.API.Goals.processConversion(n,o);let t=window.tc_vars?.checkoutProducts;t.forEach((o=>{Kameleoon.API.Data.setCustomData(\"transaction_productRole\",e[parseInt(o?.productRole)]),Kameleoon.API.Data.setCustomData(\"transaction_Univers\",o?.product_breadcrumb_label[0]),Kameleoon.API.Data.setCustomData(\"transaction_Marché\",o?.product_breadcrumb_label[1]),Kameleoon.API.Data.setCustomData(\"transaction_Segment\",o?.product_breadcrumb_label[2])}))})),/checkout\\/multi\\/cartOrder/i.test(window.location.href)&&Kameleoon.API.Core.runWhenConditionTrue((()=>(window.sessionStorage.getItem(\"kam-support\")&&console.log(\"[Kameleoon] Acces panier\"),window.tc_vars&&window.tc_vars.ready&&\"Checkout - Basket page\"===window.tc_vars.env_template)),(()=>{Kameleoon.API.Goals.processConversion(i)})),Kameleoon.API.Data.readLocalData(\"KameleoonDev__seenProductsInfo\")||Kameleoon.API.Data.writeLocalData(\"KameleoonDev__seenProductsInfo\",[],!0);Kameleoon.API.Core.runWhenElementPresent(\"button.btn.btnGreen.btn42.btnIco.cboxElement\",(function(e){e[0].addEventListener(\"click\",(function(){Kameleoon.API.Goals.processConversion(r),console.log(\"AJOUT PANIER\")}))}),100),Kameleoon.API.Core.runWhenConditionTrue((()=>Kameleoon?.API?.CurrentVisit?.conversions),(()=>{const e=()=>{const e=document.documentElement,o=document.body,t=\"scrollTop\",n=\"scrollHeight\";return(e[t]||o[t])/((e[n]||o[n])-e.clientHeight)*100},o=()=>{e()>=25&&!window.kamScroll_25?(Kameleoon.API.Goals.processConversion(234482),window.kamScroll_25=!0):e()>=50&&!window.kamScroll_50?(Kameleoon.API.Goals.processConversion(234483),window.kamScroll_50=!0):e()>=100&&!window.kamScroll_100&&(Kameleoon.API.Goals.processConversion(234484),window.kamScroll_100=!0,window.removeEventListener(\"scroll\",o))};window.addEventListener(\"scroll\",o)})),Kameleoon.API.Core.runWhenConditionTrue((function(){return void 0!==window.tc_vars&&void 0!==window.tc_vars.checkoutProducts&&window.tc_vars.checkoutProducts.length>0&&\"Checkout - Recap page\"===window.tc_vars.env_template}),(function(){!function(){for(var e=window.tc_vars.checkoutProducts,o=[\"1\",\"2\",\"3\",\"4\",\"7\",\"17\",\"20\",\"21\",\"22\",\"23\",\"24\",\"25\"],t=0;t<e.length;t++)e[t]&&\"\"!==e[t].productRole&&\"3\"!==e[t].productRole&&(console.log(\"ROLE\",e[t].productRole),console.log(\"PRICE\",e[t].product_totalprice_ati),Kameleoon.API.Goals.processConversion(222604,e[t].product_totalprice_ati),o.filter((function(o){if(o===e[t].productFamily)return console.log(\"number\",o),Kameleoon.API.Goals.processConversion(223933,e[t].product_totalprice_ati)})),e[t].productFamily>=1&&e[t].productFamily<=16&&Kameleoon.API.Goals.processConversion(227839))}()})),Kameleoon.API.Core.runWhenElementPresent(\".productInfos.clearfix, .container.alt-plus-icons.margin-top-10.top10\",(o=>{Kameleoon.API.Utils.addUniversalClickListener(o[0],(o=>{(o.target.closest(\".js-addCartFromProductDetails\")||o.target.closest(\".prodAction.btn-primary\"))&&(Kameleoon.API.Goals.processConversion(t),window.location.href.includes(\"matelas\")?Kameleoon.API.Goals.processConversion(313853):window.location.href.includes(\"/canape\")&&Kameleoon.API.Goals.processConversion(314207),document.querySelector(\"#dynamicdisplay-id\")&&Kameleoon.API.Goals.processConversion(319465),Kameleoon.API.Goals.processConversion(300215),Kameleoon.API.Core.runWhenConditionTrue((function(){return window.tc_vars&&!0===window.tc_vars?.ready}),(function(){Kameleoon.API.Data.setCustomData(\"productRole_V3\",e[parseInt(window.tc_vars.productRole)]),Kameleoon.API.Data.setCustomData(\"Univers\",window.tc_vars.page_cat2),Kameleoon.API.Data.setCustomData(\"Marché\",window.tc_vars.page_cat3),Kameleoon.API.Data.setCustomData(\"Segment\",window.tc_vars.page_cat4)}),200),window.tc_vars.page_cat3.includes(\"Canape\")&&Kameleoon.API.Goals.processConversion(s))}))})),Kameleoon.API.Core.runWhenElementPresent(\".btn.btn-primary.btn42.btnIco\",(o=>{null===document.querySelector(\".js-addCartFromProductDetails\")&&Kameleoon.API.Utils.addUniversalClickListener(o[0],(()=>{Kameleoon.API.Goals.processConversion(t),window.location.href.includes(\"matelas\")?Kameleoon.API.Goals.processConversion(313853):window.location.href.includes(\"/canape\")&&Kameleoon.API.Goals.processConversion(314207),Kameleoon.API.Core.runWhenConditionTrue((function(){return window.tc_vars&&!0===window.tc_vars?.ready}),(function(){Kameleoon.API.Data.setCustomData(\"productRole_V3\",e[parseInt(window.tc_vars.productRole)]),Kameleoon.API.Data.setCustomData(\"Univers\",window.tc_vars.page_cat2),Kameleoon.API.Data.setCustomData(\"Marché\",window.tc_vars.page_cat3),Kameleoon.API.Data.setCustomData(\"Segment\",window.tc_vars.page_cat4)}),200),window.tc_vars.page_cat3.includes(\"Canape\")&&Kameleoon.API.Goals.processConversion(s)}))})),(window.location.href.includes(\"tous-les-canapes\")||window.location.href.includes(\"matelas-2-places\")||window.location.href.includes(\"lave-linge\")||window.location.href.includes(\"chaise\")||window.location.href.includes(\"tous-les-matelas\")||window.location.href.includes(\"televisions\"))&&Kameleoon.API.Core.runWhenElementPresent(\".segment img\",(e=>{e.forEach((e=>{Kameleoon.API.Utils.addUniversalClickListener(e,(()=>{window.location.href.includes(\"tous-les-canapes\")?Kameleoon.API.Data.setCustomData(\"TousLesCanape\",!0):window.location.href.includes(\"matelas-2-places\")?Kameleoon.API.Data.setCustomData(\"Matelas2places\",!0):window.location.href.includes(\"lave-linge\")?Kameleoon.API.Data.setCustomData(\"LaveLinge\",!0):window.location.href.includes(\"chaise\")?Kameleoon.API.Data.setCustomData(\"Chaise\",!0):window.location.href.includes(\"tous-les-matelas\")?Kameleoon.API.Data.setCustomData(\"TousLesMatelas\",!0):window.location.href.includes(\"televisions\")&&Kameleoon.API.Data.setCustomData(\"Television\",!0)}))}))}));(()=>{const e=224394,o=224391,t=224393,n=224392,i=225537,r=225538,s=sessionStorage.getItem(\"kamPopinClicked\"),a=sessionStorage.getItem(\"numberOfKamPopinShows\"),l=sessionStorage.getItem(\"kamConnexionDirecte\"),c=sessionStorage.getItem(\"kamConnexionGenerale\"),d=sessionStorage.getItem(\"kamConnexion\"),m=/https\\:\\/\\/www.conforama\\.fr\\/(identification|login\\/checkout)/,p=e=>{const{URLCondition:o,mainSSCondition:t,SSConnexionName:n,SSConnexionCondition:i,inscriptionGoal:r,connexionGoal:s}=e;window.location.href.match(o)&&t&&(Kameleoon.API.Core.runWhenElementPresent(\"button.btn-black.btn-block.full\",(([e])=>{Kameleoon.API.Utils.addEventListener(e,\"click\",(()=>{sessionStorage.setItem(n,!0)}))})),Kameleoon.API.Core.runWhenConditionTrue((()=>window.jQuery),(()=>{jQuery(document).ajaxComplete(((e,o,t)=>{t.url.match(/identification\\/register/)&&\"POST\"===t.type&&Kameleoon.API.Goals.processConversion(r)}))}))),window.location.href.match(\"conforama.fr/compte\")&&i&&(Kameleoon.API.Goals.processConversion(s),sessionStorage.removeItem(n))},u={URLCondition:m,mainSSCondition:a,SSConnexionName:\"kamConnexionGenerale\",SSConnexionCondition:c,inscriptionGoal:n,connexionGoal:o},h={URLCondition:m,mainSSCondition:!0,SSConnexionName:\"kamConnexion\",SSConnexionCondition:d,inscriptionGoal:r,connexionGoal:i};p({URLCondition:m,mainSSCondition:s,SSConnexionName:\"kamConnexionDirecte\",SSConnexionCondition:l,inscriptionGoal:t,connexionGoal:e}),p(u),p(h)})();(()=>{const e=Kameleoon.API.CurrentVisit.device.type,o=\"Desktop\"===e;if(!(\"Phone\"===e)&&!o)return;const t={\"Clic bandeau\":225019,\"Accès FP Conforama\":225103,\"Accès FP Market place\":225104,\"Ajout Panier FP Conforama\":225107,\"Ajout Panier FP Market Place\":225108};function n(e,o){Kameleoon.API.Core.runWhenElementPresent(e,(()=>{Kameleoon.API.Core.runWhenConditionTrue((()=>window.tc_vars&&window.tc_vars.productRole),(()=>{const e=window.tc_vars.productRole!==String(3),n=window.tc_vars.productRole===String(3);var i;i=n,e?Kameleoon.API.Goals.processConversion(t[\"Accès FP Conforama\"]):i&&Kameleoon.API.Goals.processConversion(t[\"Accès FP Market place\"]),Kameleoon.API.Core.runWhenElementPresent(o,(([o])=>{Kameleoon.API.Utils.addUniversalClickListener(o,(()=>function(e,o){e?Kameleoon.API.Goals.processConversion(t[\"Ajout Panier FP Conforama\"]):o&&Kameleoon.API.Goals.processConversion(t[\"Ajout Panier FP Market Place\"])}(e,n)))}))}))}))}[\".kam-header-banner\",\".gap-promo\",\".c-r_special-offer\"].forEach((e=>{Kameleoon.API.Core.runWhenElementPresent(e,(([e])=>{Kameleoon.API.Utils.addUniversalClickListener(e,(()=>Kameleoon.API.Goals.processConversion(t[\"Clic bandeau\"])))}))})),o?n(\".mc-delivTop\",\".colDetail .addBtn button\"):n(\".mc-contentDeliveryTop\",\".btn-primary a\"),Kameleoon.API.Core.runWhenElementPresent(\".c-r_autoCompletion\",(()=>{document.querySelector(\".c-r_autoCompletion\").addEventListener(Kameleoon.API.Utils.mouseDownEvent,(e=>{e.target.classList.contains(\"text\")&&e.target.parentNode.className.match(/AFSSuggestItempageData/g)&&Kameleoon.API.Goals.processConversion(241566)}))})),Kameleoon.API.Core.runWhenElementPresent(\".c-r_autoCompletion\",(()=>{document.querySelector(\".c-r_autoCompletion\").addEventListener(Kameleoon.API.Utils.mouseDownEvent,(e=>{e.target.classList.contains(\"text\")&&e.target.parentNode.className.match(/AFSSuggestItemvendorData/g)&&Kameleoon.API.Goals.processConversion(241567)}))})),Kameleoon.API.Core.runWhenElementPresent(\".c-r_autoCompletion\",(()=>{document.querySelector(\".c-r_autoCompletion\").addEventListener(Kameleoon.API.Utils.mouseDownEvent,(e=>{e.target.parentNode.className.match(/AFSSuggestItemproductData/g)&&Kameleoon.API.Goals.processConversion(241568)}))})),Kameleoon.API.Core.runWhenElementPresent(\".aa-Source\",(e=>{for(let o=0;o<e.length;o++)e[o].addEventListener(\"click\",(e=>{\"Phone\"===Kameleoon.API.CurrentVisit.device.type?(0===o&&Kameleoon.API.Goals.processConversion(241566),1===o&&Kameleoon.API.Goals.processConversion(241567),2===o&&Kameleoon.API.Goals.processConversion(241567)):(0===o&&Kameleoon.API.Goals.processConversion(241566),1===o&&Kameleoon.API.Goals.processConversion(241568),2===o&&Kameleoon.API.Goals.processConversion(241567),3===o&&Kameleoon.API.Goals.processConversion(241567))}))})),Kameleoon.API.Core.runWhenElementPresent(\".awk-addtocart.addBtn button\",(e=>{e.forEach((e=>{e.addEventListener(\"mousedown\",(()=>{window.location.href.includes(\"fromSearch=\")&&Kameleoon.API.Goals.processConversion(241569)}))}))})),Kameleoon.API.Core.runWhenElementPresent(\".image-product\",(e=>{e.forEach((e=>{e.addEventListener(\"mousedown\",(()=>{window.location.href.includes(\"fromSearch=\")&&Kameleoon.API.Goals.processConversion(241570)}))})),document.querySelectorAll(\".avisBaazar\").forEach((e=>{e.addEventListener(\"mousedown\",(()=>{window.location.href.includes(\"fromSearch=\")&&Kameleoon.API.Goals.processConversion(241570)}))}))})),Kameleoon.API.Core.runWhenElementPresent(\"#addToCartForm div.detail-product h3, .product-titles\",(e=>{e.forEach((e=>{e.addEventListener(\"mousedown\",(()=>{window.location.href.includes(\"fromSearch=\")&&Kameleoon.API.Goals.processConversion(241570)}))}))}))})();function a(){window.sessionStorage.KameleoonDev__conversionGoalGlobal&&(Kameleoon.API.Goals.cancelConversion(229530),window.sessionStorage.setItem(\"KameleoonDev__conversionGoalGlobal\",!1))}(()=>{const e=224799,o=224801,t=224803,n=224804,i=224805,r=location.pathname;let s,a;/\\/NW-\\d{1,6}-idstockmagasin~\\d{3}/.test(r)?(a=/test/,s=!0):(a=/test/,s=!1);const l=sessionStorage.getItem(\"KameleoonDev__isToggled\"),c=sessionStorage.getItem(\"KameleoonDev__category\"),d=sessionStorage.getItem(\"KameleoonDev__url\");if(a.test(r)){const{category:n,idMag:i,rest:s}=r.match(a).groups;let{url:m}=r.match(a).groups;s&&(m+=s),!l&&i?(Kameleoon.API.Goals.processConversion(e),sessionStorage.setItem(\"KameleoonDev__isToggled\",\"true\"),sessionStorage.setItem(\"KameleoonDev__category\",n),sessionStorage.setItem(\"KameleoonDev__url\",m)):(d||\"\"===d)&&l&&r.match(c)?m!==d&&i?(Kameleoon.API.Goals.processConversion(o),sessionStorage.setItem(\"KameleoonDev__url\",m)):m===d||i?sessionStorage.KameleoonDev__toggleOff&&i&&Kameleoon.API.Goals.processConversion(e):(Kameleoon.API.Goals.processConversion(t),sessionStorage.setItem(\"KameleoonDev__url\",m)):!d&&\"\"!==d||!l||r.match(c)||(sessionStorage.removeItem(\"KameleoonDev__isToggled\"),sessionStorage.removeItem(\"KameleoonDev__category\"),sessionStorage.removeItem(\"KameleoonDev__url\")),l&&!i&&sessionStorage.setItem(\"KameleoonDev__toggleOff\",\"true\")}function m(){sessionStorage.KameleoonDev__exited&&!sessionStorage.KameleoonDev__canceledExited?(Kameleoon.API.Goals.cancelConversion(n),sessionStorage.setItem(\"KameleoonDev__canceledExited\",!0)):sessionStorage.KameleoonDev__antiEngagement&&!sessionStorage.KameleoonDev__canceledGoal&&(Kameleoon.API.Goals.cancelConversion(i),sessionStorage.setItem(\"KameleoonDev__canceledGoal\",!0))}/\\/c\\/\\d{6}/.test(location.pathname)&&(sessionStorage.KameleoonDev__antiEngagement?s&&!sessionStorage.KameleoonDev__exited&&(Kameleoon.API.Goals.processConversion(n),sessionStorage.setItem(\"KameleoonDev__exited\",!0)):(Kameleoon.API.Goals.processConversion(i),sessionStorage.setItem(\"KameleoonDev__antiEngagement\",\"true\")),document.addEventListener(\"mousedown\",m),window.addEventListener(\"scroll\",m))})(),Kameleoon.API.Core.runWhenElementPresent(\".image-product\",(e=>{e.forEach((e=>{e.addEventListener(\"mousedown\",(()=>{Kameleoon.API.Goals.processConversion(232525),Kameleoon.API.Data.setCustomData(\"Cat_ClicTuileProduit\",window.tc_vars.page_cat4)}))})),document.querySelectorAll(\".avisBaazar\").forEach((e=>{e.addEventListener(\"mousedown\",(()=>{Kameleoon.API.Goals.processConversion(232525),Kameleoon.API.Data.setCustomData(\"Cat_ClicTuileProduit\",window.tc_vars.page_cat4)}))})),document.querySelector(\".detail-product > h3\")?document.querySelectorAll(\".detail-product > h3\").forEach((e=>{e.addEventListener(\"click\",(()=>{Kameleoon.API.Goals.processConversion(232525)}))})):document.querySelector(\".awk-detail-product > h3\")&&document.querySelectorAll(\".awk-detail-product > h3\").forEach((e=>{e.addEventListener(\"click\",(()=>{Kameleoon.API.Goals.processConversion(232525)}))}))})),document.addEventListener(\"mouseleave\",(function(){Kameleoon.API.Goals.processConversion(229530),window.sessionStorage.setItem(\"KameleoonDev__conversionGoalGlobal\",!0)})),document.addEventListener(\"mousedown\",a),window.addEventListener(\"scroll\",a);const l=()=>{Kameleoon.API.Events.trigger(\"hoverOn_touNosProduits\"),document.querySelector(\".all-products\").removeEventListener(\"mouseover\",l)};Kameleoon.API.Core.runWhenElementPresent(\".all-products\",(([e])=>{e.addEventListener(\"mouseover\",l)})),Kameleoon.API.Core.runWhenElementPresent(\".aa-SourceFooter div .c-r_btn .c-r_cta.mainColorBorder, .c-r_autoCompletion.c-r_isOpenAutoSearch .c-r_btn .c-r_cta.mainColorBorder\",(([e])=>{e.addEventListener(\"click\",(()=>{console.log(\"CTA voir tous les produits\"),Kameleoon.API.Goals.processConversion(254486)}))}),200);(()=>{const e=276777;/checkout\\/orderConfirmation/i.test(window.location.href)&&Kameleoon.API.Core.runWhenConditionTrue((()=>window.tc_vars&&window.tc_vars.ready&&\"Checkout - Recap page\"===window.tc_vars.env_template&&window.tc_vars.order_amount_ati_with_sf),(()=>{const o=window.tc_vars.checkoutProducts;o&&o.some((e=>e.product_breadcrumb_label.some((e=>\"Canape\"===e))))&&Kameleoon.API.Goals.processConversion(e)}))})(),/conforama\\.fr\\/?(\\?.*)?$/i.test(window.location.href)&&(Kameleoon.API.Core.runWhenElementPresent(\".c-r_frandolesHome\",(e=>{e.forEach((e=>e.addEventListener(\"click\",(e=>{e.target.closest(\".el-right\")&&(Kameleoon.API.Goals.processConversion(289402),Kameleoon.API.Goals.processConversion(293912),Kameleoon.API.Goals.processConversion(300215))}),!0)))})),Kameleoon.API.Core.runWhenElementPresent(\".products_swipper_hp\",(e=>{e.forEach((e=>e.addEventListener(\"click\",(e=>{e.target.closest(\".c-r_carousel-latest-visited .el-right\")&&(Kameleoon.API.Goals.processConversion(290224),Kameleoon.API.Goals.processConversion(293912),Kameleoon.API.Goals.processConversion(300215))}),!0)))}))),window.location.href.includes(\"/p/\")&&Kameleoon.API.Core.runWhenElementPresent(\".fixedElemParent .productTitle.fixedElem\",(([o])=>{Kameleoon.API.Utils.addUniversalClickListener(o,(function(o){o.target.closest(\".addBtn.new-concept.large.clearfix .btn.btn-primary.btn42.btnIco.js-addCartFromProductDetails\")&&(Kameleoon.API.Goals.processConversion(300215),Kameleoon.API.Goals.processConversion(202302),window.location.href.includes(\"matelas\")?Kameleoon.API.Goals.processConversion(313853):window.location.href.includes(\"/canape\")&&Kameleoon.API.Goals.processConversion(314207),Kameleoon.API.Core.runWhenConditionTrue((function(){return window.tc_vars&&!0===window.tc_vars?.ready}),(function(){Kameleoon.API.Data.setCustomData(\"productRole_V3\",e[parseInt(window.tc_vars.productRole)]),Kameleoon.API.Data.setCustomData(\"Univers\",window.tc_vars.page_cat2),Kameleoon.API.Data.setCustomData(\"Marché\",window.tc_vars.page_cat3),Kameleoon.API.Data.setCustomData(\"Segment\",window.tc_vars.page_cat4)}),200))}),!0)}),200),window.location.href.includes(\"https://www.conforama.fr/login/checkout\")&&Kameleoon.API.Goals.processConversion(303076),!window.location.href.includes(\"https://www.conforama.fr/login/checkout\")&&Kameleoon.API.CurrentVisit.conversions[303076]&&Kameleoon.API.Goals.cancelConversion(303076)};function suppressionSticky283(){\"use strict\";const e=309728,o=202302;function t(){Kameleoon.API.Goals.cancelConversion(e),Kameleoon.API.Data.resetCustomData(\"Page de rebond\"),window.removeEventListener(\"scroll\",t),document.removeEventListener(\"click\",t)}Kameleoon.API.Goals.processConversion(e),Kameleoon.API.Core.runWhenConditionTrue((()=>{var e;return(null===(e=window.dataLayer)||void 0===e?void 0:e.some((e=>{var o;return null===(o=e[2])||void 0===o?void 0:o.env_template})))||\"complete\"===document.readyState}),(()=>{var e;if(null===(e=window.dataLayer)||void 0===e?void 0:e.some((e=>{var o;return null===(o=e[2])||void 0===o?void 0:o.env_template}))){var o,t;const e=null===(o=window.dataLayer)||void 0===o||null===(t=o.find((e=>{var o;return null===(o=e[2])||void 0===o?void 0:o.env_template}))[2])||void 0===t?void 0:t.env_template;Kameleoon.API.Data.setCustomData(\"Page de rebond\",e)}})),Kameleoon.API.Utils.addEventListener(window,\"scroll\",t),Kameleoon.API.Utils.addEventListener(document,\"click\",t),Kameleoon.API.Core.runWhenElementPresent(\".productInformationsTabs\",(([e])=>{Kameleoon.API.Utils.addEventListener(e,\"click\",(e=>{e.target.closest(\".details__cart svg\")&&(Kameleoon.API.Goals.processConversion(o),window.location.href.includes(\"matelas\")?Kameleoon.API.Goals.processConversion(313853):window.location.href.includes(\"/canape\")&&Kameleoon.API.Goals.processConversion(314207))}))}))}!function(){const e=269909;\"/\"!==window.location.pathname&&\"\"!==window.location.pathname||Kameleoon.API.Core.runWhenConditionTrue((()=>document.querySelector(\".c-r_carousel-full .swiper-slide-active\")),(()=>{Kameleoon.API.Core.runWhenElementPresent(\".c-r_carousel-full .c-r_content-item\",(([o])=>{!function(o){Kameleoon.API.Utils.addEventListener(o.closest(\".swiper-wrapper\"),\"mousedown\",(o=>{0===o.button&&Kameleoon.API.Goals.processConversion(e)}))}(o)}),200)}),200)}(),Kameleoon.API.Core.runWhenElementPresent(\"#dropdownSearch\",(([e])=>{e.addEventListener(\"click\",(({target:e})=>{e.closest(\"button.c-r_cta\")&&console.log(\"clicked\")}))})),\"complete\"==document.readyState||\"interactive\"==document.readyState?globalScript():Kameleoon.API.Utils.addEventListener(document,\"DOMContentLoaded\",(function(){globalScript()}),!1),document.cookie=\"SearchVersion=; Max-Age=-99999999;\",window.location.pathname.indexOf(\"/checkout/multi/cartOrder\")>-1&&Kameleoon.API.Core.runWhenElementPresent(\".checkoutTicket .checkoutTicket__total > .check.btn-block\",(([e])=>{Kameleoon.API.Utils.addEventListener(e,\"click\",(()=>{Kameleoon.API.Goals.processConversion(295751)}))})),window.location.href.includes(\"/p/\")&&Kameleoon.API.Core.runWhenConditionTrue((()=>window.tc_vars?.id),(()=>{const e=window.tc_vars?.id,o=Date.now()-864e5;Kameleoon.API.Products.obtainProductInteractions(e,(o=>{window.kamProductsViewed=o[e].views,o[e].views>30&&(Kameleoon.API.Events.trigger(\"Products views higher than 30\"),console.log(\"Event - Products views higher than 30\")),o[e].views>10&&(Kameleoon.API.Events.trigger(\"Products views higher than 10\"),console.log(\"Event - Products views higher than 10\"))}),o)})),suppressionSticky283(),window.sessionStorage.getItem(\"tCanape\")&&(window.location.href.includes(\"/canape/\")&&(window.location.href.includes(\"tous-les-canapes\")||window.location.href.includes(\"/p/\"))||window.sessionStorage.removeItem(\"tCanape\")),window.location.href.includes(\"tous-les-canapes\")&&(window.sessionStorage.setItem(\"tCanape\",\"true\"),\"Desktop\"!==Kameleoon.API.CurrentVisit.device.type&&\"Tablet\"!==Kameleoon.API.CurrentVisit.device.type||Kameleoon.API.Core.runWhenElementPresent(\".left-panel\",(([e])=>{Kameleoon.API.Utils.addUniversalClickListener(e,(e=>{(e.target.closest(\".navTitle\")||e.target.closest(\".marche\")||e.target.closest(\".catFilter\"))&&Kameleoon.API.Goals.processConversion(314633)}))})),\"Phone\"===Kameleoon.API.CurrentVisit.device.type&&Kameleoon.API.Core.runWhenElementPresent(\".awk-nav-filter\",(([e])=>{Kameleoon.API.Utils.addUniversalClickListener(e,(e=>{e.target.closest(\".filter-scroll\")&&Kameleoon.API.Goals.processConversion(314633)}))}))),window.sessionStorage.getItem(\"tCanape\")&&window.location.href.includes(\"/canape/\")&&window.location.href.includes(\"/p/\")&&(Kameleoon.API.Goals.processConversion(314639),\"Desktop\"!==Kameleoon.API.CurrentVisit.device.type&&\"Tablet\"!==Kameleoon.API.CurrentVisit.device.type||Kameleoon.API.Core.runWhenElementPresent(\".productDescArea\",(([e])=>{Kameleoon.API.Utils.addUniversalClickListener(e,(e=>{e.target.closest(\"button.btn.btn-primary\")&&Kameleoon.API.Goals.processConversion(314634)}))})),\"Phone\"===Kameleoon.API.CurrentVisit.device.type&&Kameleoon.API.Core.runWhenElementPresent(\".product-page-list\",(([e])=>{Kameleoon.API.Utils.addUniversalClickListener(e,(e=>{e.target.closest(\".prodAction\")&&Kameleoon.API.Goals.processConversion(314634)}))}))),window.sessionStorage.getItem(\"tMatelas\")&&(window.location.href.includes(\"matelas\")&&(window.location.href.includes(\"tous-les-matelas\")||window.location.href.includes(\"/p/\"))||window.sessionStorage.removeItem(\"tMatelas\")),window.location.href.includes(\"tous-les-matelas\")&&(window.sessionStorage.setItem(\"tMatelas\",\"true\"),\"Desktop\"!==Kameleoon.API.CurrentVisit.device.type&&\"Tablet\"!==Kameleoon.API.CurrentVisit.device.type||Kameleoon.API.Core.runWhenElementPresent(\".left-panel\",(([e])=>{Kameleoon.API.Utils.addUniversalClickListener(e,(e=>{(e.target.closest(\".navTitle\")||e.target.closest(\".marche\")||e.target.closest(\".catFilter\"))&&Kameleoon.API.Goals.processConversion(314642)}))})),\"Phone\"===Kameleoon.API.CurrentVisit.device.type&&Kameleoon.API.Core.runWhenElementPresent(\".awk-nav-filter\",(([e])=>{Kameleoon.API.Utils.addUniversalClickListener(e,(e=>{e.target.closest(\".filter-scroll\")&&Kameleoon.API.Goals.processConversion(314642)}))}))),window.sessionStorage.getItem(\"tMatelas\")&&window.location.href.includes(\"matelas\")&&window.location.href.includes(\"/p/\")&&(Kameleoon.API.Goals.processConversion(314647),\"Desktop\"!==Kameleoon.API.CurrentVisit.device.type&&\"Tablet\"!==Kameleoon.API.CurrentVisit.device.type||Kameleoon.API.Core.runWhenElementPresent(\".productDescArea\",(([e])=>{Kameleoon.API.Utils.addUniversalClickListener(e,(e=>{e.target.closest(\"button.btn.btn-primary\")&&Kameleoon.API.Goals.processConversion(314650)}))})),\"Phone\"===Kameleoon.API.CurrentVisit.device.type&&Kameleoon.API.Core.runWhenElementPresent(\".product-page-list\",(([e])=>{Kameleoon.API.Utils.addUniversalClickListener(e,(e=>{e.target.closest(\".prodAction\")&&Kameleoon.API.Goals.processConversion(314650)}))})));let regexMatelas=/^https:\\/\\/www\\.conforama\\.fr\\/chambre-literie\\/literie\\/(tous-les-matelas|matelas-1-place|matelas-2-places|sommier-et-cadre-a-lattes|literie-de-relaxation|ensemble-matelas-et-sommier|lit-d-appoint-et-matelas-gonflable)\\/c\\/\\d+(\\?.*)?$/;regexMatelas.test(window.location.href)&&Kameleoon.API.Core.runWhenElementPresent(\".c-r_bloc_toggle--product_display\",(([e])=>{Kameleoon.API.Utils.addEventListener(e,\"click\",(e=>{(e.target.closest(\".c-r_bloc_toggle--product_display--list\")||e.target.closest(\".c-r_bloc_toggle--product_display--grid\"))&&Kameleoon.API.Goals.processConversion(318119)})),Kameleoon.API.Core.runWhenElementPresent(\".c-r_descent-container\",(([o])=>{Kameleoon.API.Utils.addEventListener(o,\"click\",(o=>{o.target.closest(\".box-product\")&&(e.querySelector(\".c-r_bloc_toggle--product_display--grid.active\")&&Kameleoon.API.Goals.processConversion(318120),e.querySelector(\".c-r_bloc_toggle--product_display--list.active\")&&Kameleoon.API.Goals.processConversion(318121))}))}))})),window.location.href.includes(\"/checkout/multi/cartOrder\")?\"Phone\"===Kameleoon.API.CurrentVisit.device.type?Kameleoon.API.Core.runWhenElementPresent(\"#loginArea\",(([e])=>{Kameleoon.API.Utils.addUniversalClickListener(e,(e=>{(e.target.closest(\".connexionBtn\")||e.target.closest(\"social-login-list-icons\"))&&window.localStorage.setItem(\"connexionTC\",\"true\")}))}),200):Kameleoon.API.Core.runWhenElementPresent(\"#layerLogin\",(([e])=>{Kameleoon.API.Utils.addUniversalClickListener(e,(e=>{(e.target.closest(\"#fixed-area .btn-primary.btn-block\")||e.target.closest(\"social-login-list-icons\"))&&window.localStorage.setItem(\"connexionTC\",\"true\")}))}),200):\"Phone\"===Kameleoon.API.CurrentVisit.device.type?Kameleoon.API.Core.runWhenElementPresent(\".cf-layerLogin\",(([e])=>{Kameleoon.API.Utils.addUniversalClickListener(e,(e=>{(e.target.closest(\"#fixed-area .btn-primary.btn-block\")||e.target.closest(\"social-login-list-icons\"))&&window.localStorage.setItem(\"connexion\",\"true\")}))})):Kameleoon.API.Core.runWhenElementPresent(\"#main\",(([e])=>{Kameleoon.API.Utils.addUniversalClickListener(e,(e=>{(e.target.closest(\"#fixed-area .btn-primary.btn-block\")||e.target.closest(\"social-login-list-icons\"))&&window.localStorage.setItem(\"connexion\",\"true\")}))})),Kameleoon.API.Core.runWhenConditionTrue((()=>window.tc_vars?.isLoggedIn),(()=>{\"true\"===window.tc_vars.isLoggedIn&&(window.localStorage.getItem(\"connexionTC\")&&(Kameleoon.API.Goals.processConversion(322090),Kameleoon.API.Goals.processConversion(326163),window.localStorage.removeItem(\"connexionTC\")),window.localStorage.getItem(\"connexion\")&&(Kameleoon.API.Goals.processConversion(322093),Kameleoon.API.Goals.processConversion(326163),window.localStorage.removeItem(\"connexion\")))})),window.location.href.includes(\"/identification\")&&Kameleoon.API.Core.runWhenConditionTrue((()=>window.jQuery),(()=>{jQuery(document).ajaxComplete(((e,o,t)=>{t.url.match(/identification\\/register/)&&\"POST\"===t.type&&Kameleoon.API.Goals.processConversion(322092)}))})),window.location.href.includes(\"/login/checkout\")&&Kameleoon.API.Core.runWhenConditionTrue((()=>window.jQuery),(()=>{jQuery(document).ajaxComplete(((e,o,t)=>{t.url.match(/checkout\\/register/)&&\"POST\"===t.type&&Kameleoon.API.Goals.processConversion(322088)}))})),window.sessionStorage.getItem(\"kamToluna\")&&!window.location.href.match(\"https://www.conforama.fr/checkout/multi/cartOrder\")&&window.sessionStorage.removeItem(\"kamToluna\"),window.location.href.match(\"https://www.conforama.fr/checkout/choose-delivery-method\")&&window.sessionStorage.setItem(\"kamToluna\",\"true\"),window.sessionStorage.getItem(\"kamToluna\")&&window.location.href.match(\"https://www.conforama.fr/checkout/multi/cartOrder\")&&(Kameleoon.API.Data.setCustomData(\"kamToluna\",\"true\"),window.sessionStorage.removeItem(\"kamToluna\"));try{var kameleoonEventsTracker=[{id:223546,selector:\".groupFilterCat\"},{id:223546,selector:'[data-ajax=\"false\"]'},{id:223546,selector:\"#colorbox-filter .groupFilterCat\"},{id:223546,selector:\".c-r_mainfilters-container .groupFilterCat\"},{id:223546,selector:\"#colorbox-filter .groupFilterToggle\"},{id:230349,selector:\"#checkoutCreateAccoutButton\"},{id:230350,selector:'button:contains(\"Valider et continuer\")'},{id:230351,selector:'button:contains(\"Me connecter\")'},{id:230436,selector:'button:contains(\"VALIDER ET POURSUIVRE\")'},{id:230772,selector:\"#wrapperSite > header:nth-of-type(1) > div:first-child > div:nth-of-type(1) > form:nth-of-type(1) > div:nth-of-type(1) > input:nth-of-type(1)\"},{id:232237,selector:\"header .c-r_content .c-r_main-search .input-container .autocompletionInput\"},{id:232238,selector:\"header .c-r_content .c-r_main-search .input-container button\"},{id:232360,selector:\"#main > aside:nth-of-type(1) > div:nth-of-type(1) > ul:nth-of-type(1) > form:nth-of-type(1) > div:nth-of-type(2) > div:nth-of-type(1)\"},{id:232362,selector:\".aa-SourceFooter div .c-r_btn .c-r_cta.mainColorBorder\"},{id:232365,selector:\"#wrapperSite > header:nth-of-type(1) > div:first-child > div:nth-of-type(2)\"},{id:232365,selector:'button[onClick*=\"Research\"]'},{id:232365,selector:\"#dropdownSearch\"},{id:232671,selector:\".groupFilterCat.awk-range-price.range-wraper .groupFilterCat__items\"},{id:233240,selector:\"#c-r_navMenu > div:first-child > ul:first-child > li:first-child > ul:nth-of-type(1) > li:first-child > div:nth-of-type(1) > div:first-child > a:first-child > img:first-child\"},{id:233332,selector:\"#contentSegment > article:nth-of-type(3) > img:first-child\"},{id:235793,selector:\"#main > aside:nth-of-type(1) > div:nth-of-type(1) > ul:nth-of-type(1) > form:nth-of-type(1) > div:nth-of-type(13)\"},{id:235931,selector:\".groupFilterCat:nth-child(11)\"},{id:235932,selector:'.groupFilterCat__item.otherFilters [name=\"/NW-12689-vendu-par~conforama\"] + label'},{id:235933,selector:'.groupFilterCat__item.otherFilters [name=\"/NW-12689-vendu-par~partenaires\"] + label'},{id:235976,selector:\"#c-r_navMenu > div:first-child > ul:first-child > li:nth-of-type(2) > a:first-child > span:first-child\"},{id:235977,selector:\"#c-r_navMenu > div:first-child > ul:first-child > li:nth-of-type(3) > a:first-child > span:first-child\"},{id:235978,selector:\"#c-r_navMenu > div:first-child > ul:first-child > li:nth-of-type(4) > a:first-child > span:first-child\"},{id:235979,selector:\"#c-r_navMenu > div:first-child > ul:first-child > li:nth-of-type(5) > a:first-child > span:first-child\"},{id:235980,selector:\"#c-r_navMenu > div:first-child > ul:first-child > li:nth-of-type(6) > a:first-child > span:first-child\"},{id:235981,selector:\"#c-r_navMenu > div:first-child > ul:first-child > li:nth-of-type(7) > a:first-child > span:first-child\"},{id:235982,selector:\"#c-r_navMenu\"},{id:237051,selector:\".folio-container\"},{id:240446,selector:\"#main-page > footer:nth-of-type(1) > div:nth-of-type(2) > ul:nth-of-type(1) > li:nth-of-type(13) > a:first-child\"},{id:240447,selector:\"#main-page > footer:nth-of-type(1) > div:nth-of-type(2) > ul:nth-of-type(1) > li:nth-of-type(12) > a:first-child\"},{id:243157,selector:\".c-r_cta mainColorBorder\"},{id:245332,selector:\"#main > aside:nth-of-type(1) > div:nth-of-type(1) > ul:nth-of-type(1) > form:nth-of-type(1) > div:nth-of-type(13) > ul:nth-of-type(1)\"},{id:245333,selector:\"#main > aside:nth-of-type(1) > div:nth-of-type(1) > ul:nth-of-type(1) > form:nth-of-type(1) > div:nth-of-type(13) > ul:nth-of-type(1) > li:first-child > label:nth-of-type(1)\"},{id:245334,selector:\"#main > aside:nth-of-type(1) > div:nth-of-type(1) > ul:nth-of-type(1) > form:nth-of-type(1) > div:nth-of-type(13) > ul:nth-of-type(1) > li:nth-of-type(2) > label:nth-of-type(1)\"},{id:245335,selector:\"#main > aside:nth-of-type(1) > div:nth-of-type(1) > ul:nth-of-type(1) > form:nth-of-type(1) > div:nth-of-type(13) > ul:nth-of-type(1) > li:nth-of-type(3) > label:nth-of-type(1)\"},{id:245336,selector:\"#main > aside:nth-of-type(1) > div:nth-of-type(1) > ul:nth-of-type(1) > form:nth-of-type(1) > div:nth-of-type(13) > ul:nth-of-type(1) > li:nth-of-type(4) > label:nth-of-type(1)\"},{id:245337,selector:\"#main > aside:nth-of-type(1) > div:nth-of-type(1) > ul:nth-of-type(1) > form:nth-of-type(1) > div:nth-of-type(13) > ul:nth-of-type(1) > li:nth-of-type(5) > label:nth-of-type(1)\"},{id:245338,selector:\"#main > aside:nth-of-type(1) > div:nth-of-type(1) > ul:nth-of-type(1) > form:nth-of-type(1) > div:nth-of-type(13) > ul:nth-of-type(1) > li:nth-of-type(6) > label:nth-of-type(1)\"},{id:267689,selector:\"#wrapperSite > div:nth-of-type(1) > p:first-child\"},{id:268548,selector:\"#confoLogo\"},{id:268548,selector:\".c-r_logo-conforama\"},{id:268549,selector:\".c-r_yourShop\"},{id:268549,selector:\"#userSelectedStore\"},{id:268550,selector:\".c-r_account\"},{id:268550,selector:\"#userInfosComponent\"},{id:268552,selector:\".c-r_myscart\"},{id:268553,selector:\".aa-InputWrapper\"},{id:268553,selector:\".k_containerInput\"},{id:268555,selector:\".aa-InputWrapperPrefix\"},{id:268555,selector:\".k_loupe\"},{id:268557,selector:\".k_arrowBack\"},{id:268558,selector:\".k_close.k_show\"},{id:268558,selector:\".aa-ClearButton\"},{id:268559,selector:\".k_surHeader li\"},{id:268560,selector:\"header\"},{id:268625,selector:\".k_containerLiv\"},{id:268625,selector:\".c-r_special-offer\"},{id:268744,selector:\".c-r_menu__item\"},{id:268745,selector:\".c-r_menu__item\"},{id:269908,selector:\"#main > div:nth-of-type(2) > div:first-child > div:first-child > div:first-child > div:first-child > div:first-child > div:first-child > div:nth-of-type(2)\"},{id:269909,selector:\"#main > div:nth-of-type(2) > div:first-child > div:first-child > div:first-child > div:first-child > div:first-child > div:first-child > div:first-child > div:nth-of-type(2) > a:first-child > img:first-child\"},{id:269910,selector:\"#bloc1 > div:nth-of-type(1)\"},{id:269911,selector:\"#bloc1 > div:nth-of-type(1) > p:first-child\"},{id:269912,selector:\"#bloc1 > div:nth-of-type(1) > p:nth-of-type(2)\"},{id:269913,selector:\"#bloc1 > div:nth-of-type(1) > p:nth-of-type(3)\"},{id:269914,selector:\"#bloc1 > div:nth-of-type(1) > p:nth-of-type(4)\"},{id:269915,selector:\"#bloc2 > div:nth-of-type(1) > a:first-child > img:first-child\"},{id:269916,selector:\"#bloc2 > div:nth-of-type(1) > a:nth-of-type(2) > img:first-child\"},{id:269917,selector:\"#bloc2 > div:nth-of-type(1) > a:nth-of-type(3) > img:first-child\"},{id:269918,selector:\"#bloc2 > div:nth-of-type(1) > a:nth-of-type(4) > img:first-child\"},{id:269919,selector:\"#bloc2 > div:nth-of-type(1)\"},{id:269920,selector:\"#bloc3 > div:nth-of-type(1) > a:first-child > p:first-child\"},{id:269921,selector:\"#bloc4 > div:first-child > div:nth-of-type(1) > a:first-child > div:first-child\"},{id:269923,selector:\"#section2 > div:nth-of-type(1) > div:first-child\"},{id:269924,selector:\"#section2 > div:nth-of-type(1) > div:nth-of-type(2)\"},{id:269926,selector:\"#section2 > div:nth-of-type(1) > div:nth-of-type(3)\"},{id:269927,selector:\"#section2 > div:nth-of-type(1) > div:nth-of-type(4)\"},{id:269928,selector:\"#section2 > div:nth-of-type(1) > div:nth-of-type(5)\"},{id:269929,selector:\"#section3 > div:nth-of-type(1) > div:first-child > a:first-child > img:first-child\"},{id:269930,selector:\"#section3 > div:nth-of-type(1) > div:nth-of-type(2) > a:first-child > img:first-child\"},{id:269931,selector:\"#section4 > div:nth-of-type(1) > div:first-child > button:nth-of-type(1)\"},{id:269932,selector:\"#section4 > div:nth-of-type(2) > div:first-child > a:first-child > img:first-child\"},{id:269933,selector:\"#section4 > div:nth-of-type(2) > div:nth-of-type(2) > div:first-child > a:first-child > p:first-child\"},{id:269934,selector:\"#section5 > div:nth-of-type(1) > div:first-child > div:nth-of-type(5) > p:first-child > span:nth-of-type(1) > a:nth-of-type(1)\"},{id:269935,selector:\"#section5 > div:nth-of-type(1) > div:first-child > div:nth-of-type(6) > p:first-child > span:nth-of-type(1) > a:nth-of-type(1)\"},{id:269936,selector:\"#section5 > div:nth-of-type(1) > div:first-child > div:nth-of-type(3) > p:first-child > span:nth-of-type(1) > a:nth-of-type(1)\"},{id:269937,selector:\"#section5 > div:nth-of-type(1) > div:first-child > div:nth-of-type(7) > p:first-child > span:nth-of-type(1) > a:nth-of-type(1)\"},{id:269938,selector:\"#section5 > div:nth-of-type(1) > div:first-child > div:nth-of-type(8) > p:first-child > span:nth-of-type(1) > a:nth-of-type(1)\"},{id:269939,selector:\"#section6 > h2:first-child\"},{id:269940,selector:\"#command > button:nth-of-type(1)\"},{id:269941,selector:\"#wrapperSite > footer:nth-of-type(1) > div:first-child > div:nth-of-type(2)\"},{id:274921,selector:\"#kameleoonScenarioLayerContainer68220\"},{id:275455,selector:\"#checkoutRegister > div:first-child > div:first-child > div:nth-of-type(2) > div:nth-of-type(1) > ul:nth-of-type(1) > li:first-child > a:first-child > img:first-child\"},{id:275456,selector:\"#checkoutRegister > div:first-child > div:first-child > div:nth-of-type(2) > div:nth-of-type(1) > ul:nth-of-type(1) > li:nth-of-type(2) > a:first-child > img:first-child\"},{id:275457,selector:\"#checkoutRegister > div:first-child > div:first-child > div:nth-of-type(2) > div:nth-of-type(1) > ul:nth-of-type(1) > li:nth-of-type(4) > a:first-child > img:first-child\"},{id:275458,selector:\"#loginid > button:nth-of-type(1)\"},{id:278055,selector:\"#checkoutRegister > div:first-child > div:first-child > div:nth-of-type(2) > div:nth-of-type(1) > ul:nth-of-type(1) > li:nth-of-type(3) > a:first-child > img:first-child\"},{id:279505,selector:\"#autocomplete-0-input\"},{id:279507,selector:\"#c-r_navMenu > div:first-child > ul:first-child > li:first-child > a:first-child\"},{id:283535,selector:\"#contentSegment > article:nth-of-type(7) > form:first-child > div:nth-of-type(5) > div:nth-of-type(4) > div:nth-of-type(2) > div:first-child > div:nth-of-type(2) > div:first-child > div:first-child > button:first-child\"},{id:283537,selector:\"#contentSegment > article:nth-of-type(7) > form:first-child > div:nth-of-type(5) > div:nth-of-type(4) > div:nth-of-type(2) > div:first-child > div:nth-of-type(2) > div:first-child > div:first-child > button:first-child > span:first-child\"},{id:283539,selector:\"#contentSegment > article:nth-of-type(7) > form:first-child > div:nth-of-type(5) > div:nth-of-type(4) > div:nth-of-type(2) > div:first-child > div:nth-of-type(2) > div:first-child > div:first-child > button:first-child\"},{id:285423,selector:\"#contentSegment > article:nth-of-type(1) > form:first-child > div:nth-of-type(3) > a:nth-of-type(1) > img:first-child\"},{id:287677,selector:\".c-r_frandolesHome .el-right\"},{id:287680,selector:\".c-r_carousel-latest-visited\"},{id:287681,selector:'[id=\"header\"] + div + div > div:first-child + section + div + div + div > h2:first-child + div > div:first-child + div > div:first-child'},{id:287681,selector:\".c-r_carousel-deux-tiers\"},{id:287682,selector:\"#cboxWrapper .swiper-slide\"},{id:287682,selector:\".swiperInstance-0 .productCrossSell\"},{id:287683,selector:\".swiperInstance-1 .productCrossSelll\"},{id:289437,selector:\".cards-group.bgGrey.h-360.col2.h-377\"},{id:293791,selector:\".c-r_dynamicdisplay-block\"},{id:302145,selector:'[id=\"headerOrderCart\"] > div:first-child > a:first-child > p:first-child > img:first-child'},{id:303025,selector:\".btn-primary btn-block full btn-CheckMail check\"},{id:303797,selector:\".c-r_mainfilters-container .c-r_mainfilters-bntallfilters\"},{id:303798,selector:\".c-r_mainfilters-bntallfilters\"},{id:303800,selector:\"#afacets > div:nth-of-type(1) > ul:nth-of-type(1) > div:nth-of-type(2) > div:nth-of-type(2)\"},{id:303801,selector:\"#afacets > div:nth-of-type(1) > ul:nth-of-type(1) > div:nth-of-type(2) > div:first-child\"},{id:304130,selector:\"#productSheet > section:first-child > div:nth-of-type(2) > div:nth-of-type(1) > div:nth-of-type(2) > div:first-child > div:nth-of-type(3) > div:first-child\"},{id:304131,selector:\"#productSheet > section:first-child > div:nth-of-type(2) > div:nth-of-type(1) > div:nth-of-type(2) > div:first-child > a:nth-of-type(1)\"},{id:313721,selector:\".btn36\"},{id:313722,selector:\".btn36\"},{id:314581,selector:\".connection-btn\"},{id:314582,selector:\".btn.btn36\"},{id:315895,selector:'[onclick=\"continueToAppointmentPrintEvent()\"]'},{id:323661,selector:\".openFidCart\"},{id:323663,selector:\".addFid\"},{id:325041,selector:\"#createAccoutButton\"}],createEventTracking=function(e,o){for(var t,n=function(e){Kameleoon.Internals.runtime.touchMoveEvent||Kameleoon.API.Goals.processConversion(o.id)},i=0;i<e.length;++i)t=e[i],Kameleoon.Utils.addEventListener(t,Kameleoon.Internals.runtime.mouseDownEvent,n,!0)},kameleoonTimeoutId=Kameleoon.Utils.setTimeout((function(){Kameleoon.Utils.clearTimeout(kameleoonTimeoutId),kameleoonEventsTracker.forEach((e=>{Kameleoon.API.Core.runWhenElementPresent(e.selector,(o=>{createEventTracking(o,e)}),null,Kameleoon.Internals.runtime.singlePageSupport)}))}),250)}catch(e){console.log(\"An error occurred in your custom JavaScript Kameleoon tracking function, please check your code.\"),console.log(e,e.message)}","useAudience":true,"track":true,"trackerExcludedIPRanges":[],"useProduct":true,"Gatherer":"eyJtYXhWaXNpdElkbGVEdXJhdGlvbiI6MTgwMDAwMCwiZGlyZWN0Tm9uZVJlZmVycmVyT25seUZpcnN0IjpmYWxzZSwiYnJvd3NlcnMiOnsiMCI6eyJuYW1lIjoiQ0hST01FIn0sIjEiOnsibmFtZSI6IkVYUExPUkVSIn0sIjIiOnsibmFtZSI6IkZJUkVGT1gifSwiMyI6eyJuYW1lIjoiU0FGQVJJIn0sIjQiOnsibmFtZSI6Ik9QRVJBIn19LCJvc3MiOnsiMCI6eyJuYW1lIjoiV0lORE9XUyJ9LCIxIjp7Im5hbWUiOiJNQUMifSwiMiI6eyJuYW1lIjoiSU9TIn0sIjMiOnsibmFtZSI6IkxJTlVYIn0sIjQiOnsibmFtZSI6IkFORFJPSUQifSwiNSI6eyJuYW1lIjoiV0lORE9XUyBQSE9ORSJ9fSwibm9SZWZlcnJlclBhZ2VzIjpbXSwicmVmZXJyZXJzIjp7IjAiOnsibmFtZSI6Ikdvb2dsZSBBZFdvcmRzIiwicHJpb3JpdHkiOjAsImRldGVjdGlvbnMiOlt7ImFuZE1ldGhvZCI6IiIsIm1ldGhvZCI6IlJFRkVSUkVSX1JFR0VYIiwiYW5kIjpmYWxzZSwiYW5kUGFyYW1ldGVycyI6IiIsInBhcmFtZXRlcnMiOiJeLitcXC5nb29nbGUoXFwuY29tPyk/XFwuW14vXFwuXSsvYWNsayhbXFw/JiNdLip8KSQifSx7ImFuZE1ldGhvZCI6IiIsIm1ldGhvZCI6IlVSTF9SRUdFWCIsImFuZCI6ZmFsc2UsImFuZFBhcmFtZXRlcnMiOiIiLCJwYXJhbWV0ZXJzIjoiW1xcPyYjXWdjbGlkPSJ9XX0sIjEiOnsibmFtZSI6Ikdvb2dsZSBPcmdhbmljIFNlYXJjaCIsInByaW9yaXR5IjowLCJkZXRlY3Rpb25zIjpbeyJhbmRNZXRob2QiOiIiLCJtZXRob2QiOiJSRUZFUlJFUl9SRUdFWCIsImFuZCI6ZmFsc2UsImFuZFBhcmFtZXRlcnMiOiIiLCJwYXJhbWV0ZXJzIjoiXi4rXFwuZ29vZ2xlKFxcLmNvbT8pP1xcLlteL1xcLl0rLyg/IWFjbGt8aW1ncmVzKS4qW1xcPyYjXXE9LiooW1xcPyYjXS4qfCkkIn0seyJhbmRNZXRob2QiOiIiLCJtZXRob2QiOiJSRUZFUlJFUl9SRUdFWCIsImFuZCI6ZmFsc2UsImFuZFBhcmFtZXRlcnMiOiIiLCJwYXJhbWV0ZXJzIjoiXi4rXFwuZ29vZ2xlKFxcLmNvbT8pP1xcLlteL1xcLl0rLz8kIn1dfSwiMiI6eyJuYW1lIjoiQmluZyBPcmdhbmljIFNlYXJjaCIsInByaW9yaXR5IjowLCJkZXRlY3Rpb25zIjpbeyJhbmRNZXRob2QiOiIiLCJtZXRob2QiOiJSRUZFUlJFUl9SRUdFWCIsImFuZCI6ZmFsc2UsImFuZFBhcmFtZXRlcnMiOiIiLCJwYXJhbWV0ZXJzIjoiXi4rXFwuYmluZ1xcLlteL1xcLl0rLy4qW1xcPyYjXXE9LiooW1xcPyYjXS4qfCkkIn1dfSwiMyI6eyJuYW1lIjoiWWFob28gT3JnYW5pYyBTZWFyY2giLCJwcmlvcml0eSI6MCwiZGV0ZWN0aW9ucyI6W3siYW5kTWV0aG9kIjoiIiwibWV0aG9kIjoiUkVGRVJSRVJfUkVHRVgiLCJhbmQiOmZhbHNlLCJhbmRQYXJhbWV0ZXJzIjoiIiwicGFyYW1ldGVycyI6Il4uK1xcLnlhaG9vXFwuW14vXFwuXSsvLipbXFw/JiNdcD0uKihbXFw/JiNdLip8KSQifV19LCI0Ijp7Im5hbWUiOiJCYWlkdSBPcmdhbmljIFNlYXJjaCIsInByaW9yaXR5IjowLCJkZXRlY3Rpb25zIjpbeyJhbmRNZXRob2QiOiIiLCJtZXRob2QiOiJSRUZFUlJFUl9SRUdFWCIsImFuZCI6ZmFsc2UsImFuZFBhcmFtZXRlcnMiOiIiLCJwYXJhbWV0ZXJzIjoiXi4rXFwuYmFpZHVcXC5bXi9cXC5dKy8uKltcXD8mI113ZD0uKihbXFw/JiNdLip8KSQifV19fSwia2V5UGFnZXMiOnsiMCI6eyJuYW1lIjoiRGVzY2VudGUgcHJvZHVpdCIsIm1hdGNoVHlwZSI6IkFUTEVBU1QiLCJwcmVjaXNlRGF0ZSI6bnVsbCwicmVsYXRpdmVVUkxSZWdFeHAiOiJodHRwczpcXC9cXC93d3dcXC5jb25mb3JhbWFcXC5mclxcLy4qXFwvY1xcLyIsInNlY29uZE1hdGNoVHlwZSI6IkFMTFZJU0lUU0NPTUJJTkVEIiwidGltZXNDb3VudCI6MH0sIjEiOnsibmFtZSI6IkZpY2hlIHByb2R1aXQiLCJtYXRjaFR5cGUiOiJBVExFQVNUIiwicHJlY2lzZURhdGUiOm51bGwsInJlbGF0aXZlVVJMUmVnRXhwIjoiaHR0cHM6XFwvXFwvd3d3XFwuY29uZm9yYW1hXFwuZnJcXC8uKlxcL3BcXC8iLCJzZWNvbmRNYXRjaFR5cGUiOiJBTExWSVNJVFNDT01CSU5FRCIsInRpbWVzQ291bnQiOjB9fSwiY3VzdG9tRGF0YSI6eyIwIjp7Im1ldGhvZCI6IkNMSUVOVCIsIm5hbWUiOiJQcm9kdWN0c1NlZW4iLCJmb3JtYXQiOjAsInNjb3BlIjoiVklTSVRPUiIsInR5cGUiOiJMSVNUIn0sIjEiOnsibWV0aG9kIjoiVEMiLCJuYW1lIjoicHJvZHVjdE1hcmtldHBsYWNlIiwiZm9ybWF0IjotMSwic2NvcGUiOiJWSVNJVE9SIiwidHlwZSI6IlVOSVFVRSIsInZhcmlhYmxlTmFtZSI6InByb2R1Y3RNYXJrZXRwbGFjZSJ9LCIyIjp7Im1ldGhvZCI6IkNMSUVOVCIsIm5hbWUiOiJUZWxldmlzaW9uIiwiZm9ybWF0IjotMiwic2NvcGUiOiJWSVNJVCIsInR5cGUiOiJVTklRVUUifSwiMyI6eyJtZXRob2QiOiJDTElFTlQiLCJuYW1lIjoiVG91c0xlc01hdGVsYXMiLCJmb3JtYXQiOi0yLCJzY29wZSI6IlZJU0lUIiwidHlwZSI6IlVOSVFVRSJ9LCI0Ijp7Im1ldGhvZCI6IkNMSUVOVCIsIm5hbWUiOiJDaGFpc2UiLCJmb3JtYXQiOi0yLCJzY29wZSI6IlZJU0lUIiwidHlwZSI6IlVOSVFVRSJ9LCI1Ijp7Im1ldGhvZCI6IkNMSUVOVCIsIm5hbWUiOiJUb3VzTGVzQ2FuYXBlIiwiZm9ybWF0IjotMiwic2NvcGUiOiJWSVNJVCIsInR5cGUiOiJVTklRVUUifSwiNiI6eyJtZXRob2QiOiJDTElFTlQiLCJuYW1lIjoiTWF0ZWxhczJwbGFjZXMiLCJmb3JtYXQiOi0yLCJzY29wZSI6IlZJU0lUIiwidHlwZSI6IlVOSVFVRSJ9LCI3Ijp7Im1ldGhvZCI6IkNMSUVOVCIsIm5hbWUiOiJMYXZlTGluZ2UiLCJmb3JtYXQiOi0yLCJzY29wZSI6IlZJU0lUIiwidHlwZSI6IlVOSVFVRSJ9LCI4Ijp7Im1ldGhvZCI6IlRDIiwibmFtZSI6ImlzTG9nZ2VkSW4iLCJmb3JtYXQiOi0yLCJzY29wZSI6IlZJU0lUIiwidHlwZSI6IlVOSVFVRSIsInZhcmlhYmxlTmFtZSI6ImlzTG9nZ2VkSW4ifSwiOSI6eyJtZXRob2QiOiJUQyIsIm5hbWUiOiJGUF9EaXNwb3NuaWJpbGl0w6lfUHJvZHVpdCIsImZvcm1hdCI6LTEsInNjb3BlIjoiVklTSVQiLCJ0eXBlIjoiVU5JUVVFIiwidmFyaWFibGVOYW1lIjoicHJvZHVjdF9zdGF0dXMifSwiMTAiOnsibWV0aG9kIjoiVEMiLCJuYW1lIjoiQ2F0w6lnb3JpZSBwcm9kdWl0IGNvbmZvcmFtYSIsImZvcm1hdCI6MCwic2NvcGUiOiJQQUdFIiwidHlwZSI6IlVOSVFVRSIsInZhcmlhYmxlTmFtZSI6InByb2R1Y3RGYW1pbHkifSwiMTIiOnsibWV0aG9kIjoiVEMiLCJuYW1lIjoicHJvZHVjdF9jYXRlZ29yeVYyIiwiZm9ybWF0IjotMSwic2NvcGUiOiJQQUdFIiwidHlwZSI6IlVOSVFVRSIsInZhcmlhYmxlTmFtZSI6ImJyZWFkQ3J1bWIifSwiMTMiOnsibWV0aG9kIjoiVEMiLCJuYW1lIjoicHJvZHVjdFJvbGUiLCJmb3JtYXQiOjAsInNjb3BlIjoiVklTSVQiLCJ0eXBlIjoiTElTVCIsInZhcmlhYmxlTmFtZSI6InByb2R1Y3RSb2xlIn0sIjE0Ijp7Im1ldGhvZCI6IlRDIiwibmFtZSI6Ik5vbWJyZSBkZSBwcm9kdWl0IFBhbmllciIsImZvcm1hdCI6MCwic2NvcGUiOiJWSVNJVCIsInR5cGUiOiJVTklRVUUiLCJ2YXJpYWJsZU5hbWUiOiJvcmRlclByb2R1Y3ROdW1iZXIifSwiMTUiOnsibWV0aG9kIjoiQ1VTVE9NX0NPREUiLCJuYW1lIjoiTGFiZWwgcHJvZHVpdCIsImZvcm1hdCI6LTEsInNjb3BlIjoiUEFHRSIsInR5cGUiOiJVTklRVUUiLCJjdXN0b21FdmFsQ29kZSI6ImlmICh3aW5kb3cudGNfdmFycyAmJiB3aW5kb3cudGNfdmFycy5wcm9kdWN0X2JyZWFkY3J1bWJfbGFiZWwgJiYgd2luZG93LnRjX3ZhcnMucHJvZHVjdF9icmVhZGNydW1iX2xhYmVsWzBdKSB7XG5yZXR1cm4geyBcInZhbHVlXCI6IHdpbmRvdy50Y192YXJzLnByb2R1Y3RfYnJlYWRjcnVtYl9sYWJlbFswXSwgXCJvdmVyd3JpdGVcIjogdHJ1ZSB9fVxuZWxzZSByZXR1cm4gdW5kZWZpbmVkOyJ9LCIxNiI6eyJtZXRob2QiOiJUQyIsIm5hbWUiOiJ1c2VySWQiLCJmb3JtYXQiOjAsInNjb3BlIjoiVklTSVQiLCJ0eXBlIjoiVU5JUVVFIiwidmFyaWFibGVOYW1lIjoidXNlcklkIn0sIjE3Ijp7Im1ldGhvZCI6IkNMSUVOVCIsIm5hbWUiOiJDYXRfQ2xpY1R1aWxlUHJvZHVpdCIsImZvcm1hdCI6LTEsInNjb3BlIjoiUEFHRSIsInR5cGUiOiJVTklRVUUifSwiMTgiOnsibWV0aG9kIjoiQ1VTVE9NX0NPREUiLCJuYW1lIjoiR0EgSUQiLCJmb3JtYXQiOi0xLCJzY29wZSI6IlZJU0lUIiwidHlwZSI6IlVOSVFVRSIsImN1c3RvbUV2YWxDb2RlIjoiaWYgKHdpbmRvdz8uZ2E/LmdldEFsbCAmJiB0eXBlb2Ygd2luZG93LmdhLmdldEFsbCA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4geyBcInZhbHVlXCI6IHdpbmRvdy5nYS5nZXRBbGwoKVswXS5nZXQoXCJjbGllbnRJZFwiKSwgXCJvdmVyd3JpdGVcIjogdHJ1ZSB9O1xuZWxzZSByZXR1cm4gbnVsbDsifSwiMTkiOnsibWV0aG9kIjoiQ0xJRU5UIiwibmFtZSI6IlRvdXMgbm9zIHByb2R1aXRzIiwiZm9ybWF0IjotMSwic2NvcGUiOiJQQUdFIiwidHlwZSI6IlVOSVFVRSJ9LCIyMCI6eyJtZXRob2QiOiJUQyIsIm5hbWUiOiJwcm9kdWN0Um9sZV9WMiIsImZvcm1hdCI6MCwic2NvcGUiOiJQQUdFIiwidHlwZSI6IlVOSVFVRSIsInZhcmlhYmxlTmFtZSI6InByb2R1Y3RSb2xlX1YyIn0sIjIxIjp7Im1ldGhvZCI6IkNMSUVOVCIsIm5hbWUiOiJuYXZfaXRlbV9jbGlja2VkIiwiZm9ybWF0IjotMSwic2NvcGUiOiJQQUdFIiwidHlwZSI6IlVOSVFVRSJ9LCIyMiI6eyJtZXRob2QiOiJDTElFTlQiLCJuYW1lIjoiRm9ybWF0aW9uIGhlYWRlciIsImZvcm1hdCI6LTEsInNjb3BlIjoiVklTSVQiLCJ0eXBlIjoiQ09VTlRfTElTVCJ9LCIyMyI6eyJtZXRob2QiOiJDTElFTlQiLCJuYW1lIjoicHJvZHVjdFJvbGVfVjMiLCJmb3JtYXQiOi0xLCJzY29wZSI6IlZJU0lUIiwidHlwZSI6IkNPVU5UX0xJU1QifSwiMjQiOnsibWV0aG9kIjoiQ0xJRU5UIiwibmFtZSI6IlVuaXZlcnMiLCJmb3JtYXQiOi0xLCJzY29wZSI6IlZJU0lUIiwidHlwZSI6IkNPVU5UX0xJU1QifSwiMjUiOnsibWV0aG9kIjoiQ0xJRU5UIiwibmFtZSI6Ik1hcmNow6kiLCJmb3JtYXQiOi0xLCJzY29wZSI6IlZJU0lUIiwidHlwZSI6IkNPVU5UX0xJU1QifSwiMjYiOnsibWV0aG9kIjoiQ0xJRU5UIiwibmFtZSI6IlNlZ21lbnQiLCJmb3JtYXQiOi0xLCJzY29wZSI6IlZJU0lUIiwidHlwZSI6IkNPVU5UX0xJU1QifSwiMjciOnsibWV0aG9kIjoiVEMiLCJuYW1lIjoiQ2libGFnZV9DYXRlZ29yeSBQcm9kdWl0IiwiZm9ybWF0IjotMSwic2NvcGUiOiJQQUdFIiwidHlwZSI6IlVOSVFVRSIsInZhcmlhYmxlTmFtZSI6InBhZ2VfY2F0MyJ9LCIyOCI6eyJtZXRob2QiOiJDTElFTlQiLCJuYW1lIjoidHJhbnNhY3Rpb25fcHJvZHVjdFJvbGUiLCJmb3JtYXQiOi0xLCJzY29wZSI6IlZJU0lUIiwidHlwZSI6IlVOSVFVRSJ9LCIyOSI6eyJtZXRob2QiOiJDTElFTlQiLCJuYW1lIjoidHJhbnNhY3Rpb25fVW5pdmVycyIsImZvcm1hdCI6LTEsInNjb3BlIjoiVklTSVQiLCJ0eXBlIjoiVU5JUVVFIn0sIjMwIjp7Im1ldGhvZCI6IkNMSUVOVCIsIm5hbWUiOiJ0cmFuc2FjdGlvbl9NYXJjaMOpIiwiZm9ybWF0IjotMSwic2NvcGUiOiJWSVNJVCIsInR5cGUiOiJVTklRVUUifSwiMzEiOnsibWV0aG9kIjoiQ0xJRU5UIiwibmFtZSI6InRyYW5zYWN0aW9uX1NlZ21lbnQiLCJmb3JtYXQiOi0xLCJzY29wZSI6IlZJU0lUIiwidHlwZSI6IlVOSVFVRSJ9LCIzMiI6eyJtZXRob2QiOiJDTElFTlQiLCJuYW1lIjoiUGFnZSBkZSByZWJvbmQiLCJmb3JtYXQiOi0xLCJzY29wZSI6IlBBR0UiLCJ0eXBlIjoiVU5JUVVFIiwibG9jYWxPbmx5Ijp0cnVlfSwiMzMiOnsibWV0aG9kIjoiVEMiLCJuYW1lIjoiSURSQ0MgLSBNUyIsImZvcm1hdCI6MCwic2NvcGUiOiJWSVNJVE9SIiwidHlwZSI6IlVOSVFVRSIsIm1hcHBpbmdJZGVudGlmaWVyIjp0cnVlLCJ2YXJpYWJsZU5hbWUiOiJ1c2VyX2lkcmNjIn0sIjM0Ijp7Im1ldGhvZCI6IkNMSUVOVCIsIm5hbWUiOiJtYXRlbGFzIGxpc3RlIiwiZm9ybWF0IjotMSwic2NvcGUiOiJWSVNJVCIsInR5cGUiOiJVTklRVUUifSwiMzUiOnsibWV0aG9kIjoiQ0xJRU5UIiwibmFtZSI6ImthbVRvbHVuYSIsImZvcm1hdCI6LTEsInNjb3BlIjoiVklTSVQiLCJ0eXBlIjoiVU5JUVVFIn19fQ==","targetingSegmentIdToGoalIdsToKcs":{"138882":{"223933":{"14":null,"19":null}}},"isNewEditorEnabled":false}};
})();if (window.kameleoonLightIframe){if (window.kameleoonExternalIFrameLoadedData) { window.kameleoonQueue = window.kameleoonQueue || [];window.kameleoonQueue.push({level: 'IMMEDIATE',command: function () {Kameleoon.Utils.runProtectedScript(window.kameleoonExternalIFrameLoadedData);}}); Kameleoon.Analyst.load();}}else{Kameleoon.Analyst.load();}}